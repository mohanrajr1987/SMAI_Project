Positive 308 pI try to render the scene to texture which should be then displayed in corner of the screen.p  pI though that I can do that this wayp  ol liRender the scene my codeEnginerendercode method that will set shaders and make draw calls  strongworks okstrong.li liChange render target to the texture.li liRender the scene again  strongdoes not work.strong The codecontextgtClearRenderTargetViewtexturegtgetRenderTargetView,  1.0f, 0.0f, 0.0f, 1.0f  code strongdoesstrong set my texture to red color for scene in step 1. I use different color, but strongnonestrong objects are being rendered on it.li liChange render target back to original.li liRender the scene for the last time, with rectangle at corner that has the texture Ive rendered in step 3.  strongworks okstrong. I see the scene, the little rectangle in the corner too. The problem is, its just red something went wrong with rendering in step 3., I guess.li ol  pThe result there should be image in image instead of red rectangle a hrefhttpi.stack.imgur.comoORqU.jpg relnofollowimg srchttpi.stack.imgur.comoORqU.jpg altenter image description hereap  pThe code for steps 2.  4.p  precodecontextgtOMSetRenderTargets1, amptextureRenderTargetView, depthStencilView  float bg[4]   1.0f, 0.0f, 0.0f, 1.0f  contextgtClearRenderTargetViewtextureRenderTargetView, bg backgroundColor  red, green, blue, alpha render contextgtOMSetRenderTargets1, ampmyRenderTargetView, depthStencilView bind  render target back to previous value not to texture codepre  pThe coderendercode method does not change strongit works in step 1., why it doesnt work when I render to texturestrong and ends with codeswapChaingtPresent0, 0code.p  pI know that codeClearRenderTargetViewcode affects my texture without it, its doesnt change color to red. But the rest of rendering either do not output to it or theres another problem.p  pstrongDid I miss somethingstrongp  pI create the texture, shader resource view and render target for it based on a hrefhttpwww.braynzarsoft.netindex.phppD3D11RTT relnofollowthis tutoriala maybe there is an error in my codeD3D11TEXTURE2DDESCcodep  precodeD3D11TEXTURE2DDESC textureDesc D3D11RENDERTARGETVIEWDESC renderTargetViewDesc D3D11SHADERRESOURCEVIEWDESC shaderResourceViewDesc  1. create render target  ZeroMemoryamptextureDesc, sizeoftextureDesc  setup the texture description we will need to have this texture bound as a render target AND a shader resource textureDesc.Width  size.getX textureDesc.Height  size.getY textureDesc.MipLevels  1 textureDesc.ArraySize  1 textureDesc.Format  DXGIFORMATR32G32B32A32FLOAT textureDesc.SampleDesc.Count  1 textureDesc.Usage  D3D11USAGEDEFAULT textureDesc.BindFlags  D3D11BINDRENDERTARGET  D3D11BINDSHADERRESOURCE textureDesc.CPUAccessFlags  0 textureDesc.MiscFlags  0  create the texture devicegtCreateTexture2DamptextureDesc, NULL, amptextureRenderTarget  2. create render target view  setup the description of the render target view. renderTargetViewDesc.Format  textureDesc.Format renderTargetViewDesc.ViewDimension  D3D11RTVDIMENSIONTEXTURE2D renderTargetViewDesc.Texture2D.MipSlice  0  create the render target view devicegtCreateRenderTargetViewtextureRenderTarget, amprenderTargetViewDesc, amptextureRenderTargetView  3. create shader resource view  setup the description of the shader resource view. shaderResourceViewDesc.Format  textureDesc.Format shaderResourceViewDesc.ViewDimension  D3D11SRVDIMENSIONTEXTURE2D shaderResourceViewDesc.Texture2D.MostDetailedMip  0 shaderResourceViewDesc.Texture2D.MipLevels  1  create the shader resource view. devicegtCreateShaderResourceViewtextureRenderTarget, ampshaderResourceViewDesc, amptexture codepre  pThe depth bufferp  precodeD3D11TEXTURE2DDESC descDepth ZeroMemoryampdescDepth, sizeofdescDepth descDepth.Width  width descDepth.Height  height descDepth.MipLevels  1 descDepth.ArraySize  1 descDepth.Format  DXGIFORMATD24UNORMS8UINT descDepth.SampleDesc.Count  sampleCount descDepth.SampleDesc.Quality  maxQualityLevel descDepth.Usage  D3D11USAGEDEFAULT descDepth.BindFlags  D3D11BINDDEPTHSTENCIL descDepth.CPUAccessFlags  0 descDepth.MiscFlags  0 codepre  pAnd here goes the swap chainp  precodeDXGISWAPCHAINDESC sd ZeroMemoryampsd, sizeofsd sd.BufferCount  1 sd.BufferDesc.Width  width sd.BufferDesc.Height  height sd.BufferDesc.Format  DXGIFORMATR8G8B8A8UNORM sd.BufferDesc.RefreshRate.Numerator  numerator 60 sd.BufferDesc.RefreshRate.Denominator  denominator 1 sd.BufferUsage  DXGIUSAGERENDERTARGETOUTPUT sd.OutputWindow  hwnd sd.SampleDesc.Count  sampleCount 1 and 0 for quality to turn off multisampling sd.SampleDesc.Quality  maxQualityLevel sd.Windowed  fullScreen  FALSE  TRUE sd.Flags  DXGISWAPCHAINFLAGALLOWMODESWITCH allow fullscreen switchin   Set the scan line ordering and scaling to unspecified. sd.BufferDesc.ScanlineOrdering  DXGIMODESCANLINEORDERUNSPECIFIED sd.BufferDesc.Scaling  DXGIMODESCALINGUNSPECIFIED  Discard the back buffer contents after presenting. sd.SwapEffect  DXGISWAPEFFECTDISCARD codepre  pI create the default render target view that wayp  precodecreate a render target view ID3D11Texture2D pBackBuffer  NULL result  swapChaingtGetBuffer0, uuidofID3D11Texture2D, LPVOIDamppBackBuffer ERRORHANDLESUCCEEDEDresult, LThe swapChaingtGetBuffer failed., MODGRAPHIC  Create the render target view with the back buffer pointer. result  devicegtCreateRenderTargetViewpBackBuffer, NULL, ampmyRenderTargetView codepre
Positive 308 pI am trying to compile a very simple Effect Shader targeting DirectX9 and shader model 2. I am trying to pass in directly the screen coords for the vertex Positions instead of multiplying by a world, view, and projection matrices so I use the POSITIONT semantic instead of the POSTION0 semantic in the VertexShaderInput structure. However when I try to compile the shader using p  precodefxc.exe Od Zi T fx20 Fo simple.fxo simple.fx codepre  pI get the following error error X4502 Invalid input semantics  POSITIONT0p  pIt seems to be automatically adding a 0 to the end of the semantic for some reason. This seems like I bug to me because POSITIONT is clear described as a valid input semantic here a hrefhttpsmsdn.microsoft.comenuslibrarywindowsdesktopbb509647vvs.85.aspxPS relnofollowhttpsmsdn.microsoft.comenuslibrarywindowsdesktopbb509647vvs.85.aspxPSap  pand it is the only one that does not allow extra integers to be appended at the end of the semantic. p  pEDIT I have just discovered that if I change POSITIONT to POSITIONT1 it works fine. This seem counter to what the documentation above describes.p  pContents of simple.fxp  precodestruct VertexShaderInput    float4 Position  POSITIONT   float4 Color  COLOR0   struct VertexShaderOutput    float4 Position  POSITION0   float4 Color  COLOR0   VertexShaderOutput VertexShaderFunctionVertexShaderInput input     VertexShaderOutput output   output.Position  input.Position   output.Color  input.Color   return output    float4 PixelShaderFunctionVertexShaderOutput input  COLOR0    return input.Color   technique Ambient    pass Pass1        VertexShader  compile vs20 VertexShaderFunction     PixelShader  compile ps20 PixelShaderFunction     codepre
Positive 308 pI am developing an image viewer where graphics are rendered with antialiased mode. Images can be first edited using Autocad that generates DXF files.p  pThe application is written by using Visual C and Direct2D.p  pAlthough I am able to load the image quite quickly, zoom and especially pan remain a problem for me if compared with the performance of Autocad for the same image same number of shapes.p  pFollowing is the piece of code aimed to render graphicsp  precodeauto shapes  quadTree.getvisibleshapes shapes.sortbyZorder  for each shape in shapes    shape.draw codepre  pAfter profiling I can say that more than the 90 of the computational time is spent in the loop aimed to draw the shapes.p  pDrawing only the visible shapes, thanks to the implementation of the Quadtree, has been a huge performance improvement I also render the graphics in aliased mode while panning, but there is still a big difference with Autocad.p  pI am wondering if Autocad draws a bitmap representation of the image, even if I didnt try this approach yet so I cannot tell if there could be an effective improvement in speed.p  pConsidering these hypothesis are there any ways to improve the action of pan and zoomp
Positive 308 pI understand that attempting to link objectslibraries that were compiled with different Visual C toolset versions will result in failure as was described here a hrefhttpstackoverflow.comquestions19575747errorlnk2038mismatchdetectedformscvervalue1600doesntmatchvaluerror LNK2038 mismatch detected for 39MSCVER39 value 39160039 doesn39t match value 39170039 in CppFile1.obja.p  pHowever, when working with the 2010 DirectX SDK there is seemingly no problem with linking to these old libraries eg. d3d11.lib, etc. even if we use VC121315. p  pWhy is it that we can link to these old DirectX libraries but not ones created by earlier versions of VC. Also, if not VC, what was used to compile these DirectX libraries in the first placep
Positive 308 pSo I was messing around with some text handling to go with DirectXTKs text rendering and I think I might have pissed off visual studio. After getting some errors because I tried to make it work with arrays out of bounds it gave me errors, and I dont know if I simply got the error too many times or if I by mistake tried to continue running the program beyond the error but now I get an error the same I think in a completly different class.p  precodeHRESULT hr wchart VSFilepath[250]  L wchart PSFilepath[250]  L  wchart SVSFilepath[250]  L wchart SPSFilepath[250]  L  wcscatsVSFilepath, directory wcscatsVSFilepath, LShadersPlayerPlayerVertexShader.hlsl wcscatsPSFilepath, directory wcscatsPSFilepath, LShadersPlayerPlayerPixelShader.hlsl  create vertex shader ID3DBlob pVS  nullptr hr  D3DCompileFromFileVSFilepath,                         nullptr,                         D3DCOMPILESTANDARDFILEINCLUDE,                         VSmain,                         vs50,                         0,                         NULL,                         amppVS,                         nullptr  hr  gDevicegtCreateVertexShaderpVSgtGetBufferPointer,                                  pVSgtGetBufferSize,                                  nullptr,                                  ampplayerVertexShader  create input layout verified using vertex shader D3D11INPUTELEMENTDESC inputDesc[]       POSITION, 0, DXGIFORMATR32G32B32FLOAT, 0,  0, D3D11INPUTPERVERTEXDATA, 0,     TEXCOORD, 0, DXGIFORMATR32G32FLOAT,    0, 12, D3D11INPUTPERVERTEXDATA, 0,     NORMAL,   0, DXGIFORMATR32G32B32FLOAT, 0, 20, D3D11INPUTPERVERTEXDATA, 0,   hr  gDevicegtCreateInputLayoutinputDesc,                                 ARRAYSIZEinputDesc,                                 pVSgtGetBufferPointer,                                 pVSgtGetBufferSize,                                 ampplayerVertexLayout pVSgtRelease  create pixel shader ID3DBlob pPS  nullptr hr  D3DCompileFromFilePSFilepath,                         nullptr,                         D3DCOMPILESTANDARDFILEINCLUDE,                         PSmain,                         ps50,                         0,                         NULL,                         amppPS,                         nullptr  hr  gDevicegtCreatePixelShaderpPSgtGetBufferPointer,                                 pPSgtGetBufferSize,                                 nullptr,                                 ampplayerPixelShader pPSgtRelease codepre  pBy stepping through the program I have come to the following conclusionp  pAfter I use a create shader function, CreateVertexShader for example, the next time I try to use D3DCompileFromFile the program stops and with Firstchance exception at 0x772BDBB7 in game.exe 0xC0000008 An invalid handle was specified.p  pIt doesnt matter if I try to comment out the CreateVertexShader, sure it can create the next pixelshader but the next D3DCompileFromFile gives me the same error, and all hr results are SOK.p  pThe thing is that his code has worked probably a hundred times before this and I havent changed anything related to it, so I am extremely confused as to what has happened.p
Positive 308 pYesterday I asked a question on how to implement viewport in Direct2D. Now, I know that I could use deviceSetTransform but I also want to crop objects in the window.p  pWhat I mean by crop is that sop  pimg srchttpi.stack.imgur.comD7xKa.jpg altbeforep  pwould become thisp  pimg srchttpi.imgur.comri2B5zW.jpg altafterp  pBasically, I just want to add split screen to my application... Any helpp
Positive 308 pevery time I call to transform render target in direct 2D I get this messagep  precodepRenderTargetgtSetTransformanymatrixotherthanidentity codepre  blockquote   pFirstchance exception at 0x7612C42D in class window.exe Microsoft   C exception CacheOverflowException at memory location 0x0039F318.p blockquote
Positive 308 pCurrently making some UI classes and UI elements for a game and am coming across an issue when scaling sprites using DirectX 9.p  pSo at the moment I have a codeID3DXSpritecode object codembarImagecode which is a health bar.  Obviously as the player health changes, the health bar needs to get longershorter.p  pSo I have this in my codeUpdatecode functionp  precode   Calculate the width of the bar taking into account the health amount   float width  mmaxWidth  100.0f  mpercentageFull     compare last width with mcurrentWidth to get a scaling ratio   float resizeRatio  width  mcurrentWidth   mcurrentWidth  width    Matrix scaleMatrix   D3DXMatrixScalingampscaleMatrix, resizeRatio, 1.0f, 1.0f   mbarImagegtSetTransformampscaleMatrix codepre  pand in my codeRendercode function I have p  precode  mbarImagegtBeginNULL    mbarImagegtDrawmtexture, NULL, NULL, ampmposition, 0x007F17    mbarImagegtEnd codepre  pMy problem is, as I scale the sprite down in size in the X axis, the position at which the sprite is rended moves to the left.p  pstrongNOTE codempositioncode is the position of the sprite set in the constructor and is does NOT changestrongp  pSomething when scaling the sprite is changing the position at which it is rendered.p  pCan anyone helpp
Positive 308 pIve been reading Introduction to 3D Game Programming with DirectX 11. Great title.p  pI would like to know, is there a script for exporting meshes, from standard 3D software, in the format bellowp  precodeVertexCount 31076 TriangleCount 60339 VertexList pos, normal      0.592978 1.92413 2.62486 0.572276 0.816877 0.0721907     0.571224 1.94331 2.66948 0.572276 0.816877 0.0721907     0.609047 1.90942 2.58578 0.572276 0.816877 0.0721907     ...  TriangleList      0 1 2     3 4 5     6 7 8     ...  codepre
Positive 308 pI am acquiring DX9 object on Intel i7 4770R processor in an opencl code.I am using the below code to acquire the object.p  precode clmem    surfaces[4] mclbuffer[0],                          mclbuffer[1],                          mclbuffer[2],                          mclbuffer[3]   error  clEnqueueAcquireDX9ObjectsINTELmclqueue, 4, surfaces, 0, NULL, NULL codepre  pMy kernel Codep  precodekernel void deinterlaceYtopglobal char YIn, global char YOut  int idx  getglobalid0  char temp  YIn[idx]  YOut[idx]  temp    set kernelYtop parameters error  clSetKernelArgclkernelYtop, 0, sizeofclmem, ampmclbuffer[0] codepre  pWhen I run this code it throws an error of CLINVALIDARGVALUE. Reason seems is I am acquiring DX9 object which might be an image object created using DX9 media surface resource. So when I run after changing the Kernel code as below it works fine.p  pNew kernel Code which works fine.     kernel void deinterlaceYtopreadonly image2dt YIn, writeonly image2dt YOut     p  precode    int2 coordsrcread  int2getglobalid0,1     int2 coordsrcwrite  int2getglobalid0, getglobalid1      const samplert smp  CLKFILTERNEAREST  CLKNORMALIZEDCOORDSFALSE  CLKADDRESSCLAMPTOEDGE       copy the top linelines as per the MODE TFFBFF      uint4 pixel  readimageuiYIn,  smp, coordsrcread         writeimageuiYOut, coordsrcwrite ,pixel   codepre  pMy real question is What is the way to read like global buffer from this DX9 object. Where should I make the changes in the code, Since it will help me to read 8 pixels in one cycle.p
Negative 308 pCan you help me with thisp  pI am creating an event planner and I have a function that consist of hour range. For example I have an event BIRTHDAY and this event is started from 131500 hours to 183000 hours. Now how can I count the hours inside this rangep  pI have a code like thisp  precodeltphp  start  131500 end  183000  time  strtotimestart timeStop  strtotimeend  how can I count the hours inside  gt codepre
Negative 308 pIm trying to implement some hooks into a WordPress theme, but rather than write out every function with repetitive code I was wondering if I could use an array to declare the functions instead.p  pE.g. ordinarily id use something likep  precodefunction hookname1      doaction hookname1    function hookname2      doaction hookname2   codepre  pIs there a way to place the hookfunction names into an array and then call them with one foreach loop or something similar Something like the followingp  precodehookarray  array homename1, hookname2   foreach hookarray as hook      function hook          doaction GLOBALS[hook]    codepre  pThe doaction doaction part within the function works fine like this, but its the variable function names that I cant figure out.p  pIs it possible to set an array like this and then create the function names from the array valuesp
Negative 308 pI am using sierra wireless modem MC8790V with TIs kernel 2.6.37, and noticed that ping from one unit to another is possible only if ping data length is limited to 479 ping w 479, any larger length fails. Not only that it fails, but later there is no more ping in the smaller length until reseting the received unit.  Is anyone jere familiar with this Is it because packet length of bulk tansfer is limited to 512 maybe some bug in usbserial driver or in my specific sierra wireless driver p  pThank you for your time,p  pRanp
Negative 308 pMaybe Im being completely stupid, but with the following simple function, I am told there is a reference error, with isEven being undefinedp  precodevar isEven  functionnumber      if number20          return true          else          return false       codepre  pIs there something that Ive missed that Im doing wrongp
Negative 308 pI try to filter some data using dropdown option. When user select yeardivision and click filter button, it suppose to read all row from database that contain the value. This is as far as I can go and it didnt work. Really hope someone can help me. p  precode if issetGET[do]      ifGET[do]  filter              if emptyPOST[keyyear]                      redirectlist.php                  else                         SESSION[keyyear]  POST[keyyear]                      SESSION[keydivision]  POST[keydivision]                            else ifGET[do]  clear              unsetSESSION[keyyear]         redirectlist.php          else         limit  10     page   issetGET[page]   GET[page]  1    end   issetGET[page]   limit  GET[page]  limit offset   issetGET[page]   limit  GET[page]  limit  0 start  offset 1 next  page  1 prev  page  1 keyyear   issetSESSION[keyyear]   SESSION[keyyear]   keyyear   issetSESSION[keydivision]   SESSION[keydivision]    sql   SELECT  FROM tblperfomance  sql . ORDER BY paid ASC sql .  LIMIT offset, limit rs  mysqlquerysql  sql2SELECT COUNTpaid AS total FROM tblperfomance  ifissetkeyyear ampamp issetkeydivision      sql2 . WHERE pyear LIKE keyyear AND pdivision LIKE keydivision  rs2mysqlquerysql2 getRec  mysqlfetchassocrs2 total rowCountgetRec[total] end  end gt rowCount  rowCount  end totalpage  ceilrowCountlimit  forstart   page lt 2   1  page  2 forstoptmp  page  2 forstop    forstoptmp gt totalpage   totalpage  page  2  codepre  pThis is the form.p  precode            ltform namefilter actionlist.phpdofilter methodGETgt                     ltlabelgt                     ltlabel stylecolordarkgreenfloatleftwidth11 alignleftgt                         Division                         ltselect namekeydivisiongt                             ltoption valueAllgtAllltoptiongt                             ltoption valueITNTgtITNTltoptiongt                            ltoption valueITPgtITPltoptiongt                         ltselectgt                     ltlabelgt     gt                                     ltlabel stylecolordarkgreenfloatleftwidth11 alignleftgt                                                    Year                                 ltselect namekeyyeargt                             ltoption valueallgtAllltoptiongt                             ltoption value2014gt2014ltoptiongt                             ltoption value2015gt2015ltoptiongt                         ltselectgt                     ltlabelgt                     ltlabel stylecolordarkgreenfloatleftwidth11 alignleftgt                     ltlabelgtltbrgt                         ltinput classbuttongreen typesubmit valueFilter ampraquo gt               ltformgt  codepre
Negative 308 pIve written a trigger to insert a record into an invoice table every time a prescription is written for a patient. The row inserted to the invoice table by the trigger uses a foreign key from the prescriptions table. But im getting the errorp  pCannot add or update a child row a foreign key constraint fails codetestcode.codeinvoicecode, CONSTRAINT codePrescriptionIDcode FOREIGN KEY codePrescriptionIDcodep  pSo despite the fact the trigger time is AFTER INSERT my relationship fails because the record doesnt exist yet.p  pIs there a way around this or am I missing somethingp  precodeCREATE DEFINER  CURRENTUSER TRIGGER test.prescriptionAFTERINSERT  AFTER INSERT ON prescription  FOR EACH ROW begin     INSERT INTO invoice PrescriptionID, AmountDue         SELECT pr.PrescriptionID, CASE         WHEN pa.PrescriptionCodeID  FF THEN 0         WHEN pa.PrescriptionCodeID  MM THEN 8         END     FROM prescription AS pr     JOIN patients AS pa     ON pa.PatientID  pr.PatientID     WHERE pr.prescriptionID  NEW.prescriptionID END codepre
Negative 308 pI wrote a page with a codenews.readscode Facebook action. After the user has been on a specific article in excess of 10 seconds it will push a codenews.readscode action to Facebook and then show that action in the updated Facebook facepile plugin.p  pTill a few months ago, this worked flawlessly  the action got pushed and facepile got refreshed using codeFB.XFBML.parsecode. Now Ive noticed that facepile is not updating dynamically via this JS call, but is updated when you reload the whole page.p  pUp till now Ive tried the HTML5 and XFBML approach of implementing the facepile plugin and tried passing every possible DOM node to codeFB.XFBML.parsecode, but nothing seems to work...p  pDo any of you guys have the same problem and if so, is it a known Facebook bug and they just dont give a  about itp  pstrong[EDIT]strongp  pWell the answer to this isp  precodejQuerydocument.readyfunction      var facepile  .fbfacepile,         facepilenew  facepile             .clone             .empty             .attrdataheight, 62  optional             .removeAttrfbxfbmlstate     facepile         .afterfacepilenew         .remove     FB.XFBML.parse  codepre
Negative 308 pAnyone can explain how to get for instance the sample running p  pI downloaded the ometajs rep from github and opened index.htm, which results in an error. The hosted version at a hrefhttpwww.tinlizzie.orgometajs relnofollowhttpwww.tinlizzie.orgometajsa displays errors inside the sourcecode whenever I do anything.p  p a simple recognizer, produces no useful valuep  pometa L    number    digit,   addExpr   addExpr  mulExpr             addExpr  mulExpr             mulExpr,   mulExpr   mulExpr  primExpr             mulExpr  primExpr             primExpr,   primExpr   expr              number,   expr      addExpr p  pL.matchAll643, exprp
Negative 308 pI have a webapp configured with a pom.xml. This webapp relies on another maven module that produce a jar file. When i check the produced jar file size it is 8Ko. When i check this same jar file in my lib web application, it is 5Ko.p  pA bunch of classes are simply ignored when the jar file reaches my lib directory, causing ClassNotFoundException when runing the web application.p  pWhy is my jar trimmed p  pstrongWebapp pom.xmlstrongp  precodeltproject xmlnshttpmaven.apache.orgPOM4.0.0 xmlnsxsihttpwww.w3.org2001XMLSchemainstance xsischemaLocationhttpmaven.apache.orgPOM4.0.0 httpmaven.apache.orgmavenv400.xsdgt ltmodelVersiongt4.0.0ltmodelVersiongt ltparentgt     ltartifactIdgtrecordltartifactIdgt     ltgroupIdgtcom.company.recordltgroupIdgt     ltversiongt1.0.0ltversiongt ltparentgt ltgroupIdgtcom.company.recordltgroupIdgt ltartifactIdgtrecordwebappltartifactIdgt ltpackaginggtwarltpackaginggt ltnamegtrecordwebappltnamegt ltversiongt1.0.0ltversiongt  ltdependenciesgt     lt JSF 2.0 gt     ltdependencygt         ltgroupIdgtcom.sun.facesltgroupIdgt         ltartifactIdgtjsfapiltartifactIdgt         ltversiongt2.0.3b02ltversiongt         lttypegtjarlttypegt         ltscopegtcompileltscopegt     ltdependencygt     ltdependencygt         ltgroupIdgtcom.sun.facesltgroupIdgt         ltartifactIdgtjsfimplltartifactIdgt         ltversiongt2.0.3b02ltversiongt         lttypegtjarlttypegt         ltscopegtcompileltscopegt     ltdependencygt      lt Primefaces gt     ltdependencygt         ltgroupIdgtorg.primefacesltgroupIdgt         ltartifactIdgtprimefacesltartifactIdgt         ltversiongt2.2ltversiongt         lttypegtjarlttypegt         ltscopegtcompileltscopegt     ltdependencygt     ltdependencygt         ltgroupIdgtorg.primefaces.themesltgroupIdgt         ltartifactIdgtredmondltartifactIdgt         ltversiongt1.0.0ltversiongt     ltdependencygt      lt Internal dependencies gt     ltdependencygt         ltgroupIdgtcom.company.recordltgroupIdgt         ltartifactIdgtrecorddaoltartifactIdgt         ltversiongt1.0.0ltversiongt         lttypegtjarlttypegt         ltscopegtcompileltscopegt     ltdependencygt ltdependenciesgt  ltbuildgt     ltfinalNamegtrecordltfinalNamegt     ltpluginsgt         ltplugingt             ltgroupIdgtorg.codehaus.mojoltgroupIdgt             ltartifactIdgtjbossmavenpluginltartifactIdgt             ltversiongt1.5.0ltversiongt             ltconfigurationgt                 ltserverNamegtwebltserverNamegt             ltconfigurationgt         ltplugingt     ltpluginsgt ltbuildgt  ltrepositoriesgt     ltrepositorygt         ltidgtprimerepoltidgt         ltnamegtPrime Technology Maven Repositoryltnamegt         lturlgthttprepository.prime.com.trlturlgt         ltlayoutgtdefaultltlayoutgt     ltrepositorygt ltrepositoriesgt codepre  pp  pstrongrecorddao pom.xmlstrongp  precodeltproject xsischemaLocationhttpmaven.apache.orgPOM4.0.0 httpmaven.apache.orgxsdmaven4.0.0.xsd xmlnshttpmaven.apache.orgPOM4.0.0 xmlnsxsihttpwww.w3.org2001XMLSchemainstancegt ltmodelVersiongt4.0.0ltmodelVersiongt ltparentgt     ltartifactIdgtrecordltartifactIdgt     ltgroupIdgtcom.company.recordltgroupIdgt     ltversiongt1.0.0ltversiongt ltparentgt  ltgroupIdgtcom.company.recordltgroupIdgt ltartifactIdgtrecorddaoltartifactIdgt ltversiongt1.0.0ltversiongt ltpackaginggtjarltpackaginggt ltnamegtrecorddaoltnamegt  ltdependenciesgt     lt Hibernate gt     ltdependencygt         ltgroupIdgtorg.hibernateltgroupIdgt         ltartifactIdgthibernateentitymanagerltartifactIdgt         ltversiongt3.6.4.Finalltversiongt         ltexclusionsgt             ltexclusiongt                 ltartifactIdgtcglibltartifactIdgt                 ltgroupIdgtcglibltgroupIdgt             ltexclusiongt             ltexclusiongt                 ltartifactIdgtantlrltartifactIdgt                 ltgroupIdgtantlrltgroupIdgt             ltexclusiongt             ltexclusiongt                 ltartifactIdgtjtaltartifactIdgt                 ltgroupIdgtjavax.transactionltgroupIdgt             ltexclusiongt             ltexclusiongt                 ltartifactIdgtcommonscollectionsltartifactIdgt                 ltgroupIdgtcommonscollectionsltgroupIdgt             ltexclusiongt             ltexclusiongt                 ltartifactIdgthibernatecommonsannotationsltartifactIdgt                 ltgroupIdgtorg.hibernateltgroupIdgt             ltexclusiongt         ltexclusionsgt     ltdependencygt      lt Postgresql gt     ltdependencygt         ltgroupIdgtpostgresqlltgroupIdgt         ltartifactIdgtpostgresqlltartifactIdgt         ltversiongt8.3606.jdbc4ltversiongt         lttypegtjarlttypegt         ltscopegtcompileltscopegt     ltdependencygt      lt Internal dependencies gt     ltdependencygt         ltgroupIdgtcom.company.recordltgroupIdgt         ltartifactIdgtrecordcommunltartifactIdgt         ltversiongt1.0.0ltversiongt         lttypegtjarlttypegt         ltscopegtcompileltscopegt     ltdependencygt ltdependenciesgt codepre  pp
Negative 308 pI am doing an call recording application. My problem is that the recording works fine when a call is received but it does not stop recording. My code and the logcat are below. Any form of help is greatly appreciated.p  pMy codep  precode    public class IncomingCallReceiver extends BroadcastReceiver      private MediaRecorder mRecorder     Override     public void onReceiveContext context, Intent intent              Bundle bundle  intent.getExtras             ifnull  bundle                     return             String state  bundle.getStringTelephonyManager.EXTRASTATE             ifstate.equalsIgnoreCaseTelephonyManager.EXTRASTATERINGING                                       else if state.equalsIgnoreCaseTelephonyManager.EXTRASTATEOFFHOOK                 Log.iTelephonyManager, Call picked up                 mRecorder  new MediaRecorder                 mRecorder.setAudioSourceMediaRecorder.AudioSource.MIC                 mRecorder.setOutputFormatMediaRecorder.OutputFormat.MPEG4                 mRecorder.setAudioEncoderMediaRecorder.AudioEncoder.AMRNB                 mRecorder.setAudioEncodingBitRate16                 mRecorder.setAudioSamplingRate44100                 mRecorder.setOutputFilesdcardRecordingcallrecord.mp4                 try                     mRecorder.prepare                                  catchIOException e                                  mRecorder.start                 Log.iStartRecordingCall, Recording Call end                          else if state.equalsIgnoreCaseTelephonyManager.EXTRASTATEIDLE                 Log.iTelephonyManager, Call hunged up                 mRecorder.stop                 mRecorder.release                 mRecordernull                   codepre  p LogCatp  precode1211 225351.502 EMediaRecorder2831 stop called in an invalid state 1 1211 225351.502 DAndroidRuntime2831 Shutting down VM 1211 225351.502 Wdalvikvm2831 threadid1 thread exiting with uncaught exception group0x2b544300 1211 225351.502 EAndroidRuntime2831 FATAL EXCEPTION main 1211 225351.502 EAndroidRuntime2831 java.lang.RuntimeException Unable to start receiver com.example.callrecorder.IncomingCallReceiver java.lang.IllegalStateException 1211 225351.502 EAndroidRuntime2831 at android.app.ActivityThread.handleReceiverActivityThread.java2362 1211 225351.502 EAndroidRuntime2831 at android.app.ActivityThread.access1500ActivityThread.java142 1211 225351.502 EAndroidRuntime2831 at android.app.ActivityThreadH.handleMessageActivityThread.java1284 1211 225351.502 EAndroidRuntime2831 at android.os.Handler.dispatchMessageHandler.java99 1211 225351.502 EAndroidRuntime2831 at android.os.Looper.loopLooper.java137 1211 225351.502 EAndroidRuntime2831 at android.app.ActivityThread.mainActivityThread.java4931 1211 225351.502 EAndroidRuntime2831 at java.lang.reflect.Method.invokeNativeNative Method 1211 225351.502 EAndroidRuntime2831 at java.lang.reflect.Method.invokeMethod.java511 1211 225351.502 EAndroidRuntime2831 at com.android.internal.os.ZygoteInitMethodAndArgsCaller.runZygoteInit.java791 1211 225351.502 EAndroidRuntime2831 at com.android.internal.os.ZygoteInit.mainZygoteInit.java558 1211 225351.502 EAndroidRuntime2831 at dalvik.system.NativeStart.mainNative Method 1211 225351.502 EAndroidRuntime2831 Caused by java.lang.IllegalStateException 1211 225351.502 EAndroidRuntime2831 at android.media.MediaRecorder.stopNative Method 1211 225351.502 EAndroidRuntime2831 at com.example.callrecorder.IncomingCallReceiver.onReceiveIncomingCallReceiver.java63 1211 225351.502 EAndroidRuntime2831 at android.app.ActivityThread.handleReceiverActivityThread.java2355 1211 225351.502 EAndroidRuntime2831 ... 10 more codepre
