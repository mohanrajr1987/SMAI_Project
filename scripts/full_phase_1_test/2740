Positive 2740 pI started learning jsp and did some simple web application examples. I am coding a simple shop and dynamic webapp name is Book0. The index.html redirects p  precoderesponse.sendRedirectBook0eshop codepre  pwhile the item list is null initial access.p  pNow I deployed the application on tomcat via .war export on eclipse. I had the servlet coded on servlet.Servlet0p  pthe web.xml for the app, I added on top welcome file list on generic eclipse web.xmlp  precodeltservletgt    ltservletnamegtEshopServlet0ltservletnamegt    ltservletclassgtservlet.Servlet0ltservletclassgt ltservletgt ltservletmappinggt    ltservletnamegtEshopServlet0ltservletnamegt    lturlpatterngteshoplturlpatterngt ltservletmappinggt codepre  pMy other application has been working so far. But this one hits 404 when redirects to the servlet.. Any ideas what has gone wrong. Thxp
Positive 2740 pIt works but only at the first click. After that, the value stay the same 1 and i dont understand how to do or where the problem come from.p  pThis is my bean i simplify the exemplep  precode package com.oc.beans   public class Vote       protected int vote      public Vote      public int getVote          return vote          public void setVoteint vote          this.votevote          public int getVoting          return this.vote        codepre  pThis is my Servletp  precodepackage com.oc.vote  import java.io.IOException  import javax.servlet.ServletException import javax.servlet.http.  import com.oc.beans.Vote  SuppressWarningsserial public class VoteServlet extends HttpServlet       public void doGetHttpServletRequest req, HttpServletResponse resp             throws IOException, ServletException           this.getServletContext.getRequestDispatcherindex.jsp.forwardreq, resp               public void doPostHttpServletRequest req, HttpServletResponse resp                 throws IOException, ServletException                   Vote usernew Vote                 user.getVoting                 req.setAttributeuser,user                 this.getServletContext.getRequestDispatcherindex.jsp.forwardreq, resp             codepre  pThis is my Jspp  precodelt page languagejava contentTypetexthtml charsetUTF8  pageEncodingUTF8gt lt taglib prefixc urihttpjava.sun.comjspjstlcore gt ltDOCTYPE htmlgt lthtmlgt   ltheadgt     ltmeta httpequivcontenttype contenttexthtml charsetUTF8gt     lttitlegtVoting systemlttitlegt   ltheadgt   ltbodygt     ltform methodpost actiongt         ltbutton typesubmitgtltimg srcplus.png altcross gtltbuttongt     ltformgt     ltpgtVote  ltcout value user.vote  gtltpgt     ltpgt   ltbodygt lthtmlgt codepre
Positive 2740 pi have a html file i want to load data from the mssql db, how to do it Can anyone explain the architecture What is the role of JSON role herep
Positive 2740 pI am new in the field of website development. I have created a small java application, I want to make a website where I can upload my java application along with it I also want to make a web application using java Servlet having same functionalities as my java offline application to make it work online.p  pI making a website offline using html css javascript and java servlet. I am about to finish my work. please tell me the procedure how can i put my website on webp
Positive 2740 pIm with the following problem I get the parameters from .jsp, it sends to a function, but in there, it SAVES the parameters in DB, but redirects to the error file. p  precodeprotected void doPostHttpServletRequest request, HttpServletResponse response throws ServletException, IOException           TODO Autogenerated method stub         try                         if request.getParameterform.equalsinsertEmpresa                             inserirEmpresarequest,response                         else if request.getParameterform.equalsinsertUsuario                             inserirUsuariorequest, response                                                  else if request.getParameterform.equalslogin                             processarLoginUsuariorequest,response                                  catchException e             response.sendRedirecterro.jsp          codepre  pThe servlet access the inserirEmpresa function, but when it gets in there it goes to BO, DAO, saves the data in DB, but redirects wrongly Im sure that its getting into this specific error, already tried commenting the else partp  precodeprotected void inserirEmpresaHttpServletRequest request, HttpServletResponse response throws ServletException, IOException, Exception          EmpresaBO ebo  new EmpresaBO         try             ifebo.inserirrequest.getParametercnpj, request.getParameternome, request.getParameterendereco, Integer.parseIntrequest.getParametertelefone,                     Integer.parseIntrequest.getParameterddd, request.getParameteremail, request.getParametersenha  true                 request.getRequestDispatcherindex.jsp.forwardrequest, response             else                 System.out.printlnErro no inserirEmpresa                 request.setAttributemsg, Ocorreu um erro no cadastro                 request.getRequestDispatchererro.jsp.forwardrequest, response                      catchException e             throw new Excecaoe               codepre  pThank youp
Positive 2740 pI am coding for a Login Application using Cookies with Spring MVC. there, while I am Logging into the application the cookie is not adding to the response object for the first time.But if I submit the same form for 3 times the Cookie will added to the response object and it will forwarding to the next request.p  pHere is the code,p  h2user.jsph2  precodelth1gtUser Loginlth1gt     ltform action.login.htm methodpostgt         lttablegt             lttrgt                 lttdgtUser Email lttdgt                 lttdgtltinput nameemail gtlttdgt             lttrgt             lttrgt                 lttdgtUser Password lttdgt                 lttdgtltinput typepassword namepwd gtlttdgt             lttrgt             lttrgt                 lttd colspan2gtltinput typesubmit valueLogingtlttdgt             lttrgt         lttablegt     ltformgt codepre  h2UserController.javah2  precodeRequestMappingvalue  login,methodRequestMethod.POST     public String doLoginRequestParamemail String email,             RequestParampwdString pwd, HttpSession session, HttpServletRequest request,HttpServletResponse response         Cookie cookie  new Cookiepwd, email         cookie.setMaxAge12         response.addCookiecookie         Cookie[] cookies  request.getCookies         System.out.printlnBeforecookies.length         return forwardmails.htm           RequestMappingmails     public String showMailsHttpServletRequest request,HttpServletResponse response         Cookie[] cookies  request.getCookies         System.out.printlnAftercookies.length         String pwd           forCookie cookie  cookies             System.out.printlncookie.getName             ifpwd.equalscookie.getName                 pwd  cookie.getValue                 System.out.printlnpwd                 break                               ifpwd.equals             MapltString, Mailgt mails  initDummyMails             request.setAttributemails, mails             return mails         else             request.setAttributeerrors, ltfont colorredgtlth1gtSession Timedout...Login Againlth1gtltfontgt             return user                     public MapltString, Mailgt initDummyMails         MapltString , Mailgt mails  new HashMapltString, Mailgt         forint i  0ilt10 i             mails.putmaili, new MailFrom Maili, Subject Testi                  return mails      codepre  pI spent like 3 hours for this..Please someone help on this...p  pThanks.p
Positive 2740 pI decided to move my authorization functionality to another controller, however this caused some issues for me. Mainly, my callback controller cannot forward the GET request to the appropriate dispatcher servletp  pcodeDispatcherServlet with name Auth processing GET request for [userusername]code this should be Dashboard dispatcher servletp  pMy view layer is making use of spring, tiles 2, and thymeleaf integration. I have found this comment on stackoverflow, which shed some light on my situation. a hrefhttpstackoverflow.coma134060962276284httpstackoverflow.coma134060962276284a p  pcodeSecondly, when using Spring  Tiles, and returning some JSP in your tiles definition, it is treated as an internal forward request, and handled by the same servlet as the original request.codep  pI found this stackoverflow comment as well, but it did not work for me. a hrefhttpstackoverflow.coma172325322276284httpstackoverflow.coma172325322276284a Suggesting returning a new ModelAndView, or using the HttpServletResponse to redirect.p  pHow can I successfully redirect to another controllerviewp  pstrongweb.xmlstrongp  precodeltxml version1.0 encodingUTF8gt ltwebapp xmlnsxsihttpwww.w3.org2001XMLSchemainstance           xmlnshttpxmlns.jcp.orgxmlnsjavaee           xsischemaLocationhttpxmlns.jcp.orgxmlnsjavaee                               httpxmlns.jcp.orgxmlnsjavaeewebapp31.xsd                               idpue version3.1gt     lt webapp properties gt     ltdisplaynamegtPUEltdisplaynamegt     ltdescriptiongtPersonal User Engagement for Instagramltdescriptiongt      lt session listener gt     ltlistenergt         ltlistenerclassgtorg.springframework.web.context.request.RequestContextListenerltlistenerclassgt     ltlistenergt      lt root context gt     ltlistenergt         ltlistenerclassgtorg.springframework.web.context.ContextLoaderListenerltlistenerclassgt     ltlistenergt     ltcontextparamgt         ltparamnamegtcontextConfigLocationltparamnamegt         ltparamvaluegtclasspathspringappcontext.xmlltparamvaluegt     ltcontextparamgt      lt spring security filter gt     ltfiltergt         ltfilternamegtspringSecurityFilterChainltfilternamegt         ltfilterclassgtorg.springframework.web.filter.DelegatingFilterProxyltfilterclassgt     ltfiltergt     ltfiltermappinggt         ltfilternamegtspringSecurityFilterChainltfilternamegt         lturlpatterngtlturlpatterngt     ltfiltermappinggt      lt custom redirect filter gt     ltfiltergt         ltfilternamegtpueUsernameAuthFilterltfilternamegt         ltfilterclassgtabnd.pue.auth.service.impl.PUEUsernameAuthFilterltfilterclassgt     ltfiltergt     ltfiltermappinggt         ltfilternamegtpueUsernameAuthFilterltfilternamegt         lturlpatterngtlturlpatterngt     ltfiltermappinggt      lt servlet config gt     ltservletgt         ltservletnamegtAuthltservletnamegt         ltservletclassgtorg.springframework.web.servlet.DispatcherServletltservletclassgt         ltinitparamgt             ltparamnamegtcontextConfigLocationltparamnamegt             ltparamvaluegtclasspathspringservletsauthservlet.xmlltparamvaluegt         ltinitparamgt         ltloadonstartupgt1ltloadonstartupgt     ltservletgt      ltservletgt         ltservletnamegtIgOauthltservletnamegt         ltservletclassgtorg.springframework.web.servlet.DispatcherServletltservletclassgt         ltinitparamgt             ltparamnamegtcontextConfigLocationltparamnamegt             ltparamvaluegtclasspathspringservletsigoauthservlet.xmlltparamvaluegt         ltinitparamgt         ltloadonstartupgt1ltloadonstartupgt     ltservletgt      ltservletgt         ltservletnamegtDashboardltservletnamegt         ltservletclassgtorg.springframework.web.servlet.DispatcherServletltservletclassgt         ltinitparamgt             ltparamnamegtcontextConfigLocationltparamnamegt             ltparamvaluegtclasspathspringservletsdashboardservlet.xmlltparamvaluegt         ltinitparamgt         ltloadonstartupgt1ltloadonstartupgt     ltservletgt      lt servlet mapping config gt      ltservletmappinggt         ltservletnamegtAuthltservletnamegt         lturlpatterngtlogoutlturlpatterngt         lturlpatterngtlturlpatterngt     ltservletmappinggt      ltservletmappinggt         ltservletnamegtIgOauthltservletnamegt         lturlpatterngtigoauthcallbacklturlpatterngt     ltservletmappinggt      ltservletmappinggt         ltservletnamegtDashboardltservletnamegt         lturlpatterngtuserusernamelturlpatterngt         lturlpatterngtuserusernameprofilelturlpatterngt         lturlpatterngtuserusernameassetslturlpatterngt     ltservletmappinggt      lt mime types gt     ltmimemappinggt         ltextensiongticoltextensiongt         ltmimetypegtimagexiconltmimetypegt     ltmimemappinggt ltwebappgt codepre  pstrongspringthymeleaftiles.xmlstrongp  precodeltxml version1.0 encodingUTF8gt ltbeans xmlnshttpwww.springframework.orgschemabeans     xmlnsxsihttpwww.w3.org2001XMLSchemainstance     xsischemaLocationhttpwww.springframework.orgschemabeans                            httpwww.springframework.orgschemabeansspringbeans.xsdgt      lt thymeleaf view resolvers with tiles integration gt     ltbean idtilesConfigurer classorg.thymeleaf.extras.tiles2.spring4.web.configurer.ThymeleafTilesConfigurergt         ltproperty namedefinitionsgt             ltlistgt                 ltvaluegtWEBINFtilestiles.xmlltvaluegt             ltlistgt         ltpropertygt     ltbeangt      lt template resolver gt     ltbean idtemplateResolver classorg.thymeleaf.spring4.templateresolver.SpringResourceTemplateResolvergt         ltproperty nameprefix valueWEBINFtiles gt         ltproperty namesuffix value.html gt         ltproperty nametemplateMode valueHTML5 gt         ltproperty namecharacterEncoding valueutf8 gt         ltproperty namecacheable valuefalse gt     ltbeangt      lt template engine gt     ltbean idtemplateEngine classorg.thymeleaf.spring4.SpringTemplateEnginegt         ltproperty nametemplateResolver reftemplateResolver gt         ltproperty nameadditionalDialectsgt             ltsetgt                 ltbean idtilesDialect classorg.thymeleaf.extras.tiles2.dialect.TilesDialect gt             ltsetgt         ltpropertygt     ltbeangt      lt tiles view resolver gt     ltbean idtilesViewResolver classorg.thymeleaf.spring4.view.ThymeleafViewResolvergt         ltproperty nameviewClass valueorg.thymeleaf.extras.tiles2.spring4.web.view.ThymeleafTilesView gt         ltproperty nametemplateEngine reftemplateEngine gt         ltproperty namecharacterEncoding valueutf8 gt         ltproperty nameorder value1 gt     ltbeangt  ltbeansgt codepre  pstrongIgOauthControllerstrongp  precodepackage abnd.pue.ig.controller  import java.io.IOException  import javax.servlet.http.HttpServletRequest import javax.servlet.http.HttpServletResponse import javax.servlet.http.HttpSession  import org.slf4j.Logger import org.slf4j.LoggerFactory import org.springframework.beans.factory.annotation.Autowired import org.springframework.stereotype.Controller import org.springframework.web.bind.annotation.RequestMapping import org.springframework.web.servlet.ModelAndView  import abnd.pue.ig.service.intf.IgOauthService  Controller public class IgOauthController        Autowired     private IgOauthService igOauthService      private static final Logger logger  LoggerFactory.getLoggerIgOauthController.class                    param request       return String       throws IOException           RequestMappingvalueigoauthcallback     public ModelAndView igCallbackHttpServletRequest request, HttpServletResponse response, HttpSession session throws IOException           get code parameter         String code  request.getParametercode          attempt to get user name from callback         String username  igOauthService.processCallbackRequestrequest, session, code           if username isnt empty redirect to user page         if username.isEmpty              logger.infousername set   username             return new ModelAndView redirectuser  username                   logger.infono username set           otherwise return to index TODO error display         return new ModelAndViewredirect        codepre
Positive 2740 pIm trying to updating an object in my database, from my servlet. However it successfully runs without any errors, but does not delete.p  pmy HibernateUtil looks like p  precodepublic class HibernateUtil       private static SessionFactory sessionFactory     private static final String HIBER  hibernate.cfg.xml      public HibernateUtil          try              sessionFactory  new Configuration.addResourceHIBER.configure                     .buildSessionFactory          catch HibernateException ex              System.out.printlnex                    public SessionFactory getSessionFactory          return sessionFactory           public void closeSessionFactory          sessionFactory.close       codepre  pand I instantiate above class when servlet init.p  precodeOverride     public void init           hiber  new HibernateUtil         System.out.printlnServlet Initialized      codepre  pI used openSession before, and read that it was better to use getCurrentSession for web applications, and now Im trying to do it over.p  precodeString add  request.getParameterhouseId             hiber.getSessionFactory.getCurrentSession             Transaction tx  session1.beginTransaction              House house  House session1.getHouse.class, Long.parseLongadd              System.out.printlnhouse.getAddress              SessionUser.getHouses.addhouse              session1.mergeSessionUser                     tx.commit             session1.close              System.out.printlnhouse.getAddress codepre  pI edited my trouble code with smth more simple. I just got no idea why this arent working.p
Positive 2740 pI am using the BalusC FileServlet in order to stream from a local directory to the tomcat instance localhost and show pictures uploaded by users.p  pI have copied this file p  precode   netbaluscwebappFileServlet.java     Copyright C 2009 BalusC     This program is free software you can redistribute it andor modify it under the terms of the   GNU Lesser General Public License as published by the Free Software Foundation, either version 3   of the License, or at your option any later version.      This library is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY without   even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU   Lesser General Public License for more details.      You should have received a copy of the GNU Lesser General Public License along with this library.   If not, see lthttpwww.gnu.orglicensesgt.    package servlet  import java.io.Closeable import java.io.File import java.io.IOException import java.io.OutputStream import java.io.RandomAccessFile import java.net.URLDecoder import java.util.ArrayList import java.util.Arrays import java.util.List import java.util.zip.GZIPOutputStream  import javax.servlet.ServletException import javax.servlet.ServletOutputStream import javax.servlet.http.HttpServlet import javax.servlet.http.HttpServletRequest import javax.servlet.http.HttpServletResponse     A file servlet supporting resume of downloads and clientside caching and GZIP of text content.   This servlet can also be used for images, clientside caching would become more efficient.   This servlet can also be used for text files, GZIP would decrease network bandwidth.     author BalusC   link httpbalusc.blogspot.com200902fileservletsupportingresumeand.html   public class FileServlet extends HttpServlet        Constants       private static final int DEFAULTBUFFERSIZE  10240  ..bytes  10KB.     private static final long DEFAULTEXPIRETIME  604800000L  ..ms  1 week.     private static final String MULTIPARTBOUNDARY  MULTIPARTBYTERANGES       Properties       private String basePath       Actions              Initialize the servlet.       see HttpServletinit.           public void init throws ServletException            Get base path path to get all resources from as init parameter.         this.basePath  getInitParameterbasePath           Validate base path.         if this.basePath  null              throw new ServletExceptionFileServlet init param basePath is required.          else              File path  new Filethis.basePath             if path.exists                  throw new ServletExceptionFileServlet init param basePath value                       this.basePath   does actually not exist in file system.              else if path.isDirectory                  throw new ServletExceptionFileServlet init param basePath value                       this.basePath   is actually not a directory in file system.              else if path.canRead                  throw new ServletExceptionFileServlet init param basePath value                       this.basePath   is actually not readable in file system.                                        Process HEAD request. This returns the same headers as GET request, but without content.       see HttpServletdoHeadHttpServletRequest, HttpServletResponse.           protected void doHeadHttpServletRequest request, HttpServletResponse response         throws ServletException, IOException               Process request without content.         processRequestrequest, response, false                  Process GET request.       see HttpServletdoGetHttpServletRequest, HttpServletResponse.           protected void doGetHttpServletRequest request, HttpServletResponse response         throws ServletException, IOException               Process request with content.         processRequestrequest, response, true                  Process the actual request.       param request The request to be processed.       param response The response to be created.       param content Whether the request body should be written GET or not HEAD.       throws IOException If something fails at IO level.           private void processRequest         HttpServletRequest request, HttpServletResponse response, boolean content             throws IOException               Validate the requested file            Get requested file by path info.         String requestedFile  request.getPathInfo           Check if file is actually supplied to the request URL.         if requestedFile  null               Do your thing if the file is not supplied to the request URL.              Throw an exception, or send 404, or show defaultwarning page, or just ignore it.             response.sendErrorHttpServletResponse.SCNOTFOUND             return                    URLdecode the file name might contain spaces and on and prepare file object.         File file  new FilebasePath, URLDecoder.decoderequestedFile, UTF8           Check if file actually exists in filesystem.         if file.exists               Do your thing if the file appears to be nonexisting.              Throw an exception, or send 404, or show defaultwarning page, or just ignore it.             response.sendErrorHttpServletResponse.SCNOTFOUND             return                    Prepare some variables. The ETag is an unique identifier of the file.         String fileName  file.getName         long length  file.length         long lastModified  file.lastModified         String eTag  fileName    length    lastModified         long expires  System.currentTimeMillis  DEFAULTEXPIRETIME            Validate request headers for caching            IfNoneMatch header should contain  or ETag. If so, then return 304.         String ifNoneMatch  request.getHeaderIfNoneMatch         if ifNoneMatch  null ampamp matchesifNoneMatch, eTag              response.setStatusHttpServletResponse.SCNOTMODIFIED             response.setHeaderETag, eTag  Required in 304.             response.setDateHeaderExpires, expires  Postpone cache with 1 week.             return                    IfModifiedSince header should be greater than LastModified. If so, then return 304.          This header is ignored if any IfNoneMatch header is specified.         long ifModifiedSince  request.getDateHeaderIfModifiedSince         if ifNoneMatch  null ampamp ifModifiedSince  1 ampamp ifModifiedSince  1000 gt lastModified              response.setStatusHttpServletResponse.SCNOTMODIFIED             response.setHeaderETag, eTag  Required in 304.             response.setDateHeaderExpires, expires  Postpone cache with 1 week.             return                     Validate request headers for resume            IfMatch header should contain  or ETag. If not, then return 412.         String ifMatch  request.getHeaderIfMatch         if ifMatch  null ampamp matchesifMatch, eTag              response.sendErrorHttpServletResponse.SCPRECONDITIONFAILED             return                    IfUnmodifiedSince header should be greater than LastModified. If not, then return 412.         long ifUnmodifiedSince  request.getDateHeaderIfUnmodifiedSince         if ifUnmodifiedSince  1 ampamp ifUnmodifiedSince  1000 lt lastModified              response.sendErrorHttpServletResponse.SCPRECONDITIONFAILED             return                     Validate and process range            Prepare some variables. The full Range represents the complete file.         Range full  new Range0, length  1, length         ListltRangegt ranges  new ArrayListltRangegt           Validate and process Range and IfRange headers.         String range  request.getHeaderRange         if range  null                Range header should match format bytesnn,nn,nn.... If not, then return 416.             if range.matchesbytesdd,dd                  response.setHeaderContentRange, bytes   length  Required in 416.                 response.sendErrorHttpServletResponse.SCREQUESTEDRANGENOTSATISFIABLE                 return                            IfRange header should either match ETag or be greater then LastModified. If not,              then return full file.             String ifRange  request.getHeaderIfRange             if ifRange  null ampamp ifRange.equalseTag                  try                      long ifRangeTime  request.getDateHeaderIfRange  Throws IAE if invalid.                     if ifRangeTime  1 ampamp ifRangeTime  1000 lt lastModified                          ranges.addfull                                       catch IllegalArgumentException ignore                      ranges.addfull                                             If any valid IfRange header, then process each part of byte range.             if ranges.isEmpty                  for String part  range.substring6.split,                       Assuming a file with length of 100, the following examples returns bytes at                      5080 50 to 80, 40 40 to length100, 20 length2080 to length100.                     long start  sublongpart, 0, part.indexOf                     long end  sublongpart, part.indexOf  1, part.length                      if start  1                          start  length  end                         end  length  1                      else if end  1  end gt length  1                          end  length  1                                            Check if Range is syntactically valid. If not, then return 416.                     if start gt end                          response.setHeaderContentRange, bytes   length  Required in 416.                         response.sendErrorHttpServletResponse.SCREQUESTEDRANGENOTSATISFIABLE                         return                                            Add range.                     ranges.addnew Rangestart, end, length                                                   Prepare and initialize response            Get content type by file name and set default GZIP support and content disposition.         String contentType  getServletContext.getMimeTypefileName         boolean acceptsGzip  false         String disposition  inline           If content type is unknown, then set the default value.          For all content types, see httpwww.w3schools.commediamediamimeref.asp          To add new content types, add new mimemapping entry in web.xml.         if contentType  null              contentType  applicationoctetstream                    If content type is text, then determine whether GZIP content encoding is supported by          the browser and expand content type with the one and right character encoding.         if contentType.startsWithtext              String acceptEncoding  request.getHeaderAcceptEncoding             acceptsGzip  acceptEncoding  null ampamp acceptsacceptEncoding, gzip             contentType  charsetUTF8                     Else, expect for images, determine content disposition. If content type is supported by          the browser, then set to inline, else attachment which will pop a save as dialogue.         else if contentType.startsWithimage              String accept  request.getHeaderAccept             disposition  accept  null ampamp acceptsaccept, contentType  inline  attachment                    Initialize response.         response.reset         response.setBufferSizeDEFAULTBUFFERSIZE         response.setHeaderContentDisposition, disposition  filename  fileName           response.setHeaderAcceptRanges, bytes         response.setHeaderETag, eTag         response.setDateHeaderLastModified, lastModified         response.setDateHeaderExpires, expires            Send requested file parts to client            Prepare streams.         RandomAccessFile input  null         OutputStream output  null          try               Open streams.             input  new RandomAccessFilefile, r             output  response.getOutputStream              if ranges.isEmpty  ranges.get0  full                    Return full file.                 Range r  full                 response.setContentTypecontentType                 response.setHeaderContentRange, bytes   r.start    r.end    r.total                  if content                      if acceptsGzip                           The browser accepts GZIP, so GZIP the content.                         response.setHeaderContentEncoding, gzip                         output  new GZIPOutputStreamoutput, DEFAULTBUFFERSIZE                      else                           Content length is not directly predictable in case of GZIP.                          So only add it if there is no means of GZIP, else browser will hang.                         response.setHeaderContentLength, String.valueOfr.length                                            Copy full range.                     copyinput, output, r.start, r.length                                else if ranges.size  1                    Return single part of file.                 Range r  ranges.get0                 response.setContentTypecontentType                 response.setHeaderContentRange, bytes   r.start    r.end    r.total                 response.setHeaderContentLength, String.valueOfr.length                 response.setStatusHttpServletResponse.SCPARTIALCONTENT  206.                  if content                       Copy single part range.                     copyinput, output, r.start, r.length                                else                    Return multiple parts of file.                 response.setContentTypemultipartbyteranges boundary  MULTIPARTBOUNDARY                 response.setStatusHttpServletResponse.SCPARTIALCONTENT  206.                  if content                       Cast back to ServletOutputStream to get the easy println methods.                     ServletOutputStream sos  ServletOutputStream output                       Copy multi part range.                     for Range r  ranges                           Add multipart boundary and header fields for every range.                         sos.println                         sos.println  MULTIPARTBOUNDARY                         sos.printlnContentType   contentType                         sos.printlnContentRange bytes   r.start    r.end    r.total                           Copy single part range of multi part range.                         copyinput, output, r.start, r.length                                            End with multipart boundary.                     sos.println                     sos.println  MULTIPARTBOUNDARY                                          finally               Gently close streams.             closeoutput             closeinput                     Helpers can be refactored to public utility class              Returns true if the given accept header accepts the given value.       param acceptHeader The accept header.       param toAccept The value to be accepted.       return True if the given accept header accepts the given value.           private static boolean acceptsString acceptHeader, String toAccept          String[] acceptValues  acceptHeader.splits,s         Arrays.sortacceptValues         return Arrays.binarySearchacceptValues, toAccept gt 1              Arrays.binarySearchacceptValues, toAccept.replaceAll.,  gt 1              Arrays.binarySearchacceptValues,  gt 1                  Returns true if the given match header matches the given value.       param matchHeader The match header.       param toMatch The value to be matched.       return True if the given match header matches the given value.           private static boolean matchesString matchHeader, String toMatch          String[] matchValues  matchHeader.splits,s         Arrays.sortmatchValues         return Arrays.binarySearchmatchValues, toMatch gt 1              Arrays.binarySearchmatchValues,  gt 1                  Returns a substring of the given string value from the given begin index to the given end       index as a long. If the substring is empty, then 1 will be returned       param value The string value to return a substring as long for.       param beginIndex The begin index of the substring to be returned as long.       param endIndex The end index of the substring to be returned as long.       return A substring of the given string value as long or 1 if substring is empty.           private static long sublongString value, int beginIndex, int endIndex          String substring  value.substringbeginIndex, endIndex         return substring.length gt 0  Long.parseLongsubstring  1                  Copy the given byte range of the given input to the given output.       param input The input to copy the given range to the given output for.       param output The output to copy the given range from the given input for.       param start Start of the byte range.       param length Length of the byte range.       throws IOException If something fails at IO level.           private static void copyRandomAccessFile input, OutputStream output, long start, long length         throws IOException              byte[] buffer  new byte[DEFAULTBUFFERSIZE]         int read          if input.length  length               Write full range.             while read  input.readbuffer gt 0                  output.writebuffer, 0, read                       else               Write partial range.             input.seekstart             long toRead  length              while read  input.readbuffer gt 0                  if toRead  read gt 0                      output.writebuffer, 0, read                  else                      output.writebuffer, 0, int toRead  read                     break                                                         Close the given resource.       param resource The resource to be closed.           private static void closeCloseable resource          if resource  null              try                  resource.close              catch IOException ignore                   Ignore IOException. If you want to handle this anyway, it might be useful to know                  that this will generally only be thrown when the client aborted the request.                                  Inner classes              This class represents a byte range.           protected class Range          long start         long end         long length         long total                     Construct a byte range.           param start Start of the byte range.           param end End of the byte range.           param total Total length of the byte source.                   public Rangelong start, long end, long total              this.start  start             this.end  end             this.length  end  start  1             this.total  total                  codepre  pThat I got from here  a hrefhttpbalusc.omnifaces.org200902fileservletsupportingresumeand.html relnofollowhttpbalusc.omnifaces.org200902fileservletsupportingresumeand.htmlap  pBy following those steps   Adding a Servlet to my Maven based J2EE project in package servlet with name FileServlet  Updating the web.xml Eclipse generated thisp  precodeltservletgt     ltservletnamegtFileServletltservletnamegt     ltservletclassgtservlet.FileServletltservletclassgt         ltinitparamgt         ltparamnamegtbasePathltparamnamegt         ltparamvaluegtCUsersceoPicturesSaved Picturesltparamvaluegt     ltinitparamgt   ltservletgt   ltservletmappinggt     ltservletnamegtFileServletltservletnamegt     lturlpatterngtfileslturlpatterngt   ltservletmappinggt codepre  pThe file physically located in empsuitesrcmainresourcesservletFileServlet.javap  pMaven dependency for reading thisp  precodeltdependencygt     ltgroupIdgtcommonsbeanutilsltgroupIdgt     ltartifactIdgtcommonsbeanutilsltartifactIdgt     ltversiongt1.9.2ltversiongt ltdependencygt codepre  pAnd all I got in the console is this p  precodeSEVERE  Exception while the allocation for FileServlet servlet java.lang.ClassNotFoundException servlet.FileServlet     at org.apache.catalina.loader.WebappClassLoaderBase.loadClassWebappClassLoaderBase.java1305     at org.apache.catalina.loader.WebappClassLoaderBase.loadClassWebappClassLoaderBase.java1157     at org.apache.catalina.core.DefaultInstanceManager.loadClassDefaultInstanceManager.java520     at org.apache.catalina.core.DefaultInstanceManager.loadClassMaybePrivilegedDefaultInstanceManager.java501     at org.apache.catalina.core.DefaultInstanceManager.newInstanceDefaultInstanceManager.java120     at org.apache.catalina.core.StandardWrapper.loadServletStandardWrapper.java1095     at org.apache.catalina.core.StandardWrapper.allocateStandardWrapper.java817     at org.apache.catalina.core.StandardWrapperValve.invokeStandardWrapperValve.java135     at org.apache.catalina.core.StandardContextValve.invokeStandardContextValve.java106     at org.apache.catalina.authenticator.AuthenticatorBase.invokeAuthenticatorBase.java501     at org.apache.catalina.core.StandardHostValve.invokeStandardHostValve.java142     at org.apache.catalina.valves.ErrorReportValve.invokeErrorReportValve.java79     at org.apache.catalina.valves.AbstractAccessLogValve.invokeAbstractAccessLogValve.java610     at org.apache.catalina.core.StandardEngineValve.invokeStandardEngineValve.java88     at org.apache.catalina.connector.CoyoteAdapter.serviceCoyoteAdapter.java516     at org.apache.coyote.http11.AbstractHttp11Processor.processAbstractHttp11Processor.java1086     at org.apache.coyote.AbstractProtocolAbstractConnectionHandler.processAbstractProtocol.java659     at org.apache.coyote.http11.Http11NioProtocolHttp11ConnectionHandler.processHttp11NioProtocol.java223     at org.apache.tomcat.util.net.NioEndpointSocketProcessor.doRunNioEndpoint.java1558     at org.apache.tomcat.util.net.NioEndpointSocketProcessor.runNioEndpoint.java1515     at java.util.concurrent.ThreadPoolExecutor.runWorkerThreadPoolExecutor.java1142     at java.util.concurrent.ThreadPoolExecutorWorker.runThreadPoolExecutor.java617     at org.apache.tomcat.util.threads.TaskThreadWrappingRunnable.runTaskThread.java61     at java.lang.Thread.runThread.java745 codepre
Positive 2740 pHi I am new to Java Servlets. I am building a simple login page.p  pMy servlet is below.p  precodeprotected void doPostHttpServletRequest request, HttpServletResponse response throws ServletException, IOException           TODO Autogenerated method stub         doGetrequest, response         String userNamerequest.getParametertxtUserName         String passwordrequest.getParametertxtpassword         ifuserName.equalsadmin ampamp password.equalsadmin                  System.out.printlnBefore serverlet             response.sendRedirectpracticeWebContentwelcome.jsp                  else              System.out.printlnno serverlet           codepre  pLogin pagep  precode    ltmeta httpequivContentType contenttexthtml charsetISO88591gt lttitlegtInsert title herelttitlegt      ltheadgt     ltbodygt     ltform namelogin methodpost actionsimpleservletgt     lttablegt     lttrgtlttdgtUserNamelttdgt     lttdgtltinput typetext nametxtUserNamegtlttdgt     lttrgtlttdgtPasswordlttdgt     lttdgtltinput typepassword nametxtpasswordgtlttdgt     lttrgt     lttrgtlttdgtlttdgtlttdgtltbutton typesubmitgtloginltbuttongtlttdgtlttrgt     lttablegt     ltformgt     ltbodygt     lthtmlgt codepre  pI am facing an Http 500 error. Please help.p
Negative 2740 pI have made a UDP server. It is working well but the problem is, It only accepts the client request once and gives response but on sending the 2nd request it does not replies to the client and also doesnot receives the message.p  pHere is my code....... I am unable to troubleshoot thisp  precode                InetAddress serverAddr  InetAddress.getByNameSERVERIP                 DatagramSocket socket  new DatagramSocketSERVERPORT,                         serverAddr                 byte[] buf  new byte[1024]                 DatagramPacket packet  new DatagramPacketbuf, buf.length                 updatetrackServer Receivingn                 socket.receivepacket                 updatetrackServer Message received                           new Stringpacket.getData  n                 updatetrackServer Succeedn                 updatetrackI want to send the data to you .......                 byte[] sbuff                 sbuff  opSERVERSTARTED.getBytes                 socket.sendnew DatagramPacketsbuff, sbuff.length, packet                         .getAddress, packet.getPort codepre
Negative 2740 pIm using openuri to download remote images and then the imagesize gem to get the dimensions. The problem is this gets painfully slow when more than a handful of images needs to be processed.p  pHow can I download enough information to know the dimensions for various image formatsp  pAre there any more ways to optimize thisp
Negative 2740 pI am implementing an input which allow to select multiple values as tags. I am working with a hrefhttpsangularui.github.iobootstraptypeahead relnofollow angularuibootstraptypeaheadap  pThe following example with dummy data works finep  pimg srchttpi.stack.imgur.comDuwo7.png altenter image description herep  pviewp  precodeltscript typetextngtemplate idformfieldrefgt  ltdiv classcontainerfluid ngcontrollertypeHeadTestCtrlgt      ltinput typetext ngmodelselected  typeaheadx.formattedaddress for x in dynamicSearchviewValue, field.displayName  classformcontrol typeaheadonselectonSelectitem, fieldgt  ltdivgt ltscriptgt codepre  ppart of controllerp  precode        scope.getLocation  functionval            return http.gethttpmaps.googleapis.commapsapigeocodejson,              params                address val,               sensor false                        .thenfunctionresponse             console.logresponse             return response.data.results.mapfunctionitem               console.logitem               items attributegt addresscomponents, formattedaddress, placeid....               return item                                   codepre  pBut when I try to connect to my actual data I get the following errorp  precodeTypeError Cannot read property length of undefined at uibootstraptpls.js3637 at processQueue angular.js13170 at angular.js13186 at Scope.eval angular.js14383 at Scope.digest angular.js14199 at Scope.apply angular.js14488 at debounceViewValueCommit angular.js20944 at setViewValue angular.js20916 at HTMLInputElement.listener angular.js19632 at HTMLInputElement.eventHandler angular.js3011 codepre  pHere is the code that failsp  pviewp  precode ltinput typetext ngmodelselected  typeaheadx.theVal for x in dynamicSearchviewValue, field.displayName  classformcontrol typeaheadonselectonSelectitem, fieldgt codepre  pthe parts of the controllerp  pdynamicSearch prepares what data to request on call of getDbRefDocsp  precode        scope.dynamicSearch  functionsearchTerm, name            var allowed             var classString             allowed  datamodel.classes[routeParams.class].attribute[name].allowed           for key in allowed             classString  classString   key                        remove last pipeline           classString  classString.slice0, 1           scope.getDbRefDocssearchTerm, name, classString                   scope.getDbRefDocs  functionsearchTerm, name, classString            var url  apiv2docs  classString           return http.geturl,              params                gtdisplayName searchTerm,               count 5                                              .thenfunctionresponse             var data  response.data.data             console.logdatadata             var requested  []             angular.forEachdata.requested, functionsearchTerm, k, o                 requested.pushcreateDBOifNecessarysearchTerm                          scope.item[]             scope.options[]             scope.options[name]  []             for key in requested                if requested.hasOwnPropertykey                  This is the storing value                 console.logrequested[key].cid                 this is the display value                 console.logrequested[key].attributes.displayName[0]                 scope.options[name][key]  requested[key].attributes.displayName[0]                 scope.item.push                   theNamerequested[key].attributes.displayName[0],                    theValrequested[key].cid                                                               console.logitemscope.item             return scope.item                      codepre  pThis last console.log returns the required data correctlyp  pFor what I have been able to read the problem is related to the promise of the server request... but i am stuckp
Negative 2740 pI would like to use string.replaceAll to replace all sequences of characters strongbeginning with , , or strong, and strongending with a  spacestrong. So far I have thisp  precodestring  string.replaceAll[]. , ZZZZ codepre  pHowever, the regex used only replaces the first instance that meets the above criteria. So, given the stringp  precodeSELECT title FROM Name WHERE nickname  nickname AND givenName  givenName AND familyName  familyName codepre  pCurrent incorrect outputp  precodeSELECT title FROM Name WHERE nickname  ZZZZ AND givenName  givenName AND familyName  familyName codepre  pDesired outputp  precodeSELECT title FROM Name WHERE nickname  ZZZZ AND givenName  ZZZZ AND familyName  ZZZZ codepre  pHow can I edit the regex to produce the desired outputp
Negative 2740 pI have a directive with some scope.on handlers set up.  When those handlers run, some css on the element is updated.p  pIm not seeing the css changes take place, even though Im certain the events are firing and the handlers are responding.p  pthe directive p  precodefunction       use strict     angular.moduleeve.upload.progress         .directiveuploadProgressButton, [uploadProgressConstants, UploadProgressSvc, compile,             function uploadProgressConstants, UploadProgressSvc, compile                  var styles                       idle                          cloud baseicon cloud,                         status                      ,                     success                          cloud baseicon cloud success,                         status glyphicon glyphiconok topiconoverlay                     ,                     error                          cloud baseicon cloud error,                         status baseicon exclamation topiconoverlay                     ,                     working                          cloud baseicon cloud,                         status glyphicon glyphiconstats topiconoverlay                                                        var dynamicButton  ltdiv iduploadprogressstatusbuttongt                      lta ngclickonClickgt                      lti iduploadprogressbuttoncloud classbaseicon cloudgtltigt                      lti iduploadprogressbuttonstatusgtltigt                      ltagt   nbsp so the icon becomes clickable                     ltdivgt                  return                      scope                          currentUploads ,                         clickAction amp                     ,                     template ltdiv iduploadstatusbuttoncontainergt                      dynamicButton                      ltdivgt,                     restrict AE,                     link function scope ,element, attrs                                                     listen for any errors coming out of the upload process                           if there was an error we want to change to the right button template                           with the exclamation and red cloud                                                   scope.onuploadProgressConstants.UPLOADERROREVENT, function event, args                              changeCurrentButtonerror                                                                              listen for the uploads complete event to change the template to the                           greeen arrow                                                   scope.onuploadProgressConstants.UPLOADSCOMPLETEEVENT, function event, args                              changeCurrentButtonsuccess                                                                              when uploads start or are running this allows the directive to update                           the button template to the working cloud and animation                                                   scope.onuploadProgressConstants.UPLOADSINITIATEDEVENT, function event, args                              changeCurrentButtonworking                                                                              when uploads go back to idle                           this would generally occur when an upload is canceled or aborted                           because we should not consider it a uploads complete event                                                   scope.onuploadProgressConstants.UPLOADSIDLEEVENT, function event, args                              changeCurrentButtonidle                                                   var changeCurrentButton  function status                              var iCloud  angular.elementuploadprogressbuttoncloud                             var iStatus  angular.elementuploadprogressbuttonstatus                             iCloud.removeClass                             iStatus.removeClass                             iCloud.addClassstyles[status  idle].cloud  baseicon cloud                             iStatus.addClassstyles[status  ].status                                                                                when the button is clicked, the scope.clickAction method needs to be called                           and the directive needs to update button state depending on what the current state                           of uploads is                                                   scope.onClick  function                               scope.clickAction                             check the current state of the uploads                             var status  UploadProgressSvc.calculateOverallUploadStatusscope.currentUploads                              if status.uploading  0                                  changeCurrentButtonidle                              else if status.uploading gt 0                                  changeCurrentButtonworking                                                                                                         ]  codepre  pThe testsp  precodedescribebutton state tests, function           itthe button should change to the success state when the uploads complete event is handled, function              UploadProgressSvc.broadcastAllUploadsCompletescope, statusMock             var element  getCloudAnchor             expectelement.hasClasssuccess.toBetrue                    var getCloudAnchor  function          return view.finduploadprogressbuttoncloud           var getStatusAnchor  function          return view.finduploadprogressbuttonstatus      codepre  pHow does one get this type of element css update to work in a KarmaJasmine testp
Negative 2740 pApologies for posting what seems to be an oftasked question but I have toiled for two days without getting closer.p  pI am running Rails 4.0.1 with Devise, CanCan, among others and have user and role models with a HABTM usersroles table as created by the sinceremoved rolify.p  precodeclass Role lt ActiveRecordBase    hasandbelongstomany users, jointable gt usersroles   belongsto resource, polymorphic gt true    attrreader usertokens    def usertokensids     self.userids  ids.split,   end end codepre  pMy submitted form data isp  precoderolegtnamegtdisabled, resourceidgt, resourcetypegtPhone, usertokensgt[, 3] codepre  pNot sure where the empty string comes from its not in the option list, but hey, welcome to Rails.p  pMy problem is with getting the usertokens data passed into the appropriate variable in the controller.p  pThere are lots of postings suggesting the correct format e.g., a hrefhttpstackoverflow.comquestions16549382howtopermitanarraywithstrongparametershow to permit an array with strong parametersap  pIf I specify the permitted parameters thusp  precodeparams.requirerole.permitname, resourceid, resourcetype, usertokens gt []  codepre  pI get a 500 Internal server error with no other details.p  pIf I specify the permit as p  precodeparams.requirerole.permitname, resourceid, resourcetype, usertokens []  codepre  pI dont get any errors No unpermitted parameters in the dev log but the usertokens array is not passed through in the role.p  pIf I run this scenario through a console I getp  precodeparams  ActionControllerParameters.newrole gt resourceid gt , resourcetype gt Phone, usertokens gt [, 3] params.requirerole.permitname, resourceid, resourcetype, usertokens []  gt resourceidgt, resourcetypegtPhone, usertokensgt[, 3] params.requirerole.permitusertokens.permitted Unpermitted parameters resourceid, resourcetype, usertokens gt true codepre  pIm stuck as to where I should try looking next.p
Negative 2740 pIm trying to read a simple text file with contents stronginput.txtstrongp  precodeLine 1 Line 2 Line 3 codepre  pBut it always goes to the exception and prints Error.p  precodeimport java.io. import java.util.  public class Main      public static void mainString args[]          ListltStringgt text  new ArrayListltStringgt         try             BufferedReader reader  new BufferedReadernew FileReaderinput.txt             for String line line  reader.readLine  null                    text.addline                          System.out.printlntext.size print how many lines read in             reader.close         catchIOException e             System.out.printlnERROR                   codepre  pIm using Eclipse as my IDE if that makes a difference. Ive tried this code on a hrefhttpwww.compileonline.comcompilejavaonline.php relnofollowhttpwww.compileonline.comcompilejavaonline.phpa and it runs fine, why wont it run in Eclipsep
Negative 2740 pIm writing an image watermarking system to hide a watermark in an images low frequency band by transforming the images luminance channel with a Discrete Wavelet Transform, then modifying coefficients in the LL band of the DWT output. I then do an Inverse DWT and rebuild my image.p  pThe problem Im having is when I modify coefficients in the DWT output, then inverseDWT, and then DWT again, the modified coefficients are radically different.p  pFor example, one of the output coefficients in the LL band of the 2scale DWT was 0.10704, I modified this coefficient to be 16.89, then performed the IDWT on my data. I then took the output of the IDWT and performed a DWT on it again, and my coefficient which was modified to be 16.89 became 0.022.p  pIm fairly certain that the DWT and IDWT code is correct because Ive tested it against other libraries and the output from each transform matches when the filter coefficients and other parameters are the same. Within what can be expected due to rounding errorp  pThe main problem I have is that I perhaps dont understand the DWT all that well, I thought DWT and IDWT were supposed to be reasonably lossless Aside from rounding error and such, yet this doesnt seem to be the case here.p  pIm hoping someone more familiar with the transform can point me at a possible issue, is it possible that because the coefficients in my other subbands LH, HL, HH for that position are insignificant Im losing data If so, how can I determine which coefficients this may happen top  pMy embedding function is below, coefficients are chosen in the LL band, strong is determined to be true if the absolute value of the LH, HH, or HL band for the selected location is larger than the mean value of the corresponding subband.p  precodeIf this evaluates to true, then the texture is considered strong. if Math.AbsLH[i][w] gt LHmean  Math.AbsHL[i][w] gt HLmean  Math.AbsHH[i][w] gt HHmean         static double MarkCoeffint index, double coeff,bool strong              int q1  16         int q2  8         int quantizestep  0         byte watermarkbit  binaryWM[index]           ifstrong             quantizestep   q1         else             quantizestep  q2          coeff  doublequantizestep         double coeffdiff  0         ifcoeff gt 0.0             coeffdiff  coeff  intcoeff         else             coeffdiff  coeff  intcoeff          if 1  intcoeff  2                      odd             if watermarkbit  0                              if Math.Abscoeffdiff gt 0.5                     coeff  1.0                 else                     coeff  1.0                               else                      even             if watermarkbit  1                              if Math.Abscoeffdiff gt 0.5                     coeff  1.0                 else                     coeff  1.0                                coeff  doublequantizestep          return coeff      codepre
Negative 2740 pI want to use getch or something similar to register a keystroke in a while function.p  precode    while              .         .         .         ifkbhit kgetch         else coutltltno input         coutltltkltltendl         k0         Sleep1200         .         .         .      codepre  pIf i hold a key, the function will keep displaying that key for a while. I will use a similar code to implement movement for a worm game. If a key will not be pressed the worm will keep going int he direction its facing but i dont need help with this i already have it sorted out.p  pI just need to know how do i register just 1 key press for a while cycle. Using Codeblocks.p
Negative 2740 pI have the following cssp  precode.horizontalholder1 floatleft width88px height98px marginbottom15px border1px solid bdbdbd backgroundcolorgrey  .whiteholder width88px height49px backgroundcolorwhite floatleft  .yellowholder width88px height49px backgroundcolorFFF8DC floatleft   .playerholder width60px height49px floatleft  .scoreholder width28px height49px floatleft  codepre  pAnd the following htmlp  precodeltdiv classhorizontalholder1gt     ltdiv classwhiteholdergt         ltdiv classplayerholdergt             lt echo data[username] gt         ltdivgt         ltdiv classscoreholdergt             0         ltdivgt     ltdivgt     ltdiv classyellowholdergt         ltdiv classplayerholdergt             lt echo data[username] gt         ltdivgt         ltdiv classscoreholdergt             0         ltdivgt     ltdivgt ltdivgt codepre  pThe problem is that the yellow holder doesnt float below the white holder, it goes to the right.p  pCan anyone see a reason for thisp  pThanksp
