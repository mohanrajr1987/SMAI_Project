Positive 463 pIm using Coldfusion 10 and CFWheels for my site. Basically my site has a bunch of different types of forms with their own Controllers and views. For each form, the user has the option to dynamically generate a PDF of the form and download it. It basically loads the controller data but when it hits the view with a parameter of pdf it does the following which will generate the PDF and open the document in the browserp  precodeltcfdocument formatPDF saveAsNameformtypeid.pdfgt   includePartialprintView ltcfdocumentgt codepre  pEach of these PDFs can have multiple pages depending on how many line items are added. Like I said in the beginning there are multiple types of forms so they will have their own controller and views and PDF generation with their print views. These forms are all customized and associated together with an ID like shipmentID. So I can have one shipment that contains 2 forms of type A and 1 form of type B and 3 of type C, etc. What I need to do is generate 1 PDF with all the forms merged together based on the shipment. So taking my example, the merged PDF for the shipment would contain the 2 forms of type A, 1 form of type B, and 3 of type C all merged.p  pCurrently what Im doing is making a http GET call to each of the dynamically generated PDF pages, save that to a temp directory, then merging them at the end.p  pI load the shipment and for each different type of form I do the following where urlPath is the path to the view that generates the dynamic PDFp  precodevar httpService  new http httpService.setMethodGET httpService.setUrlurlPath invoice  httpService.send.getPrefix.filecontent.toByteArray  var fullPath  filePatharguments.typeid.pdf write files in temp directory FileWritefullPath, invoice codepre  pAfter I get the PDF and write it to a file, I save the path in an array for reference so I can loop through and merge all the referenced files in the array, then delete the temp directory where the files were saved.p  pThe reason why Im doing it this way is because the controllers and views are already set and generate the individual PDFs on the fly as it is. If I try to load all associated forms and put everything in one file, Ill have to add all the same controller logic to load each form specific stuff and the associated views but these already exist for the individual page view.p  pIs there a better way to do this It works fine if there are only a few PDFs but if there a lot of different forms in the shipment like 20, then its very slow and since we dont have CF Enterprise, I believe the cfdocument is single threaded. The forms have to be generated dynamically so they contain the most current data.p  pstrongUPDATE for Chrisstrongp  pIve added some code to show what the various forms might look like. I validate and load a bunch of other things but I stripped it down to get the general ideap  pstrongcontrollersInvoices.cfcstrongp  pThe path might be something like shipments[shipmentkey]invoices[key]p  precodepublic void function show    load shipment to display header details on form   shipment  modelShipment.findOnewhereid  params.shipmentkey    load invoice details to display on form   invoice  modelInvoice.findOnewhereid  params.key    load associated invoice line items to display on form   invoiceLines  modelInvoiceLine.findAllwhereinvoiceId  params.key    load associated containers to display on form   containers  modelContainer.findAllwhereinvoiceid  params.key    load associated snumbers to display on form   scnumbers  modelScnumber.findAllwhereinvoiceid  params.key  codepre  pstrongcontrollersPermits.cfcstrongp  pThe path might be something like shipments[shipmentkey]permits[key]p  precodepublic void function show    load shipment to display header details on form   shipment  modelShipment.findOnewhereid  params.shipmentkey    load permit details to display on form   permit  modelPermit.findOnewhereid  params.key    load associated permit line items to display on form   permitLines  modelPermitLine.findAllwherepermitId  params.key  codepre  pstrongcontrollersNafta.cfcstrongp  pThe path might be something like shipments[shipmentkey]naftas[key]p  precodepublic void function show    load shipment to display header details on form   shipment  modelShipment.findOnewhereid  params.shipmentkey    load NAFTA details to display on form   nafta  modelNAFTA.findOnewhereid  params.key    load associated NAFTA line items to display on form   naftaLines  modelNaftaLine.findAllwherenaftaId  params.key  codepre  pCurrently my view is based on a URL parameter called view where the values can be either print or pdf. p  pprint  displays the print view thats pretty much a stripped down version of the form without the webpage headersfooters etc.p  ppdf  calls the cfdocument code I pasted at the top of the question which uses the printView to generate the PDF.p  pI dont think I need to post the show.cfm code as it would just be a bunch of divs and tables displaying the specific information for each particular form in question. p  pKeep in mind that these are only 3 example form types and there are 10 types that may be associated to 1 shipment and the PDFs would need to be merged. Each type may repeat several times within a shipment as well. For example a shipment may contain 10 different invoices with 5 permits and 3 NAFTAs.p  pTo make things slightly more complicated, a shipment can have 2 types US Bound or Canada Bound and based on this different form types can be associated to the shipment. So an Invoice for Canada will have totally different fields than an invoice for US so the modelstables are different.p  pCurrently to do the merging I have a controller that does something like the following note that I stripped a lot of validation, loading of other objects to simplifyp  precodepublic any function displayAllShipmentPdfshipmentId    variable to hold the list of full paths of individual form PDFs   formList     shipment  modelshipment.findOnewhereid  arguments.shipmentId    path to temporarily store individual form PDFs for later merging   filePath  getTempDirectoryshipment.clientId   ifshipment.bound eq CA      load all invoices associated to shipment     invoices  modelInvoice.findAllwhereshipmentId  shipment.id      go through all associated invoices     forinvoice in invoices       httpService  new http       httpService.setMethodget        the following URL loads the invoice details in the Invoice controller and since Im passing in viewpdf the view will display the PDF inline in the browser.        httpService.setUrlhttpmysiteshipmentsshipment.idinvoicesinvoice.idviewpdf       invoicePdf  httpService.send.getPrefix.fileContent.toByteArray       fullPath  filePathinvoiceinvoice.id.pdf         write the file so we can merge later       FileWritefullPath, invoicePdf         append the fullPath to the formList as reference for later merging       formList  ListAppendformList, fullPath            the above code would be similarly repeated for every other form type ex. Permits, NAFTA, etc.. So it would call the path with the viewpdf which will load the specific form Controller and display the PDF inline which we capture and create a temporary PDF file and add the path to the formList for later merging. You can see how this can be a long process as you have several types of forms associated to a shipment and there can be numerous forms of each type in the shipment and I dont want to have to repeat each form Controller data loading logic.   else ifshipment.bound eq US      does similar stuff to the CA except with different forms        merge the PDFs in the formList   pdfService  new pdf    formList contains all the paths to the different form PDFs to be merged   pdfService.setSourceformList   pdfService.mergedestinationfilePathshipmentshipment.id.pdf     read the merged PDF   readPdfService  new pdf   mergedPdf  readPdfService.readsourcefilePathshipmentshipment.id.pdf     delete the temporarily created PDF files and directory   DirectoryDeletefilePath, true    convert to binary to display inline in browser   shipmentPdf  toBinarymergedPdf    set the response to display the merged PDF   response  getPageContext.getFusionContext.getResponse   response.setContentTypeapplicationpdf   response.setHeaderContentDisposition,filenameshipmentshipment.iddateFormatnow,yyyymmddTtimeFormatnow,hhmmss.pdf   response.getOutputStream.writeThroughshipmentPdf  codepre
Positive 463 pThis worksp  precodeltcfif ArrayContains[bridge,ccf], getSectiongt codepre  pThis does notp  precodeltcfif [bridge,ccf].ContainsgetSectiongt codepre  pError messagep  pColumn 7  p  blockquote   pDetail ColdFusion was looking at the following textp[ppThe   CFML compiler was processingulliA cfif tag beginning on line 15,   column 2.ul   KnownColumn 2   KnownLine 15   KnownText cfif   Line   15   Message Invalid CFML construct found on line 15 at column 7.br   Snippet  blockquote  pDid I convert this right, of is this a limitation of Adobes implementationp
Positive 463 pI have this code written. Basically it checks the Database every 2 seconds to see if there have been changes made. If there hasnt been changes made a variable CheckMessageCount passes back with a value of 0 and nothing happens. If a change was made and CheckMessageCount passes back with a value of 1, the div reloads the messages on the screen.p  pWhat Im not sure is how I pass CheckMessageCount from the cfm page back into the jqueryajax so the ifelse statement can be properly done. Right now it just goes to else all the time and does nothing.p  pI read how to do a query string, but I couldnt make it work. I also tried to do what a hrefhttpstackoverflow.comquestions6471879isthereawaytolistenforadatabaseeventandupdateapageinrealtimethis threada had done, but no luck.p  pHere is what I have for the page with the JqueryAJAXp  precodelthtmlgt ltheadgt     lttitlegtTestlttitlegt     ltscript srchttpsajax.googleapis.comajaxlibsjquery2.1.3jquery.min.jsgtltscriptgt      ltscriptgt     .gethomepageresponse2.cfm, function data gets the code behind the page                       responsecontainer.htmldata places the data in the budget div               var CheckMessageCount  0      function          var reloadthediv  function          .ajax             url CheckMessageCount.cfcmethodReloadMessageCount,             type get,             datatype json                      .donefunctionCheckMessageCount              if checkmessagecount comes back 1, then reload             if CheckMessageCount  1                   responsecontainer .load homepageresponse2.cfm              if checkmessagecount comes back 0, do nothing              else                  do nothing                 console.lognothing done                                  reloadthediv      setIntervalfunction          reloadthediv     , 2000      ltscriptgt ltheadgt ltbodygt     ltdiv idresponsecontainer classresponsecontainercssgtltdivgt ltbodygt lthtmlgt codepre  pAnd here is what I have for CheckMessageCount.cfc  p  precode    ltcfcomponent displaynameChecks The Message RecordCount to reload hintThis is the CFC for Checks The Message RecordCount to reloadgt      lt This function gets all user status data for the proper session.id if it exists gt          ltcffunction nameReloadMessageCount returntypeany returnformatjson hintGets message countgt           ltcfquery nameCheckMessages datasourcehippogriff debugNogt         SELECT  COUNTHomePageMessageID AS TheMessageCount         FROM    HomePageMessage         ltcfquerygt          lt code here for the messagecount gt          lt once it does, lets do this gt         ltcfif CheckMessages.TheMessageCount GT messagecountgt             ltcfset CheckMessageCount1gt              ltcfset messagecountCheckMessages.TheMessageCountgt         ltcfelsegt             ltcfset CheckMessageCount0gt          ltcfifgt           ltcfreturn CheckMessageCountgt      ltcffunctiongt  ltcfcomponentgt codepre  pThis is about as far as my knowledge goes. I tried the ColdFusion serializeJSON and couldnt get anything. I know there is websockets now, but our hosting company doesnt support them on the server, and its really out of my reach coding. I am surprised I made it this far with this. Any help would be appreciated.p  pOnly reason I know it semi works because I put the reload statement in the else part of the JS and it reloads the div.p
Positive 463 pI am trying to convert the results of a query into an arrayp  precodethis.arLibrary   ValueListqryLibrary.ID.ListToArray codepre  pAnd I get the following errorp  blockquote   pDetail A script statement must end with .pThe CFML compiler was   processingulliA script statement beginning with   this.arLibrary on line 43, column 9.liA cfscript tag   beginning on line 21, column 2.ul   KnownColumn 1   KnownLine 1br   KnownText ltunknowngt   Line 43   Message Invalid construct.br   Snippet this.arLibrary    ValueListqryLibrary.ID.   StackTracep blockquote  pThis does workp  precodetemp     ValueListqryLibrary.ID this.arMetricLibActive   temp.ListToArray codepre  pIt makes me wonder if codeValueListcode is a stringp
Positive 463 pI have a survey form with 5 ques, there is one question on each page and user clicks through them with next button on the page. Now, the user is not logged in, I want to set a session variable only when the user takes the first ques on form and clicks next. But I am getting userid not defined in session for the line 2. I am not really sure what I am doing wrong here. Can anyone suggest if they see what is going on. I dont want to be creating multiple userids every time he hits next button. Thanks p  precodeltcfif structKeyExistsFORM, usermode and form.usermode EQ nextgt    ltcfif NOT  StructKeyExistssession,userid gt  ltcfquery nameinsertuser datasourceapplication.datasourcegt          INSERT INTO surveyuseripaddress             VALUES ltcfqueryparam cfsqltypecfsqlvarchar valueCGI.REMOTEADDR gt         ltcfquerygt ltcfifgt ltcfifgt codepre
Positive 463 ol lipI have a coldfusion application that queries an oracle database for some data, converts the query into a CSV variable via a function creaeted by Ben Nadel, and is supposed to use a  tag to then convert the csv value into an excel spreadsheet. However it is giving me the following errorp  pThe following information is meant for the website developer for debugging purposes.br Error Occurred While Processing Requestbr 3 p  pThe error occurred in CinetpubwwwrootAPPSCapDBgenerateextract.cfm line 312pli ol  pHere is the section of code it is referencingp  precode    ltcfspreadsheet actionWrite filenameCinetpubappscapdbfilesextract.xls formatcsv namestrOutput  overwritetruegt codepre  pIve tried sending it different csv variables, even one created by Ben Nadel to work specifically with his custom function and the cfspreadsheet tag. The only thing that changes with the error when I use different csv variables is what number is displayed. Ive seen 3 and 35 so far. Has anyone ever encountered an error like this before p
Positive 463 pI am trying to redirect a user to a different URL in coldfusion after the user logs out. Nothing comes to the top of my head besides linkTo or urlFor to accomplish this, but the thing is, I am not linking to another cfm page, I am wanting to send the user to a different URL completely. p  pWhat is the best way to send a user to a new URL after they signout, check code below.p  precodepublic string function logOut      auth.logOut     return forwardpublic.Home, home  codepre
Positive 463 pIm doing queries in which I want to extract the leftmost strongnstrong characters from a string that has been stripped of all leading and following spaces. An example isp  precodeSelect SUBSTRINGLTRIMRTRIMsomefield, 0, n AS mydata FROM sometable codepre  pIts the only way I can figure to do it on a SQL Server.p  pIve never written a UDF before, but I think if I was just working on a SQL Server, I could create a userdefined function such asp  precodeCREATE FUNCTION udfLeftTrimmed      inputString nvarchar50,     n int  RETURNS nvarcharn AS  BEGIN     RETURN SUBSTRINGLTRIMRTRIMinputString, 0, n END codepre  pI could then do something likep  precodeSelect udfLeftTrimmedsomefield,6 AS mydata FROM sometable codepre  pwhich is at least a little easier to read and understand.p  pThe question is, how do I create the UDF in ColdFusion All my searches for SQL userdefined function in ColdFusion just gave me how to create ColdFusion functions.p
Positive 463 pI have created a SOAP service which has some optional method arguments. I have found some issuesp  ol liWhile calling the web service I always need to pass all the arguments irrespective of whether they are optional or not.li liI found that in ColdFusion we can omit the optional arguments by adding codeomittruecode in codecfinvokeargumentcode. But still we need to add codecfinvokeargumentcode for each argument. It doesnt solve much problem.li liSince a web service is meant to be accessible from any platform or language, the codeomittruecode hack may not be available in other languages.li ol  pSo my question is, how to deal with the issues. Is there any way to get rid of optional arguments while calling a web servicep
Positive 463 ptrying to run a block of javascript that includes an innerhtml update to a 060td062 inside a cfwindow popup window after the html but the innerhtml line errors. if i replace the innerhtml with an alert line  the alertbox shows just fine so the javascript executes. p  pthe page trying to run in the cfwindow pop up is as simple asp  precodelttable width100 border0 cellspacing0 cellpadding0 aligncenter bgcolorffffffgt lttrgt     lttdgtCurrent Totallttdgt     lttd idnewtotalgt27lttdgt  lttrgt lttablegt  ltscript languagejavascriptgt     var myTest  88     document.getElementByIdnewtotal.innerHTML  myTest ltscriptgt codepre
Negative 463 pHow to load an image from a specific folder using Emgu cv CvInvoke.cvLoadImage...I am tryng to do it like thisp  precode    IntPtr inputImage  CvInvoke.cvLoadImageCUsers...ClassPic1.jpg codepre  pIs that ok If so, How am i gonna access it later as an Emgu.CV.Image file so that i will do my image processing on itp
Negative 463 pim quite new to SQL and im having this issues.p  precodeCREATE TABLE TempTable WeekNr int, Name varchar30, Value int  INSERT INTO TempTable VALUES 21,John,100 INSERT INTO TempTable VALUES 21,Michael,133 INSERT INTO TempTable VALUES 21,Tony,50 INSERT INTO TempTable VALUES 22,John,80 INSERT INTO TempTable VALUES 23,Michael,188 INSERT INTO TempTable VALUES 23,Tony,230 codepre  pTable shows this wayp  precode  WeekNr         Name        Value   21             John        100   21             Michael     133   21             Tony        50   22             John        80   23             Michael     188   23             Tony        230 codepre  pI need to arrange data in this wayp  precode  Name           Vale          Name         Value        Name        Value   John           100           John          80          Michael     188   Michael        133                                     Tony        230   Tony           50 codepre  pwhere the first two columns refers to WeekNr being 21, the second two to WeekNr being 22, and then WeekNr being 23.p  pIt would be better if Null values will be included so without skipping any WeekNr. For example if i do something likep  precode  DELETE FROM TempTable WHERE WeekNr  22 codepre  pIt should appear something likep  precode  Name           Vale          Name         Value        Name        Value   John           100                                     Michael     188   Michael        133                                     Tony        230   Tony           50 codepre  pso its easy to export data to Excel. Do i need to use PIVOT or UNPIVOTp
Negative 463 pI am building an app that contains a codeMKMapViewcode. The first time user goes over this view, it takes a while for it to load, and things such as animating pin drops also dont work well as a result of it. It takes a bit for the location to stabilize if i choose another location from the simulator options.p  pIs there any way to load MKMapView very fast May be run in background or whatI am confused What do you guys do to load Map Fasterp
Negative 463 pIve had a look but can only find how to display the latest image, or display them all.  I need to display the 5 latest images.  Thanks p  pmy current code to display 1 image isp  precodeltphp dir  imagesother baseurl  imagesother newestmtime  0 if handle  opendirdir      while false  file  readdirhandle          if file  . ampamp file  ..              mtime  filemtimedirfile             if mtime gt newestmtime                  newestmtime  mtime                 showfile  baseurlfile                             print ltimg src .showfile.  altcodegt gt codepre
Negative 463 pSuppose we have a 2D 5x5 matrixp  precodetest     39   13   90    5   71   60   78   38    4   11   87   92   46   45   35   40   96   61   17    1   90   50   46   89   63   codepre  pAnd a second 2D 5x2 matrixp  precodetidx   1   3   2   4   2   3   2   4   4   5   codepre  pAnd now we want to use tidx as an idex into test, so that we get the following outputp  precodeout   39   90   78    4   92   46       96   17   89   63   codepre  pOne way to do this is with a for loop... p  precodefor i1sizetest,1         outi,  testi,tidxi,  end codepre  h2Questionh2  pIs there a way to vectorize this so the same output is generated without a for loopp
Negative 463 pHey, Im developing a GWT app and now facing the CSS part. I read a lot about this topic at the official site but still have a few questions and hope someone can give me a hint.p  ul liWhen Im using CSSResource the css styles will be compiled into the code  right So its not possible to change it without recompile the app. But what I wanna do is to have the styles be editable from outside.li liSo what is this CSSResource for, since you cant just change a color or an image without compiling the app againli liWhats the best way to use CSS since there are a few ways .css file, CSSResource, styles in ui.xml to do thisli ul  pMy thoughts are now, that Im using only the normal CSS file to handle all my changeable stuff and add this file to the head, since I cant see the advantage of this CSSResource thing. Hopefully someone can help me with that. Thanks.p
Negative 463 pHi I am new to Sencha touch. i m using the Sencha architect IDE I want to show in mobile app, List of Authors and Quotes. I want to show quotes list of strongselectedstrong author in another list. To show the Authors list its no problem. But show quotes panellist when selecting is problem for me. I have tried to create new viewdetail panel, then added an action in controller but nothing.br Please refer me any tutorial for sencha..p  pData stores are JSONp
Negative 463 pThis code is placing the container at the top of the panel. This looks bad when run on ipad. I want it to come on centre of the device. can anyone help me pleasep  pThis is my code.p  pExt.defineMistfly.view.SignupPanel, p  precodeextend Ext.Panel, xtype signupPanel,  config      id registerationform,     items [                       xtype container,             title Registration Form,             layout                  type vbox,                 pack center             ,             items[                               xtype fieldset,                 title Registration Form,                  items [                                              xtype textfield,                         label Username,                         labelWrap true,                         nameusername,                         id usrName,                         placeHolder Enter Username                     ,                                              xtype passwordfield,                         label Password,                         labelWrap true,                         name password,                         idpwd,                         placeHolder Enter Password                     ,                                              xtype emailfield,                         label Email,                         labelWrap true,                         name email,                         idmail,                         placeHolder emailexample.com                                          ]                              ]         ,                      xtype container,             layout                  type hbox,                 pack center             ,             items[                                      xtype button,                     itemId save,                     width 20,                     text Save,                     action submitFormAction                                  ]                  ]   codepre  pp
Negative 463 pIn Visual Studio while designing MVC views in .aspx or .ascx files I often use if statements. When I autoformat CtrlK,D, VS wraps the braces in this really ugly and hard to read wayp  precodelt if Model.UserIsAuthenticated     gt some HTML goes here... lt     gt codepre  pIs there any way to make Visual Studio autoformat like this insteadp  precodelt if Model.UserIsAuthenticated  gt some HTML goes here... lt  gt codepre  pOr is there a better way to do this I dont want to use Razor quite yet, but it looks like it would solve my problem. Im using VS2010 with Resharper 5, if that helps.p
Negative 463 pIm trying to create multi level dropdown menu with mysql as store data, and i use twig as theme engine, i know there is ton of code outside but, all of them HTML as the output, since i use twig, so i need array as the output, and let twig render it,or maybe there is other option, let me know if so.br this code work if i use html as output. but if  i change to array as output the problem is 2nd menu level only show 1 array or first array, it not loop.br this is my array output from mysql query , p  precodeArray      [0] gt Array                      [id] gt 1             [title] gt Dashboard             [link] gt 1.html             [parentid] gt 0               [1] gt Array                      [id] gt 2             [title] gt Master Data             [link] gt 2.html             [parentid] gt 0               [2] gt Array                      [id] gt 3             [title] gt submaster             [link] gt 11.html             [parentid] gt 2              [3] gt Array                      [id] gt 4             [title] gt submaster             [link] gt 12.html             [parentid] gt 2          codepre  pand here is code i trying to convert, i mean before it code html  as the output ulliulliliullilup  precodeid   function subitems, id     foreachitems as item         ifitem[parentid]  id             return arraylink gtitem[link],titlegtitem[title]             subitems, item[id]                foreachallmenu as data     ifdata[parentid]  0         id  data[id]         utama[] arraylinkgtdata[link],titlegtdata[title],subgtsuballmenu, id       codepre  pand this is the output from above codep  precodeArray      [links] gt Array                      [0] gt Array                                      [link] gt 1.html                     [title] gt Dashboard                     [sub] gt                                [1] gt Array                                      [link] gt 2.html                     [title] gt Master Data                     [sub] gt Array                                                      [link] gt 11.html                             [title] gt Kampus                                                        codepre  psee.. in 2nd array master data it should two array right with link 11.html and 12.html.br if there is mistake from my code let me know, if there is link to do this job, let me know. thanksp
