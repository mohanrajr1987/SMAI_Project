Positive 511 pI have this class and find that the JButton which Im trying to edit the text of to reflect the current status of downloading a file does not get updated until the FTPclient has been disconnected. As Im unsure what is causing the problem I will add my whole main class that revolves around what needs to happen, I have also debugged this using a method of playing a sound, which is triggered every time I attempt to update the JButtons text. When testing it appears to work fine.p  precodepublic class Main       public static JButton btnNewButton  null      private JFrame frame              Launch the application.           public static void mainString[] args          EventQueue.invokeLaternew Runnable              public void run                  try                      Main window  new Main                     window.frame.setVisibletrue                  catch Exception e                      e.printStackTrace                                                         Create the application.           public Main          initialize                  Initialize the contents of the frame.           private void initialize            frame  new JFrame         frame.setTitleFTP Request         BorderLayout borderLayout  BorderLayout frame.getContentPane                 .getLayout         borderLayout.setVgap19         frame.getContentPane.setBackgroundnew Color51, 51, 102         frame.setBounds500, 500, 616, 413         frame.setDefaultCloseOperationJFrame.EXITONCLOSE         frame.setExtendedStateFrame.MAXIMIZEDBOTH          frame.setUndecoratedtrue          frame.setAlwaysOnToptrue          btnNewButton  new JButtonEXIT         btnNewButton.setFontnew FontImpact, Font.BOLD, 40         btnNewButton.addActionListenernew ActionListener              public void actionPerformedActionEvent arg0                  btnNewButton.setTextExitng...                 System.exit0                               frame.getContentPane.addbtnNewButton, BorderLayout.SOUTH          final JLabel lblStatus  new JLabelnew ImageIcon                 Main.class.getResourcecomdanielstatus1.png         frame.getContentPane.addlblStatus, BorderLayout.EAST          lblStatus.addMouseListenernew MouseAdapter               Override             public void mouseClickedMouseEvent arg0                  System.out.printlnCLICKED                 btnNewButton.setTextCLIEKCED                  playSound1                 String server  f12preview.royalwebhosting.net                 int port  21                 String user  1951435                 String pass  bgscoffee1                  FTPClient ftpClient  new FTPClient                  try                       connect and login to the server                     ftpClient.connectserver, port                     ftpClient.loginuser, pass                       use local passive mode to pass firewall                     ftpClient.enterLocalPassiveMode                     playSound2                     System.out.printlnConnected                     btnNewButton.setTextConnected                      String remoteDirPath                       String saveDirPath  new Filepath.getParent.toString                              Download                      FTPUtil.downloadDirectoryftpClient, remoteDirPath, ,                             saveDirPath                       log out and disconnect from the server                     ftpClient.logout                     ftpClient.disconnect                     playSound3                     System.out.printlnDisconnected                     btnNewButton.setTextDisconnected                  catch IOException ex                       System.out.printlnError   ex.getMessage                     btnNewButton.setTextError   ex.getMessage                     playSounderror                     ex.printStackTrace                                                     public static synchronized void playSoundfinal String url          new Threadnew Runnable               The wrapper thread is unnecessary, unless it blocks on the              Clip finishing see comments.              public void run                  try                      Clip clip  AudioSystem.getClip                     AudioInputStream inputStream  AudioSystem.getAudioInputStreamMain.class                             .getResourcecomdaniel  url  .wav                     clip.openinputStream                     clip.start                  catch Exception e                      System.err.printlne.getMessage                                       .start        codepre  pJust for reference my FTPUtils class is here.p  precodepublic class FTPUtil              Download a whole directory from a FTP server.       param ftpClient an instance of org.apache.commons.net.ftp.FTPClient class.       param parentDir Path of the parent directory of the current directory being       downloaded.       param currentDir Path of the current directory being downloaded.       param saveDir path of directory where the whole remote directory will be       downloaded and saved.       throws IOException if any network or IO error occurred.           public static void downloadDirectoryFTPClient ftpClient, String parentDir,             String currentDir, String saveDir throws IOException          String dirToList  parentDir         if currentDir.equals              dirToList    currentDir                   FTPFile[] subFiles  ftpClient.listFilesdirToList          if subFiles  null ampamp subFiles.length gt 0              for FTPFile aFile  subFiles                  String currentFileName  aFile.getName                 if currentFileName.equals.  currentFileName.equals..                       skip parent directory and the directory itself                     continue                                  String filePath  parentDir    currentDir                            currentFileName                 if currentDir.equals                      filePath  parentDir    currentFileName                                   String newDirPath  saveDir  parentDir  File.separator                          currentDir  File.separator  currentFileName                 if currentDir.equals                      newDirPath  saveDir  parentDir  File.separator                                currentFileName                                   if aFile.isDirectory                       create the directory in saveDir                     File newDir  new FilenewDirPath                     boolean created  newDir.mkdirs                     if created                          System.out.printlnCREATED the directory  newDirPath                         Main.btnNewButton.setTextCREATED the directory   newDirPath                      else                          Main.btnNewButton.setTextCOULD NOT create the directory   newDirPath                                            download the sub directory                     downloadDirectoryftpClient, dirToList, currentFileName,                             saveDir                  else                       download the file                     boolean success  downloadSingleFileftpClient, filePath,                             newDirPath                     if success                          System.out.printlnDownloaded   filePath                         Main.btnNewButton.setTextDOWNLOADED the file   filePath                      else                          System.out.printlnFAIL DOWNLOAD   filePath                         Main.btnNewButton.setTextCOULD NOT download the file                                   filePath                                                                      t       Download a single file from the FTP server       param ftpClient an instance of org.apache.commons.net.ftp.FTPClient class.       param remoteFilePath path of the file on the server       param savePath path of directory where the file will be stored       return true if the file was downloaded successfully, false otherwise       throws IOException if any network or IO error occurred.           public static boolean downloadSingleFileFTPClient ftpClient,             String remoteFilePath, String savePath throws IOException          File downloadFile  new FilesavePath          File parentDir  downloadFile.getParentFile         if parentDir.exists              parentDir.mkdir                   OutputStream outputStream  new BufferedOutputStream                 new FileOutputStreamdownloadFile         try              ftpClient.setFileTypeFTP.BINARYFILETYPE             return ftpClient.retrieveFileremoteFilePath, outputStream          catch IOException ex              Main.btnNewButton.setTextERROR   ex.toString             throw ex          finally              if outputStream  null                  outputStream.close                             codepre
Positive 511 pIve been trying to get the asynchronous behaviour working on a Bottle application as per the example in the documentation. Here is the Bottle doc examplep  precodefrom gevent import monkey monkey.patchall  from time import sleep from bottle import   routestream def stream     yield START     sleep10     yield MIDDLE     sleep10     yield END  runhostlocalhost, port8080, servergevent codepre  pAnd here is what I ended up reducing my own test application down top  precodeusrbinenv python   coding utf8   from gevent import monkey monkey.patchall from bottle import  from time import sleep  routewait10 def wait10     id  inttime.time     sleep10     yield Waited 10  s  strid  runhostlocalhost, port8080, servergevent codepre  pIve opened the Bottle doc example in three browsers simultaneously and each time the callback functions as it should.... concurrently.p  pHowever, on my own example each request waits for the previous callback to have finished as I have identified using the timestamp. Both test files are in the same directory, same Python version, no import errors. Can anybody see why the concurrency is broken in my own examplep
Positive 511 pI am new to scala. It is  helping to reduce code and provide the elements of a functional language to deal with data. However, I am having trouble finding a way to execute a lst of futures in parallel. My list is of the type List[Future[String]]. How can I get this list to execute in parallelp  precodeval futuresdata.map  x gt this.breakStringx .toList codepre  pThe Future is defined asp  precodedef breakStringinXObjectFuture[String]Future      get new jsonObject     val x inX.asInstanceOf[String]     val jmapJacksMapper.readValue[Map[String,AnyRef]]x     val dataArrArray[String]jmap.getthis.rowcolumn.asInstanceOf[String].splittoken     val mapdataArr.map  x gt positions.getdataArr.indexOfx.asInstanceOf[String],x .toMap     map.puthashKey, jmap.gethashKey.asInstanceOf[String]      write out positions     JacksMapper.writeValueAsStringmap    codepre
Positive 511 pIm considering implementing the pessimistic locking pattern in a WinForms insurance quoting application using SQL Server. Before a user starts working on a quote, a record will be added to the lock table when theyre done, the record will be deleted from the table.p  pMy question is, how do I ensure that the lock is released in the event of a failure which is outside of my applications control Im thinking mostly of client side network connection errors or power failures, but there are endless possibilities.p
Positive 511 pstrongPlease notestrong Although this question mentions Java, I think its an OOPconcurrency problem at heart and can probably be answered by anyone with significant programming experience.p  hr  pSo Im building a codeConfigurationLoadercode that will read codeConfigurationcode POJO from a remote service and make it available via an API. A few thingsp  ul liAs soon as the codeConfigurationLoadercode is asked for the codeConfigurationcode the first time, a background thread worker will ping the remote service every, say, 30 seconds, for updates and then apply those updates to the codeConfigurationcode instance andli liIf the codeConfigurationcode is modified, the background worker will be notified of the change and will push the new codeConfigurationcode to the remote serviceli liBoth the codeConfigurationLoadercode and the codeConfigurationcode must be threadsafeli ul  pSo when I think thread safety the first thing I think of is emimmutabilityem, which leads me towards excellent projects like a hrefhttpimmutables.github.io relnofollowImmutablesa. The problem is that codeConfigurationcode cant be immutable because we need to be able to change it on the clientside and then let the loader ripple those changes back to the server.p  pMy next thought was to try and make both codeConfigurationLoadercode and codeConfigurationcode singletons, but the problem is there is that the codeConfigurationLoadercode takes a lot of arguments to instantiate it, and as a hrefhttpstackoverflow.coma10510764009451this excellent answer points outa, a singleton that takes arguments in construction is not a true singleton.p  precode Groovy pseudocode class Configuration       Immutable Singleton Other   class ConfigurationLoader       private fields     Configuration configuration      ConfigurationLoaderint fizz, boolean buzz, Foo foo, ListltBargt bars          super          this.fizz  fizz         this.buzz  buzz          etc.           Configuration loadConfiguration          ifconfiguration  null               Create background worker that will constantly update              configuration                codepre  pstrongWhat are my options herestrong How do I create both the loader and the config to be threadsafe, where the config is changeable by the clientside ondemand or asynchronously by a background worker threadp
Positive 511 pIm new to Threads and I was wondering how could I define what two or more different Threads do in a Java program. Do i define them all in the same public void run method If so, how do I do it I would like the Threat t1 to invoke the increment method, t2 to invoke the decrement method and both of them to call the value methodp  pHeres the code examplep  precodepackage interference     author rodrigopeniche  public class Interference implements Runnable     param args the command line arguments        Counter counter1 new Counter  class Counter      private int c 0      public void increment              c           public void decrement              c           public int value              return c         public static void mainString[] args       TODO code application logic here    Thread t1 new Threadnew Interference  Thread t2 new Threadnew Interference  t1.start  t2.start      Override public void run   counter1.increment counter1.decrement counter1.value       codepre
Positive 511 pPython seems to only have exclusive locks, but that is not a good choice when I protect some data where I want allow multiple reader threads to read some critical data at same time, while exclusive access to only one thread to modify the data.  The GIL Python doesnt allow multiple interpreter threads to execute at the same time. But still readwrite locks would have been a great addition.p  pAlso, atomic data types such as atomic integer, atomic boolean are really useful. For example, I may want to keep a variable for recording the size of data processed from some function, when the function is called from multiple threads and multiple times concurrently. An atomic integer or long perfectly fits the  bill, and relieves us from the expensive lock operations. Java has them, C has them, Go has them I wish we will have them in Python as well. p
Positive 511 pI m using WCF service with Basic Binding with multiple APIs, Now my client SINGLE CLIENT OBJECT ONLY FOR ALL CALLS should be able to call services multiple APIs concurrently regardless of response client get from service.p  hr  pMy Client is Multi Threaded application, and all threads should call Services API Concurrently Made global static Client object which will be common among all threads All threads are using same method to call different random method of service p  hr  pI referred this a hrefhttpblogs.msdn.combrickrainarchive20090617wcfinstancingconcurrencyandthrottlingpart2.aspx relnofollowMsdn blog Linka and made changes accordinglyp  pI had already put p  precode[ServiceBehaviorInstanceContextMode  InstanceContextMode.PerCall,ConcurrencyMode  ConcurrencyMode.Multiple] codepre  pand also checked for lock in services and clients code.p  pthen I tried setting p  precodeSystem.Net.ServicePointManager.DefaultConnectionLimit  10 codepre  pbut output is samep  pat the very end I am still getting the behaviour of client like sending Request  Receiving Response  Sending 2nd Request  .. and so on p  pand I want behaviour where sending requests to server should be independent to the responses using single Client Object onlyp  pSuggest me some changes or correct me if I misunderstood anythingp  pThankyoup
Positive 511 pWe have a C app that populates tables on worksheets within an Excel document.p  pThe tables must be populated in the order the rows are returned from the database.p  pThe object DataFileColData is defined as a List and contains the result set rows. For testing purposes, Im only using [0] of the List.p  pCode segment 1 below doesnt work. Row order is not preserved in that the end result has the data displayed out of order although the numbers themselves are listed in orderp  precodeif DataFileColData[0].Count gt 0      ConcurrentDictionaryltint, DataRowgt theRows  new ConcurrentDictionaryltint, DataRowgt9, DataFileColData[0].Count      Parallel.For0, DataFileColData[0].Count, i gt               go through each column         int c  0         try                      foreach var Col in DataFileColData                              var cell  Col[i]                 if cell  null                                      if cell.GetType.Name  JArray If Jarray then table compression was used not column compression                                              if theRows.TryAddi, Dt.NewRow                             theRows[i].ItemArray  JsonConvert.DeserializeObjectltobject[]gtCol[i].ToString                                          else                                              if theRows.TryAddi, Dt.NewRow                             theRows[i][c]  cell                                                       c                       try         catch Exception e                      throw new ExceptionException thrown in PublicMethods.cs  RenderExcelFile while in foreach loop over DataFileColData   e.ToString                for      parallel      Add the rows to the datatable in their original order     might have gotten skewed from the parallel.for loop     for int x  0 x lt theRows.Count x         Dt.Rows.AddtheRows[x]      Set the name so it appears nicely in the Excel Name Box dropdown instead of table1, table2, etc etc.     Dt.TableName  ExcelTableSpec.TableTitle     r.TableID  codepre  pcode segment 2 below does work with the row order and data associated with each row preserved p  precodeif DataFileColData[0].Count gt 0      DataRow[] theRows  new DataRow[DataFileColData[0].Count]      Parallel.For0, DataFileColData[0].Count, i gt              DataRow Rw  Dt.NewRow           go through each column         int c  0         try                      foreach var Col in DataFileColData                              var cell  Col[i]                 if cell  null                                      if cell.GetType.Name  JArray If Jarray then table compression was used not column compression                                              lock theRows                                                      theRows[i]  Dt.NewRow                             theRows[i].ItemArray  JsonConvert.DeserializeObjectltobject[]gtCol[i].ToString                                                                   else                                              lock theRows                                                      theRows[i]  Dt.NewRow                             theRows[i][c]  cell                                                                                c                       try         catch Exception e                      throw new ExceptionException thrown in PublicMethods.cs  RenderExcelFile while in foreach loop over DataFileColData   e.ToString                for      parallel      Add the rows to the datatable in their original order     might have gotten skewed from the parallel.for loop     Dt  theRows.CopyToDataTable      Set the name so it appears nicely in the Excel Name Box dropdown instead of table1, table2, etc etc.     Dt.TableName  ExcelTableSpec.TableTitle     r.TableID  codepre  pI dont understand why. I didnt think the locking mechanism would be needed because each thread gets its own instance of i and a ConcurrentDictionary is supposed to be thread safe. p  pWould someone be able to explain to me please why the code isnt working the way I think it shouldp  pThank youp  hr  pstrongUPDATED CODE as per Enigmativitys comments below.strongp  pThe MSDN documentation isnt quite clear to me anyway, but does appear to update the DataTable even though the MSDN documentation doesnt indicate it does when executing the NewRow method.p  pNew working code belowp  precodeif DataFileColData[0].Count gt 0                                      DataRow[] theRows  new DataRow[DataFileColData[0].Count]                      Parallel.For0, DataFileColData[0].Count, i gt                     for int i  0 i lt DataFileColData[0].Count i                                              lock Dt                                                      theRows[i]  Dt.NewRow                                                    go through each column                         int c  0                         try                                                      foreach var Col in DataFileColData                                                              var cell  Col[i]                                 if cell  null                                                                      if cell.GetType.Name  JArray If Jarray then table compression was used not column compression                                                                              theRows[i].ItemArray  JsonConvert.DeserializeObjectltobject[]gtCol[i].ToString                                                                          else                                                                              theRows[i][c]  cell                                                                                                       c  1                              foreach                          try                         catch Exception e                                                      throw new ExceptionException thrown in PublicMethods.cs  RenderExcelFile while in foreach loop over DataFileColData   e.ToString                                                for                      parallel                      Add the rows to the datatable in their original order                     might have gotten skewed from the parallel.for loop                     Dt  theRows.CopyToDataTable                      Set the name so it appears nicely in the Excel Name Box dropdown instead of table1, table2, etc etc.                     Dt.TableName  ExcelTableSpec.TableTitle     r.TableID                      cleanup                     if theRows  null                         Array.CleartheRows, 0, theRows.Length                     theRows  null                   if DataFileColData[0].Count gt 0 codepre
Positive 511 pI am currently developing an application using PhoneGap, it has some visuals and plays sounds. I use the PhoneGap Media Plugin for Audio playback, this uses the AVAudioPlayer on iOS.p  pIm creating a kind of book application with slides.p  pI have one long MP3 which plays in the background. This contains the voice and is translated to several languages. This soundfile is pretty long, i encode it to MP3 to save space, and the device should be using Hardware decoding for this track. p  pThe other sounds are language independent. Each slide has some sounds that play independent of user interaction, and some play when the user taps a specific sprite on the screen. The sound effects i.e. the language independent content is in a adpcm ima4 wav format, this is done to make it easier for the CPU to decode the audio.p  pOn Android this all works well, and the player can decode and playback all my sounds without any problems.p  pOn iOS however, I can only play about 2 sounds varies simultaenously, while I need atleast 3 or 4, maybe even 5 simultaenous sounds.p  pI began to debug my Application in Xcode and noticed the following error popping up, and the playback of other sounds becoming deactivated. This happens  when more than 23 sounds were played simoultaenouslyp  precodeError [0x36d179dc] AVAudioSession.mm646 [AVAudioSession setActivewithOptionserror] Deactivating an audio session that has running IO. All IO should be stopped or paused prior to deactivating the audio session. codepre  pHowever this only happens when I run my application on my iPad 2 or iPhone 4S havent tested any other hardware, but does not occur when I run the application in the iOS Simulator.p  pMemory usage and CPU usage are both normal, and it should be able to playback the other sounds from a resources perspective.p  pWhy does this happen, why is my audio session deactivatedp  pThanks in advance.p
Negative 511 pI want to extract the data from SUB tag line by line and store the data in hash.. I did this but im not getting the resultp  pfilep  precodeltSUBgt  name1abc  value124  value224 ltSUBgt  ltSUBgt  nameabc2 ltSUBgt  ltSUBgt  name3ag  value327 ltSUBgt  ltSUBgt  name4ljh  value490 ltSUBgt codepre  pcodep  precodeuse strict  use warnings   open my fh, lt, datafile.txt or die      while ltfhgt      whilemltSUBgt.ltSUBgtg     print 2,        codepre  pplz help me out...p
Negative 511 pI have gridp  precodeltphp thisgtwidgetbootstrap.widgets.TbGridView,array     idgtproductsgrid,     htmlOptionsgtarrayclassgtgridview tablestriped,,     dataProvidergtmodelgtsearch,     columnsgtcolumns,  gt codepre  pmodelsearch p  precodereturn new CActiveDataProviderthis, array             criteria gt criteria,             pagination gt arraypageSize gt 50          codepre  pAnd I need to limit length of every column. For example, if column 1 has value p  blockquote   pHello Worldp blockquote  pand config variable for first column is 7, then I need to render p  blockquote   pHello W...p blockquote  pI think, that i can solve my problem with behaviours, am I right Please, help mep
Negative 511 pIn Fedora 17 64bit while using netifaces and json imports.p  pIm trying to get this format in JSONp  blockquote precodenetinfo  [             nic  ..., mac  ..., ip  ...,             nic  ..., mac  ..., ip  ...,             nic  ..., mac  ..., ip  ...,             ] codepre blockquote  pIm currently using a codestringcode and just appending to it, and I get thisp  precodenetinfo [niceth0,mac6cf0490fe1c2,ip192.168.1.116,] codepre  pThis may not work due to the quotes at the beginning and the end of each string is there a better way of accomplishing this I was thinking of using a List of Dictionaries but ended up trying strings first, not sure what would best in this case.p  pstrongHeres my code that takes in 3 listsstrongp  precodedef jsonserializeip[],mac[],nic[]     jsonDump  netinfo [     for i,item in enumerateip         jsonDump  interfacename  nic[i] ,mac                         mac[i]  ,ip  ip[i] ,         jsonDump  ]         print jsonDump.strip      Testing output after its passed in to json.dumps, it now has quotes at beginning     and end of string...     print n     print     json.dumpsjsonDump codepre
Negative 511 pI am animating a hidden div with slideToggle. since it has a fixed position on top, I want to add animate the padding top of that container div under it with the current height of the hidden div.p  pHowever the class toggles correctly on click, and the padding is added with the correct amount of pixels, after toggling away the class the padding remains.p  pHow come when I apply the padding on the toggled class it keeps being there even though the class is removed on 2nd click toggling it awayp  pjsp  precodemyButton.clickfunctione     e.preventDefault      myDiv.slideToggle function          var myDivHeight  this.outerHeight          .containerDiv.toggleClassmyDivOpened          .myDivOpened.csspaddingtop, myDivHeight  15          codepre  pThanks very much.p
Negative 511 pI have a jquery action apply on a div based which i select the div and apply action but i hve 90 div  on its ID how to Abbreviated this statements  Here is the code p  precodeif justgarph gt pcontainsdraggable1.length gt 0      .product.animate         top 0,         left 0     , 500.delay100      draggable1.animate         top 300px,         left 200px     , 500      setTimeoutfunction           draggable1.animate             top 106px,             left 470px         , 1000         draggable1.addClassactiveproduct     , 800   if justgarph gt pcontainsdraggable2.length gt 0      .product.animate         top 0,         left 0     , 500.delay100      draggable2.animate         top 300px,         left 100px     , 500      setTimeoutfunction           draggable2.animate             top 106px,             left 320px         , 1000          draggable2.addClassactiveproduct     , 800  codepre
Negative 511 pI am using Zend Service Amazon 2.0 to search for books using a keyword. Right now, the code is searching for ALL books regardless of subcategory. How can I make it only search for UNIVERSITY textbooks, as in the following linkp  precodehttpwww.amazon.co.ukUniversityTextbooksbrefamblink1628145474ieUTF8ampnode511914031amppfrdmA3P5ROKL5A1OLEamppfrdsleft1amppfrdr0HCH1765DMFTPPTJ0QRGamppfrdt101amppfrdp361137207amppfrdi266239 codepre  pHere is my codep  precode    public function amazonsearchkeywords       setincludepathgetincludepath . PATHSEPARATOR . applicationlibrariesAmazon     requireonce ZendLoaderStandardAutoloader.php      autoloader  new ZendLoaderStandardAutoloaderarray         namespaces gt array             Zend        gt dirnameFILE . Zend,             ZendRest    gt dirnameFILE . ZendRest,             ZendService gt dirnameFILE . ZendService,         ,         fallbackautoloader gt true      autoloadergtregister      tag          replace with your Amazon app ID     appId        replace w your access key from httpsportal.aws.amazon.comgpawssecurityCredentials     secretKey       query   new ZendServiceAmazonQueryappId, UK, secretKey     querygtCategoryBooksgtKeywordskeywordsgtAssociateTagtaggtPage10     data[result]  querygtsearch     vardump data[result]     thisgtloadgtviewdevelopmentamazonsearch,data  codepre
Negative 511 pIm writing a pass through query in sas. How do I make this search case insensitive to search a narative text Thank you in advance.p  precodePROC SQL INOBS 1000     CONNECT TO ORACLE as con1     DBMAXTEXT... PATH...dba pwmypassword     CREATE TABLE PHRASES AS     SELECT        FROM CONNECTION TO con1        SELECT   T1.DOCID,  T1.NRTVTXT  , REGEXPINSTRNRTVTXT,LOOKING FOR TERMSUSED FORMSPOSITION, REGEXPSUBSTRNRTVTXT,LOOKING FOR TERMSUSED FORMS  PATTERN FROM   NRTV T1            DISCONNECT FROM con1 QUIT codepre
Negative 511 pI cant figure out how to handle this JSON value using SBJsonParser in ObjectiveC.br The JSON returns as codesuccesstruecode inside of a larger JSON object.br It parses fine and when I do a po on it like this codepo [jsonObject objectForKeysuccess]code the result is simply code1code.br Im trying to figure out how to test for it in an IF statement though. I have tried doing code 1code, code truecode, code TRUEcode, code YEScode and code [NSNumber numberWithInt1]code all of which return false.  p  pHow in the world do I test for thisp
Negative 511 pIm sound file that Ive record using  the ALSA lib using following setups p  precodeFs  96000  sample frequency  channelNumber  1  format int16   length  5sec codepre  pmeaning that I get 480000  16bit value. Now I want to calculate the PSD of the set of that to get something like p  pimg srchttpi.stack.imgur.comx0art.png altPSDp  pwhat Im trying to do is tto save the result as a bunch of double value in a extra data so I can plot them of evaluating them  Im not sure if thats correct  p  precode   include ltstdio.hgt include ltstdlib.hgt include ltmath.hgt include ltfftw3.hgt  int main     char fileName[]  sound.raw     char magnFile[]  data.txt     FILE inp  NULL     FILE oup  NULL     float data  NULL     fftwfcomplex out      int index  0     fftwfplan  plan     double var 0     short wert  0     float r,i,magn     int N  512      data floatfftwfmallocsizeoffloatN        out  fftwfcomplex fftwfmallocsizeoffftwfcomplexN     Allocating the memory for the input data      plan  fftwfplandftr2c1dN,data,out, FFTWMEASURE      opening the file for reading      inp  fopenfileName,r     oup  fopenmagnFile,w      ifinp NULL         printf couldnt open the file  n          return 1          ifoupNULL         printf couldnt open the output file n          whilefeofinp              ifindex lt N                 freadampwert,sizeofshort,1,inp                 printf Wert d n,wert                 data[index]  floatwert                 printf Wert lf n,data[index]                 index  index 1                          else                  index  0                 fftwfexecuteplan                 printfNew Plan n                 printf Real t imag t Magn t  n                 forindex  0  indexltN index                     rout[index][0]                     i out[index][1]                     magn  sqrtrrii                     printf.10lf t .10lf t .10lf t n,r,i,magn                     fwriteampmagn,sizeoffloat,1,oup                     fwriten,sizeofchar,1,oup                     fprintfoup,.10lfn , magn                                  index  0                  fseekinp,N,SEEKCUR                        fftwfdestroyplanplan     fftwffreedata      fftwffreeout     fcloseinp     fcloseoup     return 0    codepre  pthe problem that I have is how can I implement the winding function in my code   and  I dont think that result is accurate, since Iget a lot of zero  in magnitude values  br if somebody has an example Ill be thankful . p
Negative 511 pIm writing an application that will parse a script in a custom language based emslightlyem on C syntax and a hrefhttpen.wikipedia.orgwikiIndentstyleAllmanstyle relnofollow titleAllman styleAllman stylea formatting and am looking for a better read faster way of parsing blocks of the script code into string arrays than the way Im currently doing it the current method will do, but it was more for debug than anything else.p  pThe script contents are currently read from a file into a string array and passed to the method.p  pHeres a script block templatep  precodeloop [ some conditional  ]     a whole bunch of commands that are to be read into     a Listltstringgt, then converted to a string[] and     passed to the next step for execution       some command that has a bracket delimited set of      properties or attributes            some more commands to be acted on       codepre  pBasically, the curly bracket blocks can be nested just like in any other Cbased language, and Im looking for the best way to find individual blocks like this.p  pThe curly bracket delimited blocks will strongALWAYSstrong be formatted like this  the contents of the brackets will start on the line after the open bracket and will be followed by a bracket on the line after the final attributecommandcommentwhatever.p  pAn example might bep  precodeloop [ someVar lt 10 ]    informUser Get ready to do something   readValue        valueToLookFor  0x54     timeout  10  in seconds      codepre  pThis would tell the app to loop whilst someVar is less than 10 sorry for the sucking eggs comment. Each time round, we pass a message to the user and look for a specific value from somewhere with a timeout of 10 seconds.p  pHeres how Im doing it at the minute note the method that calls this passes the entire string[] containing the current script into it with an index to read fromp  precodeprivate string[] findEntireBlockstring[] scriptContents, int indexToReadFrom,                                 out int newIndex      newIndex  0     int openBraceCount  0      for  char count     int closeBraceCount  0     for  char count     int openSquareCount  0     for [ char count     int closeSquareCount  0    for ] char count      Listltstringgt fullblock  new Listltstringgt      for int i  indexToReadFrom i lt scriptContents.Length i              if scriptContents[i].Contains                      if scriptContents[i].Contains[ ampamp fullblock.Count gt 0                              throw new exception, as we shouldnt expect to                 to find a line which starts with [ when weve already                          else                              if scriptContents[i].Contains openBraceCount                 if scriptContents[i].Contains closeBraceCount                 if scriptContents[i].Contains[ openSquareCount                 if scriptContents[i].Contains] closeBraceCount                 newIndex  i                 fullblock.AddscriptContents[i]                 break                               else                      if scriptContents[i].Contains[ ampamp fullblock.Count gt 0                              throw new exception, as we shouldnt expect to                 to find a line which starts with [ when weve already                          else                              if scriptContents[i].Contains openBraceCount                 if scriptContents[i].Contains closeBraceCount                 if scriptContents[i].Contains[ openSquareCount                 if scriptContents[i].Contains] closeBraceCount                 fullblock.AddscriptContents[i]                                if openBraceCount  closeBraceCount ampamp         openSquareCount  closeSquareCount           return fullblock.ToArray     else         throw new exception, the number of open brackets doesnt match         the number of close brackets  codepre  pI agree that this might be a slightly obtuse and slow method to follow, thats why Im asking for any ideas on how to reimplement this for speed and clarity if a balance can be met, that is.p  pIm looking to stay away from RegEx, because I cant use it to maintain a bracket count and Im not sure on whether you can write a RegEx statement is that the correct term that can act recursively. I was thinking of working from the inside outward, but Im convinced that would be quite slow.p  pIm strongnotstrong looking for someone to rewrite it for me, but a general idea on algorithms or techniqueslibraries that I could use that would improve my method.p  pAs a side question, how do compilers deal with multiple nested brackets in source codep
