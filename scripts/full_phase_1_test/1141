Positive 1141 pI have this testp  precode describe checkaccountstatus do   it should send the correct reminder email one week prior to account disablement do    Three weeks since initial email   reverification  createreverification   initialnotification  reverification.twitterreverificationsentat.todatetime   ActionMailerBase.deliveries.clear   Timecop.freezeinitialnotification  21 do     Reverification.checkaccountstatus     ActionMailerBase.deliveries.size.mustequal 1     ActionMailerBase.deliveries.first.subject.mustequal I18n.t.accountmailer.oneweekleft.subject     reverification.remindersentat.class.mustequal ActiveSupportTimeWithZone     reverification.notificationcounter.mustequal 1     mustrendertemplate reverification.html.haml   end end codepre  pThis test produces this errorp  precodecheckaccountstatustest0001should send the correct reminder email one week prior to account disablement [Usersdrubiovmsohlohuitestmodelsreverificationtest.rb67] Expected ActiveSupportTimeWithZone Actual NilClass codepre  pHere is my codep  precodeclass Reverification lt ActiveRecordBase   belongsto account    FIRSTNOTIFICATIONERROR  []    class ltlt self     def checkaccountstatus       Reverification.wheretwitterreverified false.each do reverification         calculatestatusreverification         oneweekleftreverification       end     end      private      def calculatestatusreverification       rightnow  Time.now.utc.todatetime       initialemaildate  reverification.twitterreverificationsentat.todatetime       notificationcounter  reverification.notificationcounter     end      def oneweekleftreverification      Check to see if three weeks have passed since the initial email      and check to see if its before the one day notification before      marking an account as spam.       if rightnow.toi gt initialemaildate  21.toi ampamp rightnow.toi lt initialemaildate  29.toi         begin           AccountMailer.oneweekleftreverification.account.delivernow         rescue           FIRSTNOTIFICATIONFAILURE ltlt account.id           return         end         updatereverificationfieldsreverification       end     end      def updatereverificationfieldsreverification       reverification.notificationcounter  1       reverification.remindersentat  Time.now.utc       reverification.save       reverification.reload     end   end codepre  pForgive the indentation, but what seems to be the problem, is that my reverification object doesnt update when it leaves the checkaccountstatus method. Ive placed codeputscode statements through out the code and I can see without a doubt that the reverification object is indeed updating. However after it leaves the codeupdatereverificationfieldscode and returns to the test block, the fields are not updated. Why is that Has anyone encountered thisp
Positive 1141 pI am trying to get a list of uniq codepatientscode who have submitted an codeesasassessmentcode, sorted by the time the codeesasassessmentcode was codecreatedatcode for a codecliniciancode that codehasmanycode codepatientscode codethroughcode a table called codecaregroupassignmentscode.p  pWhat I have here was working but stopped working when I made it so that codeclinicianscode codehasmany esasassessments, through gt patientscode instead of having  codeesasassessmentcode having a codeclinicianidcode field and being tied directly to a clinician.  I needed to make this choice so that multiple clinicians could be associated with an codeesasassessmentcode.p  pThis is what I had before changing how codeesasassessmentscode were associated with codeclinicianscode.  This was based on a hrefhttpstackoverflow.comquestions29686732protocolviolationerrorbindmessagesupplies0parametersbutpreparedstatethis answera.p  precodelt esasassessments.orderpatientid, createdat DESC.selectON patientid .uniq.limit99.eachwithindex do esasassessment, index gt codepre  pThis now gives mep  blockquote   pPGAmbiguousColumn ERROR  ORDER BY patientid is ambiguousp blockquote  pI dont actually understand why these are ambiguous since neither codepatientscode or codeclinicianscode have the fields codepatientidcode or codecreatedatcode.p  pTo try to deal with this I used a hrefhttpsrailsforum.comtopic59730tryingtosolvepgambiguouscolumnerrorcolumnreferenceuserid relnofollowthis answera and added codeesasassessment.code before the ambiguous fields.p  precodelt esasassessments.orderesasassessment.patientid, esasassessment.createdat DESC.selectON esasassessment.patientid .uniq.limit99.eachwithindex do esasassessment, index gt codepre  pThis gives me errorp  blockquote   pPGUndefinedTable ERROR  missing FROMclause entry for table esasassessmentp blockquote  precode SELECT  DISTINCT ON esasassessment.patientid  FROM esasassessments INNER JOIN patients ON esasassessments.patientid  patients.id INNER JOIN caregroupassignments ON patients.id  caregroupassignments.patientid WHERE caregroupassignments.clinicianid  1 ORDER BY esasassessment.patientid, esasassessment.createdat DESC LIMIT 99 codepre  pI have also tried using a hrefhttpstackoverflow.comquestions25099668pgundefinedtableerrormissingfromclauseentryfortablewhenusingjoinsthis answera since it seems like a similar problem but cant figure it out.p  pAny help would be great.p  pRails 4.1.8, ruby 2.2.1p85, PostgreSQLp
Positive 1141 h2Scenario descriptionh2  pI have a master and a feature branch for my source control.p  p masterbr nbspnbspnbspnbspnbspnbsp featurep  pI have a column called codeuselesscolumncode for my codeUsercode model, which is present in master branch, which i want to drop in feature branch.p  pNow, I strongdropstrong codeuselesscolumncode using rails migrations in strongfeature branchstrong removing all code that depends on that column and commit. codeschema.rbcode and psql database are now updated.p  h2Questionh2  pNext, suddenly, I realize I made a mistake, and I want to stronggo back to the master branchstrong and discontinue working on feature branch. So, I codegit checkout b mastercode, but at this point I cannot codedbrollbackcode or codeschemaloadcode or anything because the database stronghas forgotten all the valuesstrong in the codeuselesscolumncode which the master branch still depends on.p  pDoes this mean I had to make a dump before I removed this column If so, then the workflow is to make a database dump everytime you do a migration If not, then how do you solve this problemp  pRelated link a hrefhttpstackoverflow.comquestions4735058howtoworkwithgitbranchesandrailsmigrationsHow to work with Git branches and Rails migrationsap  pUseful link a hrefhttptechnotes.iangreenleaf.composts20130910railsmigrationsandschema.html relnofollowhttptechnotes.iangreenleaf.composts20130910railsmigrationsandschema.htmlap
Positive 1141 pOnce in a while when trying to fetch an order record for a particular user, a codeActiveRecordRecordNotFoundcode is raised.p  pSome things to note here.p  ul liThe error is raised when visiting codeordersidcode, but not for all users. We track completed orders meaning that you end up on a orders page and around 50 gets a 404. Note that were talking about 50 of the users, not the requests. If it displays 404 once for an order for a particular user, it will always display a 404.li liThe record exists as it can be accessed via the console using the same data thats being logged in the controller.li liThe problem disappears when redeploying the application.li ul  pWhat could the problem bep  pIm running rails 4.2.0.p  precodeclass OrdersController lt ApplicationController       GET ordersid      def show     Rails.logger.info currentusercurrentuser.id, params[id]params[id]     order  currentuser.orders.findparams[id]   end end   class ApplicationController lt ActionControllerBase   def currentuser     currentuser  User.findbyidcookies.signed[uid]   end end  class User lt ActiveRecordBase   hasmany subscriptions   hasmany orders, through subscriptions end  class Order lt ActiveRecordBase   hasone user, through subscription end  class Subscription lt ActiveRecordBase   belongsto user end codepre  pHeres the log outputp  precode[Userid2454266]   Parameters idgt1553 [Userid2454266] currentuser2454266, params[id]1553 lt Rails.logger.info [Userid2454266] Completed 404 Not Found in 240ms [Userid2454266] ActiveRecordRecordNotFound Couldnt find Order with id1553   appcontrollersorderscontroller.rb6in show codepre  pRunning codeUser.find2454266.orders.find1553code in the console works.p  pAlso note that its possible to skip the relation and go directly to the order model, like thisp  precodeclass OrdersController lt ApplicationController       GET ordersid      def show     order  Order.findparams[id]   end end codepre
Positive 1141 pA codeCountrycode hasmany coderesidencescode and a codeResidencecode hasmany codelistedamenitiescode which are linked to codeamenitiescode. I need to know how many coderesidencescode which are located in the codeCountrycode with the id 1 have the codeamenitiescode with the ids [48, 49, 50] they can have more but they have to have all three of them.p  pThe following Ruby on Rails v4.2.4 code does the trickp  precodeidlist  [48, 49, 50] Country.first.         residences.         whereid Residence.         joinslistedamenities.         wherelistedamenities amenityid idlist.         groupresidences.id.         havingcountlistedamenities.  , idlist.size.         pluckid.         count codepre  pIt results in the following SQLp  precodeSELECT  countries.  FROM countries   ORDER BY countries.id ASC LIMIT 1  SELECT residences.id  FROM residences  INNER JOIN listedamenities  ON listedamenities.residenceid  residences.id  WHERE listedamenities.amenityid IN 48, 49, 50  GROUP BY residences.id  HAVING countlistedamenities.  3  SELECT COUNT  FROM residences  WHERE residences.countryid  1  AND residences.id  IN 51, 59, 60, ...  [[countryid, 1]] codepre  pObviously that is an expensive way to solve the given problem and each table has more than 1,000,000 entries.p  pstrongHow can I solve this on a PostgreSQL 9.4.4 in a betterfaster waystrong Is there one magic SQL line which does the trick p  pThanks to a hrefhttpstackoverflow.comquestions32704765getthecountofrowscountaftergroupbyGet the count of rows count after GROUP BYa I have the following SQL query for doing the search over all coderesidencescode but I lack the SQL knowhow to connect the codeCountrycode to itp  precodeSELECT count AS ct FROM      SELECT 1    FROM   listedamenities    WHERE  amenityid IN 48, 49, 50    GROUP  BY residenceid     HAVING count  3     sub codepre  h2The Ruby on Rails setuph2  precoderails g scaffold Country name rails g scaffold Residence countryreferences namestring rails g scaffold Amenity namestring rails g scaffold ListedAmenity residencereferences amenityreferences codepre  pstrongappmodelscountry.rbstrongp  precodeclass Country lt ActiveRecordBase   hasmany residences end codepre  pstrongappmodelsresidences.rbstrongp  precodeclass Residence lt ActiveRecordBase   belongsto country    hasmany listedamenities   hasmany amenities, through listedamenities end codepre  pstrongappmodelsamenities.rbstrongp  precodeclass Residence lt ActiveRecordBase   belongsto country    hasmany listedamenities   hasmany amenities, through listedamenities end codepre  pstrongappmodelslistedamenities.rbstrongp  precodeclass ListedAmenity lt ActiveRecordBase   belongsto residence   belongsto amenity end codepre
Positive 1141 pSo lets say that I have a Product and Category model. There is a one to many relationship between them  category has many products, product belongs to category .  I create a collection of categories based on certain criterias using a named scope. Lets call this collection A. Then I would like to create a collection of products which belongs to either category in collection A.p  pHow can I do this p  pMy guess would be to use the ids of collection A  A.ids  and use map or lambda to check if the categoryid of a product is included in the array of ids I built from collection A. I am not sure how to do this exactly, and if is the most efficient way to achieve the end result.p
Positive 1141 pI have two models in my rails 4.2.4 project that Id like to join together and Im struggling with creating the correct relationship between the two. The domain in question is rugby and the code is all available at a hrefhttpsgithub.comrgbycchrgbycchresttreerails relnofollowhttpsgithub.comrgbycchrgbycchresttreerailsa. The models arep  pcodePlayercode a hrefhttpsgithub.comrgbycchrgbycchrestblobrailsappmodelsplayer.rb relnofollowhttpsgithub.comrgbycchrgbycchrestblobrailsappmodelsplayer.rba codePlayerPositioncode a hrefhttpsgithub.comrgbycchrgbycchrestblobrailsappmodelsplayerposition.rb relnofollowhttpsgithub.comrgbycchrgbycchrestblobrailsappmodelsplayerposition.rbap  pId like to be able to create a relationship whereby a codePlayercode can have multiple favoured codePlayingPositioncodes. I believe my db structure would need to look something like thisp  precodecreatetable favouredpositions do t   t.references player, index true, foreignkey true  fk to player table   t.references playerposition, index true, foreignkey true  fk to playerposition table   t.integer numfavs  additional data for a favored playing position    t.timestamps null false end codepre  pI can generate a new codeFavoredPositioncode model like this I guessp  precodebundle exec binrails generate model FavouredPosition playerreferences playerpositionreferences numfavsinteger codepre  pwhich generates a class that looks likep  precodeclass FavouredPosition lt ActiveRecordBase   belongsto player   belongsto playerposition end codepre  pIm not sure how to alter my codePlayercode and codePlayerPositioncode models to reflect this new relationship. Is the following correctp  precodeclass Player lt ActiveRecordBase   hasmany favoredpositions, through gt favouredpositions end  class PlayerPositions lt ActiveRecordBase   hasmany favoredplayingpositions, through gt favouredpositions end codepre  pWould you advise me to add indexes to either of these tables toop  pThanks,p  pSeanp
Positive 1141 pWhats the best way to prevent that an empty string gets inserted into a field of an MySQLs InnoDB table Allowed values are strings with more than zero characters or NULL.p  pIm asking that because such ActiveRecord model objects often get loaded with views form data which dont know and thus dont sent NULL values. In such a case Id like to have that a NULL gets stored instead of the empty string.p  pShould I define a rule Should I implement a setter Use a triggerp
Positive 1141 pI am trying to understand the model design for classified ads. Suppose I have some category and sub category under it like belowp  precodeElectronicsMain category Mobile Company Model TV Company Model PropertyMain category CarSub category BrandSub Sub category Speed RangeSub Sub Sub category codepre  pAnd I have a model for Ads.p  pHow can I make the relationship among the categories, all sub categories and ads. So far I have come up with the design belowp  precodeclass MainCategoy lt ActiveRecordBase   hasmany subcategory end  class SubCategoy lt ActiveRecordBase   hasmany subsubcategoy    belongsto maincategory end  class SubSubCategoy lt ActiveRecordBase   hasmany subsubsubcategory   belongsto subcategory end  class SubSubSubCategoy lt ActiveRecordBase   belongsto subsubcategory end  class Adslt ActiveRecordBase  end codepre  pNow my question is 1 is my association for different category and subcategories correct If not please suggest what would be best design.p  p2 I dont understand how to associate ads with category and subcategory. It is not necessary that a Category will always have a SubSubSubCategory or SubSubCategory but it will must have SubCategory. How can I do the association for this p
Positive 1141 pI want to return Users with Books which are part of a scope p  precodeclass User lt ActiveRecordBase   hasmany books end  class Book lt ActiveRecordBase   belongsto user    scope published, gt  where status Published  end codepre  pSop  precodeBook.published codepre  preturns all the published books. Im trying to define a scope of all users who have one or more published books.p  pKnowing thatp  precodeUser.joinsbooks.uniq.all codepre  preturns all users with a book from a hrefhttpstackoverflow.comquestions9922833railshowtogetobjectswithatleastonechildRails How to get objects with at least one childa  can I add a scope to that, or is there a better approachp
Negative 1141 pHow do I get rid of the blank page usually with the app name as a title that loads when you start up your application. Ive done some reasearch and the best explanationsolution I found was to set the applications theme to null so the android system doesnt draw that page.p  pI have tried this but it doesnt work though in principle I think it should. p  pIn my styles.xml I have p  precodeltstyle nameNoBackground parentandroidThemegt     ltitem nameandroidwindowBackgroundgtnullltitemgt ltstylegt codepre  pand in my manifest file I havep  precodeltapplication     androidname.FIXR     androidallowBackuptrue     androidicondrawablelauncher     androidlabelstringappname     androidthemestyleNoBackground gt codepre  pIs there a better way to get rid of thisp
Negative 1141 pHow would one concatenate a symbol with text on either side  For examplep  ul liPrefix codeGARcode li liVariable codetodayDatecodeli liSuffix code1codeli ul  pcodeGARtodayDate1codep  pWhich would evaluate to codeGAR072020121codep  pWhen running the test in fitnesse, it seems as though the concatenation is working codeGARtodayDategt[07202012]1code.  However, I am passing this value as a parameter to visual studio and I instead end up with the following text codeGARtodayDate1code.p  pWhen I remove the suffix or put a space between codetodayDatecode and code1code, everything works as expected.p  pAny help would be appreciated.p  pThings I have triedp  ul licodeGARtodayDate1codeli licodeGARtodayDate1codeli licodeGARtodayDateSUFFIXcode  static variable definedli ul  pThanks, Mikep
Negative 1141 pI have 7 different classes and each have multiple boolean properties. I am trying to work out a way to dynamically bind these properties to a checkboxlist.p  pIdeally I could have one checkboxlist control then based on another selection I can bind any of the 7 different class objects boolean properties to the one checknoxlist control. Some of these objects have more than just boolean properties.p  pI have seen some examples around of using reflection to bind controls to business objects but I am not 100 sure if this is the right approach in my case.p  pIs something like this possible Or will I have to define 7 different checkboxlists and manually create list items for each of the properties in my business objectp
Negative 1141 pIn the Chrome extension Im working on right now, theres a situation where if the user rightclicked on this linkp  precodelta hrefhttpwww.google.comgtHelloltagt codepre  pand selected a certain option from my extensions context menu, I need the string Hello to be captured in some form. As the a hrefhttpcode.google.comchromeextensionscontextMenus.html relnofollowContext Menus APIa shows, its easy to capture text from a rightclicked selection emorem the actual URL of the hyperlink in this case, Google.com , since these appear in OnClickData, but Im not sure how I would capture the text from a link. p  pAs a side note, if a user emhighlightsem a hyperlink and tries to use my context menu, it doesnt work. However, it works properly if the user highlights normal text. I do have link and selection enabled under contexts when I create the context menu option.p
Negative 1141 pIam using Yii framework, I want to reload this divp  precodeltdiv classlikes idlikesgt    ltphp       echo modelgtlikes. .CHtmlimageButtonsrc.like.png, arrayvaluegtlike,      widthgt25px, heightgt20px    gt ltdivgt codepre  pby using this ajax function that is written in a js file in the extensions folderp  precodedocument.readyfunction    like.clickfunction       likes.htmlresult reloaded successfully          codepre  pbut their is nothing happened when I clicked the button, can you help mep
Negative 1141 pI am trying to show an image  but make it difficult to save. So the idea is to have an image div and on top of it another div with a background colour so hiding it. Then display none on the empty div using jquery on mousedown. Thought it would be simple enough. The addition of the mouse down function in my code seems to always hide the black div. Any ideas welcome and thanks in advance.p  precodeltdoctype htmlgt lthtmlgt ltheadgt     ltmeta charsetutf8gt     lttitlegtDemolttitlegt     ltstylegt         .image              position relative                  .black              position absolute             top0px             left0px             backgroundcolor 000              ltstylegt         ltscript srcjquery.jsgtltscriptgt     ltscriptgt          document .readyfunction              var imageHeight.image img.outerHeight            var imageWidth.image img.outerWidth            .black.cssheight,imageHeight            .black.csswidth,imageWidth             .black.mouseover function                  this.cssdisplay,none                            ltscriptgt ltheadgt ltbodygt     ltdiv classimagegt         ltimg srcimage18.jpeg altimage gt         ltdiv classblackgtltdivgt     ltdivgt   ltbodygt lthtmlgt codepre
Negative 1141 pI am trying to make a Custom Cell for my UITableView.p  pSo, i create  a class codeUITableViewCellcode and i named HomeCell. This class has a xib file with label named titleCell.p  pIn my cellForRowAtIndexPath method i wrote  p  precodeHomeCell cell  HomeCell [tableView dequeueReusableCellWithIdentifierHomeCell]      ifcell  nil         NSArray xib  [[NSBundle mainBundle] loadNibNamedHomeCell ownerself optionsnil]         forid oneObject in xib             if[oneObject isKindOfClass[HomeCell class]]                 cell  HomeCell  oneObject                                 Get object at index data     HomeObjectCell tempObject  [self.dataForCell objectAtIndexindexPath.row]      NSLogTitle  ,tempObject.title  The tempObject.title return a NSString example      cell.titleCell.text  tempObject.title  lt ERROR   codepre  pWhen i run the application, i got  p  precode[UITableViewCell titleCell] unrecognized selector sent to instance 0x6e61890 codepre  pAny idea please p
Negative 1141 pThis is my methodp  precodedef phonenumberlast4    phonenumber  self.workphone    phonenumber[phonenumber.length  4 ,4] end codepre  pand my field name is strongworkphonestrongp  pFor example  my workphone is  1234567890  so that my phonenumberlast4 is 7890p  pI want to customer on phonenumberlast4 digit but that not a field so How can I search that have phonenumber include 7890.p  pMy Table name is  Customerp  pso  Customer.whereworkphone  , 1234567890  This is working butp  pCustomer.wherephonenumberlast4  , 1234567890  is not workingp  pHelp me Pleasep
Negative 1141 pOur clients uses software, which consists of clientgatewayengine. Engine and gateway are implemented as windows service, sometimes on a same machine sometimes not. What we  would like to have is a some type of monitor, which would test if service is running, what are the response times, error tracking etc. So whenever there is a problem with a service, we would have all the data available when, why and what has happened ... so no more remote access, event log. Are there any existing solutions we could incorporate into our softwarep  pWhat about Microsoft operations manager Can it be used in our case I started exploring it, but havent found any useful information.p  pThanks for any informationp
Negative 1141 pIve read Ray Wenderlichs tutorial on sprite masking a hrefhttpwww.raywenderlich.com4428howtomaskaspritewithcocos2d20 relnofollowhttpwww.raywenderlich.com4428howtomaskaspritewithcocos2d20a. However, my understanding of openGL is poor, and this tutorial doesnt produce the effect I desire. What I would like to do is to mask one spritelayer with another, and move the sprite behind the mask to create a shiny animation, like sop  pimg srchttpi.stack.imgur.comAenxI.png altenter image description herep  pAdditionally, how could I make the mask dynamic ex changing the text string, and how could I make a sprite or layer count its children as part of the maskp
