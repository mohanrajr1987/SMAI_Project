Positive 53504 pIve scaffolded a WebAPI WebApp and used the tutorial a hrefhttpwww.asp.netwebapioverviewsecurityenablingcrossoriginrequestsinwebapi relnofollowherea to set up CORS. Everything seems to work well, but when I try to use credentials it just returns a  401 Unauthorized Authorization has been denied for this request. error. This doesnt make any sense because the web service and the web client reference the same user database although they have their own instances of OWIN, I think. At first I thought it might be an issue with the external login I was using Google, but basic auth had this same failure. I AM NOT using Windows Authentication and there does not appear to be a preflight request.p  pSomething I noticed in the logs is that when I attempt to send my ajax request the webapi recognizes the logon method and user as Anonymous. This is clearly wrong, but I have no idea why this is happening.p  pHeres an example request headerp  precodeGET apiMessagingConnectGCSMessaging HTTP1.1 Host mywebservice.azurewebsites.net Connection keepalive Accept  Origin httpsmywebclient.azurewebsites.net XFirePHPVersion 0.0.6 UserAgent Mozilla5.0 Windows NT 6.1 WOW64 AppleWebKit537.36 KHTML, like Gecko Chrome45.0.2454.85 Safari537.36 Referer httpsmywebclient.azurewebsites.netAdmin AcceptEncoding gzip, deflate, sdch AcceptLanguage enUS,enq0.8 Cookie aiusera GUID20150826T021642.468Z ARRAffinityS0meHexC00kietext aisessiona GUIDa unix timestampa later unix timestamp codepre  pHeres the response headerp  precodeHTTP1.1 401 Unauthorized CacheControl nocache Pragma nocache ContentLength 61 ContentType applicationjson charsetutf8 Expires 1 Server MicrosoftIIS8.0 WWWAuthenticate Bearer AccessControlAllowOrigin httpsmywebclient.azurewebsites.net AccessControlAllowCredentials true XAspNetVersion 4.0.30319 XPoweredBy ASP.NET Date Mon, 14 Sep 2015 211037 GMT codepre  pHeres my web client codep  precode.ajax     type get,     urlhttpsmywebservice.azurewebsites.netapiMessagingConnectMessaging,     xhrFields          withCredentials true     ,     crossDomain true  codepre  pHeres my function headerp  precode[EnableCorsorigins httpsmywebclient.azurewebsites.net,httpmywebclient.azurewebsites.net,     headers , methods , SupportsCredentials  true] [Authorize] [RouteConnectMessaging] [HttpGet] public StartupMessage ConnectMessaging ... codepre  pAnd heres my WebApiConfig.csp  precodepublic static class WebApiConfig              public static void RegisterHttpConfiguration config                       Web API configuration and services              Configure Web API to use only bearer token authentication.             config.SuppressDefaultHostAuthentication             config.Filters.Addnew HostAuthenticationFilterOAuthDefaults.AuthenticationType              config.EnableCors               Web API routes             config.MapHttpAttributeRoutes              config.Routes.MapHttpRoute                 name DefaultApi,                 routeTemplate apicontrollerid,                 defaults new  id  RouteParameter.Optional                             codepre
Positive 53504 pwhat i trying to achieve is consume my spring restful web service in another domain, but when i excute the json url that generated JSON value, my javascript console generate this error p  blockquote   pCrossOrigin Request Blocked The Same Origin Policy disallows reading the remote resource at a hrefhttplocalhost8080SpringServiceJsonSampleserviceupdatepool1 relnofollowhttplocalhost8080SpringServiceJsonSampleserviceupdatepool1a. Reason CORS header AccessControlAllowOrigin missing.   CrossOrigin Request Blocked The Same Origin Policy disallows reading the remote resource at a hrefhttplocalhost8080SpringServiceJsonSampleserviceupdatepool1 relnofollowhttplocalhost8080SpringServiceJsonSampleserviceupdatepool1a. Reason CORS request failed.p blockquote  pHere is my JSON value that generated by these link a hrefhttplocalhost8080SpringServiceJsonSampleserviceupdatepool1 relnofollowhttplocalhost8080SpringServiceJsonSampleserviceupdatepool1ap  blockquote   puserid1,firstNamebrand,lastNamebennet,emailbenjiegmail.comp blockquote  pHere is my SpringController.java p  precodeRestController RequestMappingserviceupdatepool public class SpringServiceController       UserService userService  new UserService      RequestMappingvalue  id, method  RequestMethod.GET,headersAcceptapplicationjson     public User getUserPathVariable int id          User useruserService.getUserByIdid         return user       codepre  pThen i create SimpleCORSFilter based spring.io tutorial, so here is my SimpleCORSFilter.java classp  precodeComponent public class SimpleCORSFIlter implements Filter      public void doFilterServletRequest req, ServletResponse res, FilterChain chain throws IOException, ServletException          HttpServletResponse response  HttpServletResponse res         response.setHeaderAccessControlAllowOrigin,          response.setHeaderAccessControlAllowMethods, POST, GET, OPTIONS, DELETE         response.setHeaderAccessControlMaxAge, 3600         response.setHeaderAccessControlAllowHeaders, xrequestedwith         chain.doFilterreq, res           public void initFilterConfig filterConfig       public void destroy   codepre  pHere is how i consume the JSON value, first of all i create index.html file which is looked like index.htmlp  precodelthtml ngappgt ltheadgt lttitlegtAngular Testlttitlegt ltscript srchttpsajax.googleapis.comajaxlibsangularjs1.0.8angular.min.jsgtltscriptgt ltscript srcapp.jsgtltscriptgt ltheadgt ltbodygt     ltdiv ngcontrollerHellogt         ltpgtUser ID  greeting.useridltpgt         ltpgtfirstName  greeting.firstNameltpgt         ltpgtlastName  greeting.lastNameltpgt         ltpgtemail  greeting.emailltpgt      ltdivgt ltbodygt lthtmlgt codepre  pand here is my app.jsp  precodefunction Helloscope, http      http.gethttplocalhost8080SpringServiceJsonSampleserviceupdatepool1.         successfunctiondata              scope.greeting  data           codepre  pi already create the CORS filter class why it still give me CORS blocked error which i missed i dont think that class is working properly, how do i have to trace the errorp
Positive 53504 precode.ajax     url http10.13.22.150reqpath,     success functionresult         console.logresult       codepre  pId like to send CrossDomain XMLHttpRequest to ip addresses in the private network. However, the following error is shown in developer tools consolep  blockquote   pSCRIPT7002 XMLHttpRequest Network Error 0x2efd, Could not complete the operation due to error 00002efd.p blockquote  pAccording to Wireshark, the packet is not sent from client side. I guess the request is blocked by Microsoft Edge Furthermore, I found that the requests are only blocked if the url of XMLHttpRequest and Edge client are in the same CIDR of private network.p  precodeClient IP             Request URL            Result 192.168.x.x  send to  192.168.x.x   gtgtgtgtgt   X 10.13.x.x    send to  10.13.x.x     gtgtgtgtgt   X 10.13.x.x    send to  192.168.x.x   gtgtgtgtgt   O codepre  pOther browsers like IE11  Chrome  Firefox work just fine. This circumstance is only shown in Microsoft Edge. Is there any workaround or solution about this issuep
Positive 53504 pI would like to call a WSDL web service from JavaScript using a hrefhttpsgithub.comdoedjejquery.soap relnofollowhttpsgithub.comdoedjejquery.soapa.p  pWhen I use the above library, it run into CORS problems, and the documentation says if i install some kind of proxy I can override that problem. My question is what is a proxy and how does it work My intention is to call Escapia a hrefhttpsbeta.escapia.com relnofollowhttpsbeta.escapia.coma using jQuery.p
Positive 53504 pIm trying to develop a web application, which should submit a SOAPRequest POST to a SAP Webservice using Ajax  Javascript. After that the appropriate data from the SAP System should be displayed on the web application. p  pHowever, Im now faced with the crossdomain problem, because of the web application and the system are on different domains. If I adjust my IE btw. IE11 security settings, the application will run correctly. p  pBut I want to avoid that, because the application will not be only used on my computer, but also its to be used by many other users. Its important that it supports all browsers and mobile devices, without the need to adjust the security settings.p  pWith the default security level, the application no longer works for me and I get the error message XMLHttpRequest Access denied because apparently CORS and CORS Preflight is required.p  pLooking for a solution, Im first stumbled upon JSONP. But since this are standard SAP Webservices and the data are transmitted in XMLform not json by means of the WSDL, this method in my opinion, falls out. In addition, I use POSTmethods. In JSONP only GETmethods will be supported.p  pI would also like to avoid to solve the problem via another server or a proxy which is stored between the SAP system and the web application, because I had no knowledge of those topics related with SAP Systems and does not know how to implement this. p  pCORS seems to be a good option in my case. From the request header I can deduce that following attributes are sent to the host of the SAP Systemp  blockquote   pOption with the domain of the Web applicationp      pAccessControlRequestMethod with the value POSTmethodp      pAccessControlRequestHeader with the entries contenttype, acceptp      pRequirement with OPTIONp      pSee request header a hrefhttpup.picr.de23122262lo.png relnofollowhttpup.picr.de23122262lo.pngap blockquote  pIf I understood CORS correctly, the SAP system must now respond appropriately to this request to allow the crossaccess. Ive tried using a crossdomain.xml  file like in flash or adobe which Ive provided in the root of the SAP System domain. Calling via the path SAP domaincrossdomain.xml, the XMLfile is shown as followsp  precodeltxml version1.0 gt ltcrossdomainpolicy xmlnsxsihttpwww.w3.org2001XMLSchemainstancegt   ltsitecontrol permittedcrossdomainpoliciesallgt   ltallowaccessfrom domain toports securefalsegt   ltallowhttprequestheadersfrom domain headers securefalsegt ltcrossdomainpolicygt codepre  pUnfortunately, this is apparently not entirely sufficient. From the response header I can see that the XMLfile is not taken.p  blockquote   pSee response header a hrefhttpup.picr.de23122265yp.png relnofollowhttpup.picr.de23122265yp.pngap blockquote  pHow should I attach that CORS permissions to the response headers in SAP Is this solution only possible for adobe or flash Can I also use this in my case or can I bind the appropriate permissions in the webservice settings SOAMANAGER, eg. in a bindingp  pHow it looks with a SAP sided proxy Would that be an option and if so, do you have any advice for the implementation p  pI would be very grateful about helpful tips and answers, especially since I have no other ideas at the moment, how to solve this crossdomain problem. p  pThank you in advance for your assistance.p  pHere is my requestsnippetp  precodejQuery.support.cors  true document.readyfunction   var wsUrl  httpBCSWSAP016.xxxxxx.net8000sapbcsrtrfcsapzagbswebservicexxxx001servicebinding var soapRequest ltsoapEnvelope xmlnssoaphttpwww.w3.org200305soapenvelope xmlnsurnurnsapcomdocumentsapsoapfunctionsmcstylegt                      ltsoapHeadergt                      ltsoapBodygt                          lturnZAgbsWebserviceComTabgt                              ltAosusergtaOSUserltAosusergt                              ltAsystemgtaSystemltAsystemgt                              ltEvTabellegt                              ltEvTabellegt                          lturnZAgbsWebserviceComTabgt                      ltsoapBodygt                  ltsoapEnvelopegt   .ajax     type POST,     url wsUrl,     contentType applicationsoapxml,  charsetUTF8,      action urnsapcomdocumentsapsoapfunctionsmcstyleZAGBSWEBSERVICExxxxZAgbsWebserviceComTabRequest,     dataType xml,     data soapRequest,     success processSuccess,     error processError     codepre
Positive 53504 pA weird CORS question...p  pI have code in my emexample.coemm server which returns the AccessControlAllowOrigin response header for all POST amp GET requests where the Origin request header is passed and it has a value of an example.com subdomain emsuperman.example.comem, embatman.example.comem, etc..p  pI now need to be able to make AJAX calls passing cookies, so I need to be able to return the strongAccessControlAllowCredentialsstrong response header if the request includes cookies.p  pI could add an additional check to return the AccessControlAllowCredentials response header if I see the Cookie request header, but for simplicity, Im wondering if there is any downside to strongalwaysstrong returning the AccessControlAllowCredentials response header for all GETPOST requests from my subdomains, where the Origin request header is specified.p  pHeres my code its a Tcl iRule, FWIWp  precodewhen HTTPREQUEST priority 200      if   [HTTPmethod] equals OPTIONS  and           [HTTPhost] endswith example.com]  and           [HTTPheader exists AccessControlRequestMethod]           HTTPrespond 200 AccessControlAllowOrigin [HTTPheader Origin]                            AccessControlAllowMethods POST, GET, OPTIONS                            AccessControlAllowHeaders [HTTPheader AccessControlRequestHeaders]                            AccessControlMaxAge 86400             elseif   [HTTPhost] endswith example.com]  and                 [HTTPheader exists Origin]            CORS GETPOST requests  set corsorigin variable         set corsorigin [HTTPheader Origin]       when HTTPRESPONSE       CORS GETPOST response  check corsorigin variable set in request     if  [info exists corsorigin]           HTTPheader insert AccessControlAllowOrigin corsorigin         HTTPheader insert AccessControlAllowCredentials true       codepre  pI am aware that if I return the AccessControlAllowCredentials response header, I have to specify a named nongeneric AccessControlAllowOrigin header and emthatem may have Vary header issues, but is there anything else I need to be aware ofp
Positive 53504 pI have a weird situationp  pI have a Django app and serves a template which uses angular to render the data and uses http.get to get some more data from the server. p  pThe view called by the http.get gets some URL from the DB and do a redirect to aws s3. My default file storagep  pAs the redirect had problems with CORS I installed djangocorsheaders and made an angular test page, it workedp  pBut when i tried to use the same code in app page it does not workp  pthe code is very simplep  precodehttp.getdataFileName     .thenfunction response          console.logresponse     , function response          console.logERROR         console.logresponse      codepre  pWhat Im missingp  pstrongUpdate 1strong The problem is with safari, chrome works fine with the test page and app page, Anyone who know what is the problemp
Positive 53504 pHow can I configure the Apache CXF a hrefhttpsvn.apache.orgreposasfcxftrunkrtrssecuritycorssrcmainjavaorgapachecxfrssecuritycorsCrossOriginResourceSharingFilter.java relnofollowCrossOriginResourceSharingFiltera without changing the source code annotated class or beans.xmlp  pIn the JAXRSCORS example the configuration is hardcoded p  precodeGET CrossOriginResourceSharing      allowOrigins   httparea51.mil31415 ,       allowCredentials  true,       exposeHeaders   Xcustom3, Xcustom4   Producestextplain PathannotatedGetecho public String annotatedGetPathParamecho String echo      return echo  codepre  pI use beans.xml to configure the codeallowOriginscode propertyp  precodeltbean idcorsfilter classorg.apache.cxf.rs.security.cors.CrossOriginResourceSharingFiltergt     ltproperty nameallowOriginsgt         ltlistgt             ltvaluegtmyserver1ltvaluegt             ltvaluegtmyserver2ltvaluegt         ltlistgt     ltpropertygt ltbeangt codepre  pI thought I could get the property from JNDI, but it is not allowed to add a codeListcode see a hrefhttpdownload.oracle.comotndocsjcpservlet2.5mrel2evalothJSpec relnofollowServlet Specification 2.5a.p  precodeltbean idcorsfilter     classorg.apache.cxf.rs.security.cors.CrossOriginResourceSharingFiltergt     ltproperty nameallowOriginsgtlt         ltjeejndilookup jndinameCORSoriginsgt     ltpropertygt ltbeangt codepre  pWhat is the intendedpreferred way to configure the CrossOriginResourceSharingFilter in a reusable WARp
Positive 53504 pIm developing HTML5 mobile apps for my company. I was getting CORS error when i try to reach the rest api. So i enabled cors for all domains. Now it came back to me after security test. They want me to solve this issue and still reach the api.p  pThe problem is, the app should be usable from all kinds of internet sources. But since this is not a website, i dont have a domain name to allow cors for just that domain. Anybody has a solution for thisp
Positive 53504 pI have some JSfunctions in an external file which i use in a HTMLfile on a Server localhost8091. p  ul liIf the JSfile is on the same server localhost8091 everything works. li liIf its on a different server localhost8098 it doesnt work. But the browser doesnt show any error messages, and the file was loaded successfully with a HTTP 200 Code.li ul  pThis is how i add the jsfile into the htmlp  precodeltheadgt     lt worksgt     ltscript typetextjavascript srchttplocalhost8091jsjquery.steps.jsgtltscriptgt     lt alternative doesnt workgt     ltscript typetextjavascript srchttplocalhost8098jsjquery.steps.jsgtltscriptgt ltheadgt codepre  pBoth files are available, i checked it with the browser. Is this a CORSIssue I dont think so, cause of the missing error messages. p
Negative 53504 pI have found several ways of pulling blog feeds with jQuery, however are for text blogs not an audio podcast. I am really struggling in learning jQuery self taught. I have also found ways of parsing to XML but I havent found a Non flash based podcast player that parses HTML5. Adding the mp3s to the web page itself is redundant and beyond the technical expertise of the client.p  pIt needs to dynamically update as the new podcasts are added and it needs to have access to every pod cast that has been posted on this feed.p  pPlease help me. What would the code look like to do this. Or are there any tutorials to teach me how to create this.p
Negative 53504 pI have configured a custom XmlSerializer for DateTime p  precode        GlobalConfiguration.Configuration.Formatters.XmlFormatter.UseXmlSerializer  true         GlobalConfiguration.Configuration.Formatters.XmlFormatter.Indent  true         GlobalConfiguration.Configuration.Formatters.XmlFormatter.SetSerializerltDateTimegtnew myDateTimeSerializer codepre  pThe custom myDateTimeSeriazlier  p  precodepublic class myDateTimeSerializer  System.Xml.Serialization.XmlSerializer              public myDateTimeSerializer              base                            public override bool CanDeserializeSystem.Xml.XmlReader xmlReader                      return base.CanDeserializexmlReader                  protected override object DeserializeSystem.Xml.Serialization.XmlSerializationReader reader                      return base.Deserializereader                  protected override void Serializeobject o, System.Xml.Serialization.XmlSerializationWriter writer                      base.Serializeo, writer               codepre  pIf i put breakpoints in all of the above methods in debug mode, it does not get hit. Am i missing anything herep  pThanks.p
Negative 53504 precodeNSString contentPath  [[NSBundle mainBundle] pathForResourcetest2 ofTypertf] NSData databuffer  NSFileHandle file  [NSFileHandle fileHandleForReadingAtPathcontentPath]  if file  nil     NSLogFailed to open file  databuffer  [file readDataToEndOfFile]  [file closeFile]  NSString contentText [[NSString alloc] initWithDatadatabuffer encodingNSUTF8StringEncoding]  debugLog,contentText  [textView setTextcontentText] [contentText release]  [textView setText[bookObj commentary]] [self.view addSubviewtextView] codepre  pOutputp  blockquote   pstrongiansicpg1252cocoartf1038cocoasubrtf320br   fonttblf0fromanfcharset0 TimesRomanbr   colortblred255green255blue255br   margl1440margr1440vieww9000viewh8400viewkind0br   deftab720br   pardpardeftab720qlqnaturalstrongp      pstrongf0fs24 cf0strong A stream is a fundamental abstraction in programming a sequence of bits transmitted serially from one point to another point. Cocoa provides three classes to represent streams and facilitate their use in your programs NSStream, NSInputStream, and NSOutputStream. With the instances of these classes you can read data from, and write data to, files and application memory. You can also use these objects in socketbasedp blockquote  pHow to filter those bold data..p
Negative 53504 pI want to send a bcrypt hash with random hash as a URL parameter. For examplep  precodehash2y10SWNoIGJpbiBkYXMgU2Fsd.tI3wSnUqo5eRQp8b7oakLkQlZ5da codepre  pSo my questions arep  pIs this a good idea or should I remove the salt from the hash How can I do this Is the first dot every time the delimiterp
Negative 53504 pI deleted the reference node. So I need to recreate the reference node. Using cypher how to create a node with id 0p  pthanks.p
Negative 53504 pI am working on a transparent treeview control. In order to achieve transparency I have subclassed the tree and am overriding codeWMPAINTcode  in my codeWMERASEBKGNDcode handler I just return codeTRUEcode. Scrolling, mousewheel and other relevant messages are handled properly .  To make trees background transparent I am using the following algorithm  based on a hrefhttpwww.codeguru.comcppcontrolstreeviewmiscadvancedarticle.phpc679Usingabitmapasabackgroundimage.htm relnofollowthisa emCodeGuruem article p  ol lipLet tree do its default painting in memory DC  saved in codememDCcode .pli lipGet parents background in another memory DC  saved in codefinalDCcode .pli lipMap trees and parents coordinates so I can grab correct portion of parents background bitmap.pli lipCombine these two images using codeTransparentBltcode and trees background color  codeTransparentBlt finalDC, ... , memDC, ... code .pli ol  hr  pIn parent window I have implemented codeWMPRINTCLIENTcode, so I can copy its background into memory DC  step 2  with a simple codeSendMessage GetParenthwnd, WMPRINTCLIENT, WPARAMfinalDC, LPARAMPRFCLIENT code call. The result I get is correct both on emWindows XPem and emWindows7em p  pimg srchttpi.stack.imgur.comTzHBx.png altenter image description herep  hr  pI obtain trees default bitmap  step 1  with codeDefSubclassProc hwnd, WMPAINT, WPARAMmemDC, 0 code call. Here too, the result is correct both on emWindows XPem and emWindows7emp  pOn emWindows XPem  I do not know why uploaded image misses checkboxes, everything looks fine on my computer   p  pimg srchttpi.stack.imgur.com8SM3d.png altenter image description herep  pOn emWindows7em  I do not know why uploaded image misses checkboxes, everything looks fine on my computer  p  pimg srchttpi.stack.imgur.comyuF7r.png altenter image description herep  hr  pHowever, after codeTransparentBltcode call, final picture is not drawn properlyp  pOn emWindows XPem checkboxes are the problem  img srchttpi.stack.imgur.comPD26C.png altenter image description here p  pOn emWindows7em some white is left in letters  img srchttpi.stack.imgur.comXL2FL.png altenter image description herep  hr  pThese pictures are result of exporting bitmaps from device contexts into file  I have modified a hrefhttpmsdn.microsoft.comenuslibrarywindowsdesktopdd18340228vvs.8529.aspx relnofollowthis codea to achieve that .p  pHere is the code snippet for codeWMPAINTcodep  precodecase WMPAINT               usual stuff         PAINTSTRUCT ps          RECT rcClient  0         GetClientRect hwnd, amprcClient           HDC hdc  BeginPaint hwnd, ampps            create helper memory DCs          HDC memDC  CreateCompatibleDChdc, finalDC  CreateCompatibleDChdc           create helper bitmaps         HBITMAP memBmp,   default trees paint             finalBmp,     parents background image             bmpOld, bmpOldFinal   needed for cleanup          memBmp  CreateCompatibleBitmap hdc,              rcClient.right  rcClient.left,             rcClient.bottom  rcClient.top           bmpOld  HBITMAPSelectObject memDC, memBmp            map parent and child rectangles          RECT rcParent          GetClientRect GetParenthwnd, amprcParent            upper left corners of the treeview, parent window         POINT ptTreeUL, ptParentUL            map trees coordinates         ptTreeUL.x  rcClient.left         ptTreeUL.y  rcClient.top          ClientToScreen hwnd, ampptTreeUL            map parents coordinates         ptParentUL.x  rcParent.left         ptParentUL.y  rcParent.top          ScreenToClient GetParenthwnd, ampptParentUL            get parents background image           finalBmp  CreateCompatibleBitmap hdc,              rcParent.right  rcParent.left,             rcParent.bottom  rcParent.top           bmpOldFinal  HBITMAPSelectObject finalDC, finalBmp           SendMessage GetParenthwnd, WMPRINTCLIENT,WPARAMfinalDC,              LPARAMPRFCLIENT            capture default tree image           DefSubclassProc hwnd, WMPAINT, WPARAMmemDC, 0            get trees background color           COLORREF clrMask  TreeViewGetBkColorhwnd          if clrMask  1    this means tree uses default system color             clrMask  GetSysColorCOLORWINDOW           combine trees default image with parents background           so we can erase default background with parents background           TransparentBlt finalDC,              ptParentUL.x  ptTreeUL.x,              ptParentUL.y  ptTreeUL.y,              rcClient.right  rcClient.left,              rcClient.bottom  rcClient.top,             memDC,              0, 0,              rcClient.right  rcClient.left,              rcClient.bottom  rcClient.top,             clrMask            draw the result into trees DC         BitBlt hdc,              0, 0,              rcClient.right  rcClient.left,              rcClient.bottom  rcClient.top,             finalDC,              ptParentUL.x  ptTreeUL.x,              ptParentUL.y  ptTreeUL.y, SRCCOPY           cleanup         SelectObject memDC, bmpOld          DeleteDC memDC          DeleteObject memBmp          SelectObject finalDC, bmpOldFinal          DeleteDC finalDC          DeleteObject finalBmp           EndPaint hwnd, ampps           return 0L codepre  pHow can I properly combine default tree bitmap with parents background, achieving transparency without visual artifacts p  h2EDITh2  pI was able to fix checkbox issue by ditching codeTransparentBltcode and doing things myself.p  pemClearType fontem is still a problem, artifacts remained. Mask creation is the problem. As member emarxem said, background combining is responsible for that. If I could create proper mask then my problem would be solved.p  pHere is the entire subclass procedure p  precodeLRESULT CALLBACK TreeProc HWND hwnd, UINT message,      WPARAM wParam, LPARAM lParam,      UINTPTR uIdSubclass, DWORDPTR dwRefData       switch message           handle messages that paint tree without WMPAINT     case WMTIMER   handles autoscrolling when item is partially visible     case TVMDELETEITEM     case TVMINSERTITEM      case WMMOUSEWHEEL      case WMHSCROLL       case WMVSCROLL                        SendMessage hwnd, WMSETREDRAW, WPARAMFALSE, 0               LRESULT lres  DefSubclassProc hwnd, message, wParam, lParam               SendMessage hwnd, WMSETREDRAW, WPARAMTRUE, 0               RedrawWindow hwnd, NULL, NULL,                  RDWFRAME  RDWINVALIDATE  RDWUPDATENOW               return lres              case WMPAINT                       usual stuff              PAINTSTRUCT ps             HDC hdc  BeginPaint hwnd, ampps                get client coordinates of parent and tree window              RECT rcClient  0, rcParent  0              GetClientRect hwnd, amprcClient              GetClientRect GetParenthwnd, amprcParent                create helper DCs and bitmaps              HDC memDC  CreateCompatibleDChdc,    default tree paint                 finalDC  CreateCompatibleDChdc,   parents WMPRINTCLIENT                 maskDC  CreateCompatibleDChdc    DC that holds monochrome mask              HBITMAP memBmp,   default trees paint                 finalBmp,     parents background image                 maskBmp,       monochrome mask                 bmpOld, bmpOldFinal, bmpOldMask   needed for cleanup              memBmp  CreateCompatibleBitmap hdc, rcClient.right  rcClient.left,                 rcClient.bottom  rcClient.top               bmpOld  HBITMAPSelectObject memDC, memBmp                get parents background image               finalBmp  CreateCompatibleBitmap hdc, rcParent.right  rcParent.left,                 rcParent.bottom  rcParent.top               bmpOldFinal  HBITMAPSelectObject finalDC, finalBmp               SendMessage GetParenthwnd, WMPRINTCLIENT,WPARAMfinalDC,                 LPARAMPRFCLIENT                capture default tree image               SendMessage hwnd, WMPRINTCLIENT,WPARAMmemDC, LPARAMPRFCLIENT                create monochrome mask                get trees background color               COLORREF clrMask  TreeViewGetBkColorhwnd              if clrMask  1                  clrMask  GetSysColorCOLORWINDOW              maskBmp  CreateBitmap rcClient.right  rcClient.left,                rcClient.bottom  rcClient.top, 1, 1, NULL               bmpOldMask  HBITMAPSelectObject maskDC, maskBmp               SetBkColor memDC, clrMask   this color becomes white, all others black              BitBlt maskDC, 0, 0, rcClient.right  rcClient.left,                  rcClient.bottom  rcClient.top, memDC, 0, 0, SRCCOPY                map trees coordinates to parent window               POINT ptTreeUL              ptTreeUL.x  rcClient.left             ptTreeUL.y  rcClient.top              ClientToScreen hwnd, ampptTreeUL              ScreenToClient GetParenthwnd, ampptTreeUL                creating transparent background                mask the original image              SetBkColor memDC, RGB 0, 0, 0                SetTextColor memDC, RGB 255, 255, 255                BitBlt memDC, 0, 0,                  rcClient.right  rcClient.left,                  rcClient.bottom  rcClient.top,                 maskDC, 0, 0, SRCAND                create transparent treeview image               SetBkColor finalDC, RGB  255, 255, 255                SetTextColor finalDC, RGB  0, 0, 0                BitBlt finalDC, ptTreeUL.x, ptTreeUL.y,                  rcClient.right  rcClient.left,                  rcClient.bottom  rcClient.top,                 maskDC, 0, 0, SRCAND               BitBlt finalDC, ptTreeUL.x, ptTreeUL.y,                  rcClient.right  rcClient.left,                  rcClient.bottom  rcClient.top,                 memDC, 0, 0, SRCPAINT                display the result               BitBlt hdc, 0, 0,                  rcClient.right  rcClient.left,                  rcClient.bottom  rcClient.top,                 finalDC, ptTreeUL.x, ptTreeUL.y, SRCCOPY                cleanup               SelectObject memDC, bmpOld              DeleteDC memDC              DeleteObject memBmp               SelectObject finalDC, bmpOldFinal              DeleteDC finalDC              DeleteObject finalBmp               SelectObject maskDC, bmpOldMask              DeleteDC maskDC              DeleteObject maskBmp               EndPaint hwnd, ampps                   return 0L     case WMERASEBKGND         return TRUE     case WMNCDESTROY         RemoveWindowSubclass hwnd, TreeProc, 0          return DefSubclassProc hwnd, message, wParam, lParam          return DefSubclassProc hwnd, message, wParam, lParam  codepre  pIn parent window draw the image from codeWMPAINTcode in response to a hrefhttpmsdn.microsoft.comenuslibrarywindowsdesktopdd14521728vvs.8529.aspx relnofollowcodeWMPRINTCLIENTcodea  remember to use codeHDCwParamcode instead of codeBeginPaintcode, and to codereturn LRESULT0code . I drew a gradient as can be seen on the pictures above. p  pIn parent window you must add the following in your codeWMNOTIFYcode handler p  precodecase WMNOTIFY              if LPNMHDRlParamgtcode  TVNSELCHANGING                       InvalidateRect LPNMHDRlParamgthwndFrom, NULL, FALSE              break                   if LPNMHDRlParamgtcode  TVNITEMEXPANDING                       InvalidateRect LPNMHDRlParamgthwndFrom, NULL, FALSE              break                   break codepre  pOnly font remains to be fixed.p  h2END OF EDITh2
Negative 53504 pRequerment is to  Draw Path between start location and end location with multiple waypoints on google map . The path is nice but the problem is that there are several straight lines between the coordinate.  How to remove the extra straight line betwwen the co ordinatesp  pMy code is given below p  precodeltscript typetextjavascript srchttpmaps.googleapis.commapsapijssensorfalsegtltscriptgt ltscript typetextjavascriptgt     var markers  [                              title A,                 lat 26.3489,                 lng  92.6845,                 description A                      ,                              title B,                 lat 26.3546,                 lng 92.6902,                 description B                     ,                              title D,                 lat 26.3508,                 lng 92.7102,                 description D                        ,                              title E,                 lat 26.4285,                 lng 92.8497,                 description E                       ,                          title E,               lat 26.5486,               lng 92.9008,               description E                     ,                          title E,               lat  26.6567,               lng 92.7717,               description E                       ,                              title C,                 lat 26.807,                 lng 92.895,                 description C                      ,       ]     window.onload  function           var mapOptions               center new google.maps.LatLngmarkers[0].lat, markers[0].lng,             zoom 10,             mapTypeId google.maps.MapTypeId.ROADMAP                  var map  new google.maps.Mapdocument.getElementByIddvMap, mapOptions         var infoWindow  new google.maps.InfoWindow         var latlng  new Array         var latlngbounds  new google.maps.LatLngBounds         for i  0 i lt markers.length i              var data  markers[i]             var myLatlng  new google.maps.LatLngdata.lat, data.lng             latlng.pushmyLatlng             var marker  new google.maps.Marker                 position myLatlng,                 map map,                 title data.title                          latlngbounds.extendmarker.position             function marker, data                  google.maps.event.addListenermarker, click, function e                      infoWindow.setContentdata.description                     infoWindow.openmap, marker                              marker, data                  map.setCenterlatlngbounds.getCenter         map.fitBoundslatlngbounds          ROUTING          Initialize the Path Array         var path  new google.maps.MVCArray          Initialize the Direction Service         var service  new google.maps.DirectionsService          Set the Path Stroke Color         var poly  new google.maps.Polyline map map, strokeColor 4986E7           Loop and Draw Path Route between the Points on MAP         for var i  0 i lt latlng.length i              if i  1 lt latlng.length                  var src  latlng[i]                 var des  latlng[i  1]                 path.pushsrc                 poly.setPathpath                 service.route                     origin src,                     destination des,                     travelMode google.maps.DirectionsTravelMode.DRIVING                 , function result, status                      if status  google.maps.DirectionsStatus.OK                          for var i  0, len  result.routes[0].overviewpath.length i lt len i                              path.pushresult.routes[0].overviewpath[i]                                                                                           ltscriptgt ltdiv iddvMap stylewidth 500px height 500pxgt ltdivgt codepre  phere is the sample in fiddle a hrefhttpsjsfiddle.netruchs2ko1 relnofollowhttpsjsfiddle.netruchs2ko1ap
Negative 53504 pI added an action to codewoocommercethankyoucode that has a 45 second delay in it and it causes the page to hang for 45 seconds while it executes. I was wondering if there was some way hook this to an action that could fire after the codewoocommerce thankyou.phpcode page has been built. Ive already tried adding my own codedoactioncode at the end of the script but that didnt work. The page still hangs for 45 seconds.p  pThis is the action and its function...p  pre classlangphp prettyprintoverridecodeaddactionwoocommercethankyou, callrestaurant  function callrestaurant      sleep45     requireonce homemywebsitepublichtmlvoiceServicescall.php      sid  bla bla bla     token  bla bla bla      fromnumber  3055551234  Calls must be made from a registered Twilio number.     tonumber  3055551234     message  Hello. You have received a new order from eat three sixty five miami dot com      client  new ServicesTwiliosid, token, 20100401          call  clientgtaccountgtcallsgtcreate         fromnumber,         tonumber,         httptwimlets.commessageMessage.urlencodemessage               echo phone call has been made  codepre  pThe reason that Im doing this is because I am trying to place an automated phone call 45 seconds after the order is made.p  pAny help is greatly appreciated.p  pThe shopping cart is here...  a hrefhttpwww.eat365miami.comleesushi relnofollowhttpwww.eat365miami.comleesushiap
Negative 53504 pI want to write some characters to a file. For the purpose I wrote the following codep  precodeimport java.io.  public class writechar      public static void mainString[] args throws IOException         String name  shahjahan.txt          PrintWriter outFile  new PrintWriternew FileWritername         String text   Hello, how are you          for  int i  0  i lt text.length  i                       outFile.writetext.charAti             outFile.writen                    codepre  pBut the file shahjahan.text is empty. I am novice to java. Please help me.p  pIs it necessary to close the file using close or flush. In C we donot require to close it.p
Negative 53504 pI want to gain a better understanding of how to implement the RAII idiom with my classes, through an example What the recommended method is for ensuring pointers are freed properly in my classp  pI have a class which should exist for the duration of the program. In the spirit of RAII and because I need to pass a reference to this class to other classes, I am holding it in a sharedptr not sure it actually needs to be held in a sharedptr, but for fun, it is.p  pIn the class ctor, I use 2 buffers pointers and then loop multiple times mallocing, using the buffer and then freeing. The dtor should contain failsafe code to free the buffers, in the event of mishap.p  pThe only way the dtor can see the buffers is if I declare them as class variables, however they are only used in the class ctor.p  pExamplep  precodeclass Input  private     PSOMETYPE buffer1 public     Input     Input   InputInput  buffer1NULL      forblahblah              buffer1  PSOMETYPEmallocsizeofSOMETYPE          Do work wbuffer1         ifbuffer1  NULL  freebuffer1 buffer1  NULL         InputInput      ifbuffer1  NULL  freebuffer1 buffer1  NULL   codepre  pConsidering I only use the buffer in the ctor, does it make sense to declare it as a private class variable If I declare it in the scope of the ctor, the dtor will have no knowledge as to what it is to free.p  pI know this is a trivial example, and honestly I could implement this as easily forgetting about using a smart pointer to reference my class and having a blank dtor, just freeing as Im doing inside the loop. I have no mentor or schooling, and Im uncertain of when the RAII idiom should be followed.p
