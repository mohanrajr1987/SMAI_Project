<p>I want to get the client_ip on the server. my server is behind the proxy server. so i use      <code>request.headers['x-forwarded-for']</code></p>  <p>and at the proxy server this header is set using the code snippet</p>  <pre><code>proxy.on('proxyReq', function(proxyReq, req, res, options) {       proxyReq.setHeader('x-forwarded-for', req.connection.remoteAddress); }); </code></pre>  <p>This setting give the client_ip but is it safe to use the request.headers['x-forwarded-for'] method because if i don't overright this header on proxy server then it can send me the ip set by the client on header like --</p>  <pre><code> var request = require('request');   var options = {     url: 'abc.com:/getip',     headers: {     "x-forwarded-for": "2.2.2.2"     }  };   function callback(error, response, body) {      if (!error &amp;&amp; response.statusCode == 200) {         console.log("body &gt;&gt;&gt;" + body);     } }   request(options, callback); </code></pre>  <p>this request call give me the ip 2.2.2.2 which is wrong. how can i solve this problem..</p>