<p>Currently, in my android project, I have both instrumentation tests and regular JUnit Tests. However, whenever I commit to Github, Travis only runs the tests on whatever one was selected in Android Studio before the commit.</p>  <p>How can I get Travis to run both the android instrumentation tests and the JUnit tests in android studio?</p>  <p>I have a feeling it has to do with every time I change the build variant(test environment), </p>  <pre><code>&lt;option name="ASSEMBLE_TEST_TASK_NAME" value="assembleDebugUnitTest" /&gt; -        &lt;option name="COMPILE_JAVA_TEST_TASK_NAME" value="compileDebugUnitTestSources" /&gt; +        &lt;option name="ASSEMBLE_TEST_TASK_NAME" value="assembleDebugAndroidTest" /&gt; +        &lt;option name="COMPILE_JAVA_TEST_TASK_NAME" value="compileDebugAndroidTestSources" /&gt; </code></pre>  <p>The upper 4 lines for assembleDebugUnitTest are removed and replaced with the last 4 lines</p>  <p>Here is my travis.yml</p>  <pre><code>language: android jdk: oraclejdk8 android:     components:         - platform-tools         - tools         - build-tools-22.0.1         - android-22         - extra-google-google_play_services         - extra         - sys-img-armeabi-v7a-android-22 env:   global:     - ADB_INSTALL_TIMEOUT=8 before_script:   - echo no | android create avd --force -n test -t android-21 --abi armeabi-v7a   - emulator -avd test -no-skin -no-audio -no-window &amp;   - android-wait-for-emulator   - adb shell input keyevent 82 &amp; script:   - android list target   - ./gradlew connectedAndroidTest --stacktrace --info </code></pre>  <p>Here is my gradle file</p>  <p>apply plugin: 'com.android.application'</p>  <pre><code>android {     testOptions {         unitTests.returnDefaultValues = true     }      compileSdkVersion 22     buildToolsVersion '22.0.1'     defaultConfig {         applicationId "removed"         minSdkVersion 19         targetSdkVersion 22         versionCode 1         versionName "1.0"     }     buildTypes {         release {             minifyEnabled false             proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'         }     }     repositories {         maven {             url 'https://oss.sonatype.org/content/repositories/snapshots/'         }     }     dependencies {         compile 'com.loopj.android:android-async-http:1.4.9'     }     productFlavors {     }     lintOptions {         abortOnError false     } }  dependencies {     testCompile 'junit:junit:4.12'     testCompile 'org.json:json:20140107'     compile fileTree(dir: 'libs', include: ['*.jar'])     compile 'com.android.support:design:22.2.0'     compile 'com.android.support:appcompat-v7:22.1.0'     compile 'com.android.support:recyclerview-v7:22.0.0' } </code></pre>