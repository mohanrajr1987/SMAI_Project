<p>I have a PHP file I'm using to generate an HTML file. This is the process:</p>  <pre><code>$document = new DomDocument; $document-&gt;preserveWhiteSpace = false; $document-&gt;validateOnParse = true; $document-&gt;loadHTML(file_get_contents("http://www.example.com/base.html"));  $testNode = $document-&gt;createElement("div", "This is a &lt;br&gt; test"); $document-&gt;appendChild($testNode);  $document-&gt;saveHTMLFile("output.html"); </code></pre>  <p>This spits out an HTML file containing the following element:</p>  <pre><code>&lt;div&gt;This is a &amp;lt;br&amp;gt; test&lt;/div&gt; </code></pre>  <p>That is, the <code>&lt;br&gt;</code> tags get converted to <code>&amp;lt;br&amp;gt;</code> in the actual HTML. I have tried all of these methods to unescape the string:</p>  <pre><code>htmlspecialchars("This is a &lt;br&gt; test");  rawurldecode("This is a &lt;br&gt; test");  urldecode("This is a &lt;br&gt; test");  function decodeashtml($str) { $str = preg_replace("/%u([0-9a-f]{3,4})/i","&amp;#x\\1;",urldecode($str)); return html_entity_decode($str,null,'UTF-8');; } decodeashtml("This is a &lt;br&gt; test"); </code></pre>  <p>but they all produce:</p>  <p><code>This is a &amp;lt;br&amp;gt; test</code></p>  <p>What else can I do to get HTML tags to appear correctly as HTML?</p>