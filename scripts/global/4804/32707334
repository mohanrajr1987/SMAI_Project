<p><strong>EDIT:</strong> Rephrased the question for better understanding.</p>  <p>For a project I'm doing using Huffman Compression, I need to serialize my Huffman trees. </p>  <p>The following text</p>  <blockquote>   <p>"bought tickets to ride down a giant spiraling water slide or run   through a play maze made from brightly painted plywood. All summer   long, the sounds of laughing"</p> </blockquote>  <p>Will produce a Huffman tree that its serialization will look like so:</p>  <pre><code>'N57|L23, |N34|N16|N8|N4|N2|L1,made|L1,long|N2|L1,bought' \ '|L1,summer|N4|N2|L1,painted|L1,from|N2|L1,|L1,sounds|N8|N4|N2|L1,play|' \ 'L1,tickets|N2|L1,All|L1,down|N4|N2|L1,brightly|L1,spiraling|N2|L1,giant|' \ 'L1,ride|N18|N8|N4|N2|L1,. |L1,plywood|N2|L1,laughingreplace|L1,water|N4|' \ 'N2|L1,the|L1,to|N2|L1,of|L1,through|N10|N4|N2|L1,run|L1,or|L2,a|N6|N3|' \ 'L1,slide|N2|L1,maze|L1,, |L3,' </code></pre>  <p><em>note: this is the regex that separates the symbols for the tree:</em></p>  <pre><code>'(\W+)' </code></pre>  <p>The text can also be HTML and contain the chars.</p>  <pre><code>'|' and '\' </code></pre>  <p>In order to escape them I change</p>  <pre><code>'|' to '\|' '\' to '\\' </code></pre>  <p>When splitting the data I need to ignore the escaped characters, and only remove pipes. This becomes a problem given the next input:</p>  <pre><code>'replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );&lt;/script&gt;' </code></pre>  <p>This is the serialized output</p>  <pre><code>'N19|N8|N4|N2|L1,)|L1," );&lt;/|N2|L1,script|L1,client|' \ 'N4|N2|L1,2|L1,js|N2|L1,(\|L1,nojs|N11|N4|L2,s|N2|L1,replace|L1,&gt;' \ '|N7|N3|L1,1client|N2|L1,$|L1,( /(^\|\|N4|N2|L1,\|$)/, "$|L1,|L2,-' </code></pre>  <p>Trying to split it now becomes a problem. I understood that I need to remove pipes that have even numbers of slashes before them.</p>  <pre><code>['\\|', '|', '\\\\|', ...] Valid delimiters ['\|', '\\\|', ...] Invalid delimiters </code></pre>  <p>This will happen when my serialized string contains a slash in its end.</p>  <pre><code>'N54, test\\' will turn into 'N54, test\\\\|N44 ...' </code></pre>  <p>So far I got to the point where this regex</p>  <pre><code>r'(?&lt;!\\)(\\\\)*\|' </code></pre>  <p>Captures pipes with even numbers of slashes before them. However when using  re.split() I will always have one of two problems</p>  <ol> <li>The slashes will be removed along with the pipe.</li> <li>The slashes will be contained in their own cell in the list.</li> </ol>  <p>Both break my unserialization. I need to remove the pipes, while ignoring the slashes.</p>  <p>If possible, I'd like to know how to do this with re.split() although I'm starting to think it's only possible with re.findall()</p>  <p><strong>EDIT</strong> Clarification: The split data should not have empty strings.</p>