<p>I am using Django 1.7.4. I would like to show in filter only countries used in foreign field of CarMake model. I have tried two variants but it does not work. If I put simply 'country' in list_filter it shows all countries.  What am I doing wrong?</p>  <p>#model.py</p>  <pre><code>from apps.location.models import Country  class CarMake(BaseModel):        name = models.CharField(max_length=100)        country = models.ForeignKey(Country, blank=True, null=True)      def __str__(self):         return self.name </code></pre>  <h1>admin.py</h1>  <pre><code>from . import models class CarMakeAdmin(admin.ModelAdmin):     model = models.CarMake     list_display = ('name', 'country')     list_filter = (         #(CountryFilter), -&gt; Variant I         ('country', 'RelatedOnlyFieldListFilter'), #Variant II     ) </code></pre>  <p>Variant I</p>  <pre><code>class CountryFilter(admin.SimpleListFilter):     title = _('by country')     parameter_name = 'country'      def lookups(self, request, model_admin):         countries = set([c.country for c in model_admin.model.objects.all()])         return [(c.id, c.name) for c in countries]      def queryset(self, request, queryset):         if self.value():             return queryset.filter(country__id__exact=self.value())         else:             return queryset </code></pre>  <p>Variant II</p>  <pre><code>class RelatedOnlyFieldListFilter(admin.RelatedFieldListFilter):     def __init__(self, field, request, params, model, model_admin, field_path):         self.request = request         self.model_admin = model_admin         super(RelatedOnlyFieldListFilter, self).__init__(field, request, params, model, model_admin, field_path)      def choices(self, cl):         limit_choices_to = set(self.model_admin.queryset(self.request).values_list(self.field.name, flat=True))         self.lookup_choices = [(pk_val, val) for pk_val, val in self.lookup_choices if pk_val in limit_choices_to]         return super(RelatedOnlyFieldListFilter, self).choices(cl) </code></pre>