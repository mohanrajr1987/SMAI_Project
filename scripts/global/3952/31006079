<p>I am trying to use bb:system::screenshot like so </p>  <pre><code>request.setTarget("sys.pim.uib.email.previewer");    // Set the action that the target app should execute   request.setAction("bb.action.VIEW");    // Set the MIME type of the data   request.setMimeType("message/rfc822");    // Specify the location of the data   request.setUri(QUrl("pim:message/rfc822:" + QString::number(accountId) +":" + QString::number(messageId)));    InvokeTargetReply *reply = invokeManager.invoke(request);    sleep( 2 );    //Screenshot   bb::system::Screenshot screenshot;   QString filename = screenshot.captureDisplay();   if (filename.isEmpty()) {       // Something went wrong       bb::system::ScreenshotError::Type error = screenshot.error();   }    //Close Email   invokeManager.closeChildCard(); </code></pre>  <p>The problem is the filename is always empty and screenshot.error() always has error values. Here's what the debugger says at the "something went wrong" line:</p>  <p>screenshot.error() Error: Multiple errors reported.\ Failed to execute MI command: -var-create - * screenshot.error() Error message from debugger back end: Couldn't find method bb::system::screenshot::error\ Unable to create variable object </p>  <p>Not sure what this means?</p>  <p>EDIT: I moved the screenshot variable definition outside the if statement and see this error:</p>  <pre><code>Name : error     Details:bb::system::ScreenshotError::PermissionDenied     Default:bb::system::ScreenshotError::PermissionDenied     Decimal:2     Hex:0x2     Binary:10     Octal:02 </code></pre>  <p>Problem is, I definitely have the permissions set correctly: </p>  <pre><code>  &lt;!-- Request permission to execute native code.  Required for native applications. --&gt; &lt;permission system="true"&gt;run_native&lt;/permission&gt; &lt;permission&gt;access_pimdomain_contacts&lt;/permission&gt; &lt;permission&gt;read_device_identifying_information&lt;/permission&gt; &lt;permission&gt;access_pimdomain_messages&lt;/permission&gt; &lt;permission&gt;bbm_connect&lt;/permission&gt; &lt;permission&gt;access_pimdomain_calendars&lt;/permission&gt; &lt;permission&gt;use_camera&lt;/permission&gt; &lt;permission&gt;use_camera_desktop&lt;/permission&gt; &lt;permission&gt;use_gamepad&lt;/permission&gt; &lt;permission&gt;access_internet&lt;/permission&gt; &lt;permission&gt;access_location_services&lt;/permission&gt; &lt;permission&gt;record_audio&lt;/permission&gt; &lt;permission&gt;read_personally_identifiable_information&lt;/permission&gt; &lt;permission&gt;access_pimdomain_notebooks&lt;/permission&gt; &lt;permission&gt;access_notify_settings_control&lt;/permission&gt; &lt;permission&gt;access_phone&lt;/permission&gt; &lt;permission system="true"&gt;_sys_inject_voice&lt;/permission&gt; &lt;permission&gt;read_phonecall_details&lt;/permission&gt; &lt;permission&gt;access_pimdomain_calllogs&lt;/permission&gt; &lt;permission&gt;control_phone&lt;/permission&gt; &lt;permission&gt;post_notification&lt;/permission&gt; &lt;permission system="true"&gt;_sys_use_consumer_push&lt;/permission&gt; &lt;permission&gt;run_when_backgrounded&lt;/permission&gt; &lt;permission system="true"&gt;_sys_run_headless&lt;/permission&gt; &lt;permission system="true"&gt;_sys_headless_nostop&lt;/permission&gt; &lt;permission&gt;access_shared&lt;/permission&gt; &lt;permission&gt;access_sms_mms&lt;/permission&gt; &lt;permission&gt;access_wifi_public&lt;/permission&gt; </code></pre>  <p>From the docs, I need "Permissions: The application must have the use_camera_desktop and access_shared permissions to use this feature."</p>