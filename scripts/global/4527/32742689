<p>I am a bit confused as to how the default database schema is determined in MS SQL server. </p>  <p>I have the following stored procedure as a minimal working example: </p>  <pre><code>CREATE PROCEDURE [dbo].[SampleSP] AS  SELECT 'HI' as [SampleColumn] INTO [SampleTable]  DROP TABLE [SampleTable] </code></pre>  <p>All tests are executed using a user <code>User</code> on MS SQL server using Windows Auth with a default database schema of the same name.</p>  <ul> <li>When I execute this SP on MS SQL Server 2005 installation (running in compatibility mode 80, i.e. Server 2000) the table is created as <code>[User].[SampleTable]</code> and <code>DROP TABLE</code> fails with <code>Invalid object name 'SampleTable'</code> (I assume because it looks for <code>[dbo].[SampleTable]</code>)</li> <li>When I <code>DROP TABLE [SampleTable]</code> in a separate query it does work</li> <li>When I execute the SP on MS SQL Server 2008 R2 (also running in compat. 80) the table is created as <code>[dbo].[SampleTable]</code> and dropped without error</li> </ul>  <p>I have found <a href="http://stackoverflow.com/a/27361554/4525129">this</a> answer describing the lookup in stored procedures, but it doesn't mention the user default in that context, even though it is used on 2005. Maybe someone knows how this changed and whether new versions can be configured to behave the same way.</p>