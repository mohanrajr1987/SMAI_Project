<p>In my iOS app I have an UIWebView that loads some html content. The user can select text and create highlight over selection. I need coordinates of highlighted area so I am using getClientRects() in the following javascript function:</p>  <pre><code>function rectsForSelection() {     var i = 0, j = 0;     var allSelections = window.getSelection();      var result = []; // An empty array right now     // Generally, there is only one selection, but the spec allows multiple     for (i=0; i &lt; allSelections.rangeCount; i++) {         var aRange = allSelections.getRangeAt(i);         var rects = aRange.getClientRects();         for (j=0; j&lt;rects.length; j++) {             result.push(rects[j]);         }     }     return JSON.stringify(result);  } </code></pre>  <p>On device with iOS7 I get the correct JSON string representing the rects array that looks like this:</p>  <pre><code>[{\"left\":454,\"right\":585,\"top\":126,\"height\":16,\"bottom\":142,\"width\":131}, {\"left\":312,\"right\":515,\"top\":142,\"height\":16,\"bottom\":158,\"width\":203}] </code></pre>  <p>However, on iOS8 I get empty content for every rect in array (the number of rects in array on iOS8 is correct though):</p>  <pre><code>[{},{}] </code></pre>  <p>I have read about some issues about JSON.stringify function on iOS8 but couldn't find any reasonable explanation about what causes that problem. Can I use some alternative method that converts an array of rects to JSON or some similar format string? I would really like to avoid manually converting to string every rectangle and keep on using only javascript if possible...</p>