<p>I have just started to pick up coding seriously. :) I came across a problem that seems too complicated for me. </p>  <p>How to group the following products by promotions type?</p>  <pre><code>var data = [     {       name:'product1',        price:'40',        promotion:[         {           name:'Buy 3 get 30% off',            code:'ewq123'         },         {           name:'Free Gift',            code:'abc140'         }       ]     },     {       name:'product2',        price:'40',        promotion:[         {           name:'Buy 3 get 30% off',            code:'ewq123'         }       ]     },     {       name:'product3',        price:'40',        promotion:[         {           name:'Buy 3 get 30% off',            code:'ewq123'         }       ]     },     {       name:'product4',        price:'40'     },     {       name:'product5',        price:'40',        promotion:[         {name:'30% off', code:'fnj245'}       ]     },     {       name:'product6',        price:'0',        promotion:[         {           name:'Free Gift',            code:'abc140'         }       ]     }   ]; </code></pre>  <p>I would like to get result in the following format</p>  <pre><code>result =[     {       name : 'Buy 3 get 30% off',       code: 'ewq123',       products: [           ... array of products       ]     },     {       name : '30% off',       code: 'fnj245',       products: [           ... array of products       ]     },     {         ...     }   ]; </code></pre>  <p>I am able to get a list of products by promotion code, but how can I make it generic?</p>  <pre><code>function productHasPromo(product, promotion){   if(!product.hasOwnProperty('promotion')) return false;    var productPromo = product.promotion;    for(var i=0; i&lt;productPromo.length; i++){     if(productPromo[i].code === promotion){       return true;     }   }    return false; }  function groupProductByPromo(products, promotion){   var arr = [];    for(var i=0; i&lt;products.length; i++){     if(productHasPromo(products[i], promotion)){       arr.push(products[i]);     }   }    return arr; } </code></pre>