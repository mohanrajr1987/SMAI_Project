<p>I am doing a question on www.hackerrank.com and I have been stuck on it for days. </p>  <p>Here is the statement of the question <a href="https://www.hackerrank.com/challenges/insertion-sort" rel="nofollow">https://www.hackerrank.com/challenges/insertion-sort</a>. Basically, I have to count how many swaps occur in insertion sort for a given array in O(nlog(n)) time. </p>  <p><a href="http://paste.ubuntu.com/12637144/" rel="nofollow">http://paste.ubuntu.com/12637144/</a> Here is my submitted code. I use merge sort and count how many times each element is displaced. This code passes for more than half of the site's tests. When it fails it doesn't time out, and it doesn't have a compilation error or segmentation fault. </p>  <p>Furthermore, when I got the input for one of the failed test cases (Here is the input that it failed on the site <a href="http://paste.ubuntu.com/12637165/" rel="nofollow">http://paste.ubuntu.com/12637165/</a>) and tested it with this variation of my code <a href="http://paste.ubuntu.com/12637127/" rel="nofollow">http://paste.ubuntu.com/12637127/</a> which actually runs the insertion sort algorithm counting the number of swaps along the way and checks it against the merge sort count, I pass all of the tests. Also, I have generated thousands of random test cases, and they also all pass using this test. </p>  <p>I don't think its a problem on the site's end because in the discussions for the problem other people seem to be passing the tests just fine without any questions or complaints. So maybe I am misunderstanding either the question or I am simply writing both the algorithm and the test cases for the algorithm wrong. Does anyone have any suggestions?</p>