<p>I'm trying to do something in SoapUi with Groovy and it's not working.</p>  <p>I have multiple nodes with many attributes and I need to extract the child node attribute based of a parent's attribute</p>  <p>For example:</p>  <pre><code>&lt;library id="82389389"&gt;     &lt;book id="123" bookType="SF"&gt;         &lt;price id="325" priceValue="5"/&gt;     &lt;/book&gt;     &lt;book id="4741" bookType="History"&gt;         &lt;price id="12388" priceValue="15"/&gt;     &lt;/book&gt;     &lt;book id="2626" bookType="Drama"&gt;         &lt;price id="12145" priceValue="40"/&gt;     &lt;/book&gt; &lt;/library&gt; </code></pre>  <p>In this XML I need to extract priceValue based on the bookType and use it somewhere else (the order of the book nodes is changing)</p>  <p>I tried this but it doesn't work:</p>  <pre><code>def response = .../library[1]  def i=0 def records = new XmlSlurper().parseText(response) def size = records.book.size()  for (i=0,i&lt;size,i++) {     bookType1 = records.book[i].@bookType.first().value().text();     if (bookType1 == 'History')     {         def priceValueBook = records.book[i].price.@priceValue.first().value().text()         log.info priceValueBook      } } </code></pre>