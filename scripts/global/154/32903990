<p>I'm building a website, primarily for mobiles. I had the following jQuery code</p>  <pre><code>$(".reg_action").click(function () {     var action = $(this).attr("id");     var ele = $(".reg_line.selected");     var icon = $(this).html();      if (action == "deepsleep") {         var color = "#33bb45";     } else if (action == "sleep") {         var color = "#99ef96";     } else if (action == "awake") {         var color = "#e1f648";     } else if (action == "up") {         var color = "#fb0707";     }      ele.find(".reg_segment").val(action);     ele.find(".reg_color").css("background-color", color);     ele.find(".reg_icon").html(icon);      // Move on     ele.removeClass("selected");     ele.next().addClass("selected");  }) </code></pre>  <p>I know it might not be the best way all of it, but anyways it is EXTREMELY slow on iPhones - not fully tested, but seems like it is a general problem, even on the newer. I tried making it in JS indstead (again, might not be perfect):</p>  <pre><code>function lineAction(action) {      if (action == "deepsleep") {         var color = "#33bb45";     } else if (action == "sleep") {         var color = "#99ef96";     } else if (action == "awake") {         var color = "#e1f648";     } else if (action == "up") {         var color = "#fb0707";     }      var ele = document.getElementsByClassName("selected");     ele[0].childNodes[1].value = action;     ele[0].childNodes[3].style.backgroundColor = color;      var classes = document.getElementsByClassName("selected");     classes[0].nextSibling.classList.add("selected");     classes[0].className = classes[0].className.replace(/\bselected\b/, ''); } </code></pre>  <p>But even that does not seem to help. Any suggestions how to speed this up a lot? I've been googling, and it seems like DOM manipulation is just slow on iPhone. Is there a solution?  Would it for example help to make the 5 states of each line (default, deepsleep, sleep, awake, up) and then just hide/show the one needed? Pageload is not an issue at all.</p>