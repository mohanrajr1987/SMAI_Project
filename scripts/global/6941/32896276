<p>I have a JPEG image blob string in memory, and load it into an Imagick object. Then I resize it to a thumbnail, compress it, etc. When I write the new thumbnail to disk, it works fine and I can see the file. When I try to get the Blob String from Imagick, it always throws a Segmentation Fault. I never need to write these files to disk. I get them from a URL, resize them, then push the image blob string to an Amazon S3 key/value bucket.</p>  <p>Why does it throw a Segemntation Fault, and how can I fix it?</p>  <p>Here's my code:</p>  <pre><code>$photo['Data'] = file_get_contents('image_url'); // this works $Image = new Imagick(); $Image-&gt;readImageBlob($photo['Data']); $Image-&gt;scaleImage( 160, 0 ); $Image-&gt;setImageCompression( Imagick::COMPRESSION_JPEG ); $Image-&gt;setImageCompressionQuality( 60 ); $Image-&gt;setImageUnits( imagick::RESOLUTION_PIXELSPERINCH ); $Image-&gt;setImageResolution( 72, 72 ); $Image-&gt;stripImage(); $Image-&gt;writeImage('test.jpg'); // this produces a good thumbnail $thumb['data'] = $Image-&gt;getImageBlob; // this throws a segmentation fault </code></pre>  <p><strong>Imagick Version Information</strong></p>  <p><strong>Output from <code>sudo yum info php-pecl-imagick</code></strong></p>  <pre><code>Loaded plugins: priorities, update-motd, upgrade-helper Installed Packages Name        : php-pecl-imagick Arch        : x86_64 Version     : 3.1.0 Release     : 0.2.RC1.6.amzn1 Size        : 418 k Repo        : installed From repo   : amzn-main Summary     : Provides a wrapper to the ImageMagick library URL         : http://pecl.php.net/package/imagick License     : PHP Description : imagick is a native php extension to create and modify images using the             : ImageMagick API.             : This extension requires ImageMagick version 6.2.4+ and PHP 5.1.3+.             :              : IMPORTANT: Version 2.x API is not compatible with earlier versions. </code></pre>