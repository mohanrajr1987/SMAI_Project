<p>Hello I am writing the code for image matching in java. I nearly finished code. All part of code works fine except loading the image in jlabel. Actually I am trying to compare the image with the database image and for the two image if sum equals 0 then load the corresponding image with some id to the jlabel. But unfortuntely jLabel doesnot work. How could I resolve this problem? Below is my code.</p>  <pre><code>package dbface;  import java.awt.Color; import java.awt.Graphics; import java.awt.Image; import java.awt.image.BufferedImage; import java.sql.ResultSet; import java.sql.SQLException; import java.sql.Statement; import java.util.ArrayList; import java.util.Collections; import javax.swing.ImageIcon;  public class compare  {     public void comparison(BufferedImage image) throws ClassNotFoundException, SQLException     {         int id;         int dbheight;         int dbwidth;         int dbh1,dbh2,dbh3,dbh4;         int height = image.getHeight();         int width =image.getWidth();            ArrayList&lt;Integer&gt; value= new ArrayList&lt;&gt;();        int nh1,nh2,nh3,nh4;            for(int x=0;x&lt;width;x++)         {             for (int y=0;y&lt;height;y++)             {                  Color c =new Color(image.getRGB(x,y));                 int red = (int)(c.getRed() * 0.299);                int green = (int)(c.getGreen() * 0.587);                int blue = (int)(c.getBlue() *0.114);                  int avg =red+green+blue;                                 value.add(avg);             }                     }           int h1=0;          int h2=0;          int h3=0;          int h4=0;           for(int j=0;j&lt;64;j++)                 {                     int hoccurences=Collections.frequency(value, j);                     h1+=hoccurences;                 }           for(int j=64;j&lt;128;j++)                 {                     int hoccurences=Collections.frequency(value, j);                     h2+=hoccurences;                 }           for(int j=128;j&lt;192;j++)                 {                     int hoccurences=Collections.frequency(value, j);                     h3+=hoccurences;                 }           for(int j=192;j&lt;256;j++)                 {                     int hoccurences=Collections.frequency(value, j);                     h4+=hoccurences;                 }           nh1=h1;          nh2=h2;          nh3=h3;          nh4=h4;               Db db = new Db();                 db.Connect();                  String query="select * from imgtable";                 Statement st = db.con.createStatement();                 ResultSet rs = st.executeQuery(query);                  retrieve r = new retrieve();                 while(rs.next())                 {                      id = rs.getInt(1);                      dbwidth=rs.getInt(3);                      dbheight=rs.getInt(4);                      dbh1=rs.getInt(5);                      dbh2=rs.getInt(6);                      dbh3=rs.getInt(7);                      dbh4=rs.getInt(8);                      int diff1=Math.abs(nh1-dbh1);                     int diff2=Math.abs(nh2-dbh2);                     int diff3 =Math.abs(nh3-dbh3);                     int diff4=Math.abs(nh4-dbh4);                      int sum =diff1+diff2+diff3+diff4;                      if(sum==0)                     {                      byte[] img =rs.getBytes(2);                      ImageIcon icon = new ImageIcon(img);                      System.out.println(icon);                     Image im= icon.getImage();                     Image myimage =im.getScaledInstance(r.jLabel1.getWidth(),r.jLabel1.getHeight(), Image.SCALE_SMOOTH);                     ImageIcon icons = new ImageIcon(myimage);                         System.out.println(icons);                      BufferedImage bi = new BufferedImage(im.getWidth(null), im.getHeight(null),BufferedImage.TYPE_INT_RGB);                     Graphics bg = bi.getGraphics();                     bg.drawImage(im, 0, 0, null);                     bg.dispose();                      r.jLabel1.setIcon(icons);                       break;                     } }          } } </code></pre>  <p>I think the problem is in rs.jLabel1.setIcon(icons).</p>