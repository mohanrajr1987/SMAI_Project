<p>I have several Java applications using Log4J that may or not be on the same host.</p>  <p>I've successfuly configured Flume and Log4J to persist a single file per day, but how can I make flume create separate directories based on host and application name?</p>  <p>This is my Flume Log4J Appender:</p>  <pre><code>&lt;Flume name="flumeLogger" compress="false" batchSize="1" type="persistent" dataDir="logs/flume"&gt;     &lt;Agent host="myhost" port="41414"/&gt;     &lt;PatternLayout pattern="@@@@ %d{ISO8601} %p ${env:COMPUTERNAME} my-app %c %m @@@@"/&gt; &lt;/Flume&gt; </code></pre>  <p>And this is my Flume Configuration:</p>  <pre><code>agent1.sinks.hdfs-sink1.type = hdfs agent1.sinks.hdfs-sink1.hdfs.path = hdfs://localhost:9000/logs/%{host} agent1.sinks.hdfs-sink1.hdfs.filePrefix = %y-%m-%d agent1.sinks.hdfs-sink1.hdfs.round = true agent1.sinks.hdfs-sink1.hdfs.roundValue = 1 rgent1.sinks.hdfs-sink1.hdfs.roundUnit = day agent1.sinks.hdfs-sink1.hdfs.rollInterval = 0 agent1.sinks.hdfs-sink1.hdfs.rollFile = 0 agent1.sinks.hdfs-sink1.hdfs.rollSize = 0 agent1.sinks.hdfs-sink1.hdfs.rollCount = 0 agent1.sinks.hdfs-sink1.hdfs.writeFormat = Text agent1.sinks.hdfs-sink1.hdfs.fileType = DataStream agent1.sinks.hdfs-sink1.hdfs.batchSize = 1 agent1.sinks.hdfs-sink1.hdfs.useLocalTimeStamp = true  agent1.channels = ch1 agent1.sources = avro-source1 agent1.sinks = hdfs-sink1  agent1.sinks.hdfs-sink1.channel = ch1 agent1.sources.avro-source1.channels = ch1 </code></pre>  <p>From the <a href="https://flume.apache.org/FlumeUserGuide.html#hdfs-sink" rel="nofollow">documentation</a>:</p>  <blockquote>   <p><strong>%{host}</strong>: Substitute value of event header named “host”. Arbitrary header names are supported.</p> </blockquote>  <p>However all my logs are being written in <code>/logs</code> instead of <code>/logs/myhost</code> as specified on the <code>hdfs.path</code> property.</p>  <p>Additionally, how can I define <code>arbitrary header names</code> in the Log4J Appender?</p>