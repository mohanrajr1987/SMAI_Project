<p>I get the following error when shutting down Tomcat :</p>  <blockquote>   <p>SEVERE: The web application [App] created a ThreadLocal with key of type [org.apache.logging.log4j.core.layout.PatternLayout$1] (value [org.apache.logging.log4j.core.layout.PatternLayout$1@14391aaf]) and a value of type [java.lang.StringBuilder] (value [2015-09-30 14:22:27.832 [localhost-startStop-1] ERROR AppLogger - Error log.   ]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.</p> </blockquote>  <p>It appears only if I try to log something inside a contextInitialized or contextDestroyed method in a ServletContextListener implementation. Logging works fine in the rest of the app once Tomcat has started. I noticed the value of the StringBuilder is always the last entry logged. In this case, the following code generates the log :</p>  <pre><code>@Override public void contextInitialized(ServletContextEvent arg0) {     Logger logger = LogManager.getLogger("AppLogger");     logger.error("Error log."); } </code></pre>  <p>After several hours of investigation (including SO), I still can't find an explanation. Is this a Log4j2 initialization problem? Is this a bug I should report?</p>  <p>I'm using Tomcat 8.0 in Eclipse 4.5</p>  <p>log4j-core-2.4, log4j-api-2.4, log4j-web-2.4 are in classpath.</p>  <p>web.xml is in 'WEB-INF'</p>  <pre><code>&lt;web-app xmlns="http://java.sun.com/xml/ns/javaee"    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"    xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd"    version="3.0"&gt;  &lt;context-param&gt;     &lt;param-name&gt;log4jContextName&lt;/param-name&gt;     &lt;param-value&gt;App&lt;/param-value&gt; &lt;/context-param&gt;  &lt;/web-app&gt; </code></pre>  <p>log4j2.xml is in 'src'</p>  <pre><code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; &lt;Configuration&gt; &lt;!-- http://logging.apache.org/log4j/2.x/manual/configuration.html --&gt; &lt;Appenders&gt;     &lt;File name="File" fileName="/home/user/app.log"&gt;         &lt;PatternLayout pattern="%d{yyy-MM-dd HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n"/&gt;     &lt;/File&gt;     &lt;Console name="Console"&gt;         &lt;PatternLayout pattern="%d{yyy-MM-dd HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n"/&gt;     &lt;/Console&gt; &lt;/Appenders&gt; &lt;Loggers&gt;     &lt;Logger name="AppLogger" level="ALL"&gt;         &lt;AppenderRef ref="File"/&gt;     &lt;/Logger&gt;     &lt;Root level="ALL"&gt;         &lt;AppenderRef ref="Console"/&gt;     &lt;/Root&gt; &lt;/Loggers&gt; &lt;/Configuration&gt; </code></pre>