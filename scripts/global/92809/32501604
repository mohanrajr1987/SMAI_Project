<p>The last couple of days I've tried to debug a network error from d00m. I'm starting to run out of ideas/leads and my hope is that other SO users have valuable experience that might be useful. I hope to be able to provide all relevant information, but I'm not personally in control of the server environments.</p>  <p>The whole thing started by users noticing a couple of "network errors" in our app. The error seemed to occur randomly, without any noticeable pattern related to internet connectivity, iOS version or backend updates. The two errors that occurs behind the scenes are:</p>  <p><code>Error Domain=NSURLErrorDomain Code=-1001 "The request timed out."</code></p>  <p>and more frequently:</p>  <p><code>Error Domain=kCFErrorDomainCFNetwork Code=-1005 "The network connection was lost.</code></p>  <p>After debugging it for a couple of days, I've managed to reproduce these errors (occurring at random) by firing approx. 10 random (GET and POST) requests towards our backend with a random sleep timer between each request (set at 1-20 seconds). However, it only occurs in periods. What I've experienced the last couple of days is that when a "period of error" starts, I get one of the two errors every once or twice I run the code (meaning an error rate of 1/10 or 1/20 requests). This error rate continues for a couple of hours and then the error disappears for a couple of hours and then it starts all over.</p>  <p>Some quick facts about the setup:</p>  <ul> <li>Happens on device and simulator</li> <li>Happens on iOS 8.4 and iOS 7.1 - although v. 8.4 is the main one I use for testing.</li> <li>We use <code>NSURLSession</code> for our network requests. We also have AFNetworking included (updated to latest version), but we only use the Security part for SSL Pinning. Even with SSL pinning totally turned off, the error still occurs.</li> </ul>  <p>Some findings I've written down during the last couple of days:</p>  <ul> <li>It seems to only happen on our production environments which has some different configuration as our staging environments. This lead me to think that it might be related to the <code>keep-alive</code> bug as discussed <a href="http://stackoverflow.com/questions/25372318/error-domain-nsurlerrordomain-code-1005-the-network-connection-was-lost/25996971#25996971">here</a> and <a href="https://github.com/AFNetworking/AFNetworking/issues/2314">here</a>. However, our ops department have set up a new staging environment sending the same <code>keep-alive</code> header as the production environments, but this did not make the error occur on the staging environment.</li> <li>Our Android version of the app were unable to reproduce the error using the same setup of requests. Further, we've not received any customer issues on "network errors" in the Android app.</li> </ul>  <p>My gut feeling says that it's related to the server environment and the HTTP implementation in iOS. I'm however unable to track down a convincing pattern that proves anything. I've made the same setup using a simple Rails script, and when the next "error period" occur, I'll be ready to try and reproduce it outside of iOS land. I'll update the question when this happens.</p>  <p>I'm not looking for solutions involving resetting wifi settings, shutting down the simulator or similar as I do not see this as feasible solutions in a production environment. I've also considered making the retry-loop-fix as mentioned in the GitHub issue, but I see this as a last resort.</p>  <p>Please let me know if you need any more information.</p>