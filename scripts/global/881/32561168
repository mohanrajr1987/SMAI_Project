<p>I am using <a href="https://github.com/mattconnolly/ZipArchive" rel="nofollow">ZIPArchive</a> for zipping and unzipping with password protection in my iOS App. I am using swift and added a Bridging header for the same.  Here is my swift code to zip</p>  <pre><code>var zipdest = (documentsPath as String).stringByAppendingPathComponent("MyMessage.zip")     var zip: ZipArchive = ZipArchive()     var ret = zip.CreateZipFile2(zipdest, password: sessionKey, append: true)     var xmldest = (documentsPath as String).stringByAppendingPathComponent("Message.xml")     soaprequest.xmlString.writeToFile(xmldest, atomically: true, encoding: NSUTF8StringEncoding)      var add = zip.addFileToZip(xmldest.lastPathComponent, newname: "message") </code></pre>  <p>Sometimes I get the return value as true and  sometimes false. And the file is not zipped and password protected as well. How can I solve this? Any help is appreciated</p>