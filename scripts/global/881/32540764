<p>I don't get errors or warnings, the path's are correct, but the zip file not created.</p>  <pre><code>&lt;?php     $rootPath = realpath($_SERVER['DOCUMENT_ROOT'] . '/Styles/' . $style-&gt;getPath() . '/');     $archiveName = $_SERVER['DOCUMENT_ROOT'] . '/Cache/Styles/' . $style-&gt;getPath() . '.zip';      @chmod($_SERVER['DOCUMENT_ROOT'] . '/Styles/' . $style-&gt;getPath() . '/', 777);     @chmod($_SERVER['DOCUMENT_ROOT'] . '/Cache/Styles/' . $style-&gt;getPath(), 777);      $zip = new ZipArchive();     $zip-&gt;open($archiveName, ZipArchive::OVERWRITE | ZipArchive::CREATE);     $files = new RecursiveIteratorIterator (new RecursiveDirectoryIterator($rootPath), RecursiveIteratorIterator::LEAVES_ONLY);      foreach($files as $name =&gt; $file) {         $filePath = $file-&gt;getRealPath();         $zip-&gt;addFile($filePath);     } </code></pre>