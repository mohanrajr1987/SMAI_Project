<p>I'm using a custom shared library from lua. To load this library I have the required by Lua function <code>luaopen_mylib</code>. However this library needs to free resources and other thing when its being unloaded; so I'm wondering, does Lua calls some function when closing a shared library (<code>luaclose_*</code> or similar).</p>  <p>If not, any suggestions of how to do that?, note that the lua code isn't actually aware that it is being closed before I call <code>lua_close(luaState)</code>, only the host program knows about it.</p>  <p>The shared library is multithreaded, if that needs special handling.</p>