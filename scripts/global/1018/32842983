<p>We're doing a game (custom engine) and we use LuaBridge, which uses a lua lib generated from Lua 5.3 source code (not by us, we just downloaded It). Problem is our engine uses vectorcall to optimize vector and matrices calculations on RELEASE (DEBUG uses cdecl).  LuaBridge works perfectly on DEBUG but, when we change to RELEASE, it doesn't compile due problems with lua.lib. So, we have solved this problem before with other libs by just re-compiling it with vectorcall on VS2013 for x64. The problem is We cant compile Lua as static library and make it work. </p>  <p>Things We have already tried:</p>  <ol> <li>Do a console x64 project with the Lua code and compile It as Lib. Lib generated is not valid.</li> <li>Do a Static Library project. Same result as 1</li> </ol>  <p>One thig we have observed is that, every precompiled library avaible for download, is between 600 and 800kb. Our generated libraries are about 1190kb. We think that this is an indicator of something going wrong.</p>  <p>Any help will be very much apreciated.</p>  <p>SOLVED: We finally used the .lib we downloaded, but we edited lua.h, lualib.h and luaxlib.h adding __cdecl in front of the functions defines (this forces the call to __cdecl). There were a lot of them to fix.  Little example:</p>  <pre><code>before: LUA_API int   (lua_checkstack) (lua_State *L, int n); after: LUA_API int   (__cdecl lua_checkstack) (lua_State *L, int n); </code></pre>