<p>I'm trying to conduct provisioning actions on OSGI container by starting equinox through EclipseStarter class. I have successfully started the Equinox. However I need to get the provisioning agent in order to perform any actions.  I followed following tutorial;</p>  <p><a href="http://eclipsesource.com/blogs/tutorials/eclipse-p2-tutorial-managing-metadata/" rel="nofollow">http://eclipsesource.com/blogs/tutorials/eclipse-p2-tutorial-managing-metadata/</a></p>  <p>However when I casting the Service to IProvisioningAgentProvider I'm getting casting exceptions as follows;</p>  <ol> <li><p>java.lang.ClassCastException: org.eclipse.equinox.internal.p2.core.DefaultAgentProvider cannot be cast to org.eclipse.equinox.p2.core.IProvisioningAgentProvider</p></li> <li><p>java.lang.ClassCastException: org.eclipse.equinox.internal.p2.core.ProvisioningAgent cannot be cast to org.eclipse.equinox.p2.core.IProvisioningAgent</p></li> </ol>  <p>Appreciate any solution for this.</p>  <p>Thanks</p>