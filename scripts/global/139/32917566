<pre><code>public static String updatedStr() {     String [] ar= {"green","red","purple","black"};      String str="The colors are (blue), (blue), and (yellow). I prefer (orange)";      StringBuilder out = new StringBuilder ();     int x = 0;     int pos = 0;      for(int i = str.indexOf('(', 0); i != -1; i = str.indexOf('(', i + 1)) {         out.append (str.substring(pos,i)); // add the part between the last ) and the next (         out.append (ar[x++]); // add replacement word         pos = str.indexOf(')', i) + 1;     }      out.append (str.substring(pos)); // add the part after the final )     return out.toString (); } </code></pre>  <p>I am able to replace whatever is inside the parentheses with elements from my string array.</p>  <p>Here, I achieve the output of </p>  <blockquote>   <p>"The colors are green, red, and purple. I prefer black."</p> </blockquote>  <p>Now, I am trying to implement a scenario where  <code>String [] ar= {"green","red"}</code>.</p>  <p>I would like the output to be </p>  <blockquote>   <p>"The colors are green, red, and (yellow). I prefer (orange)."</p> </blockquote>  <p>As you can see, the rest of the original string remains untouched due to there not being enough values to replace them. </p>  <p>So far, I have tried using a while loop before the for loop to prevent an <code>ArrayIndexOutOfBoundsError</code>, but I am actually still getting that error. </p>