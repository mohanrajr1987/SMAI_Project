<p>I created a customcontrol (Autocomplete Lookup) which shows the search results based on the keywords I type in a textbox in a underlying popup.</p>  <p>I have the possibility to define the templates for the lookup part, that's the textbox representing the selected item and the suggestion part, the poput that shows the temporary results.</p>  <p><a href="http://i.stack.imgur.com/Qk2op.png" rel="nofollow"><img src="http://i.stack.imgur.com/Qk2op.png" alt="enter image description here"></a></p>  <p>The Picture shows how the suggestion template looks like.</p>  <p>In xaml you can define the templates like this</p>  <pre><code>&lt;controls:AutoCompleteLookup     Watermark="Tank"     Provider={Binding TankProvider}     SelectedItem={Binding SelectedCustomer}&gt;     &lt;controls:AutoCompleteLookup.LookupTemplate&gt;         &lt;DataTemplate DataType="{x:Type providers:TankLookupResult}"&gt;             &lt;TextBlock Text="{Binding TankName}"/&gt;         &lt;/DataTemplate&gt;     &lt;/controls:AutoCompleteLookup.LookupTemplate&gt;     &lt;controls:AutoCompleteLookup.SuggestionsView&gt;        &lt;GridView x:Key="ContractStorageDetailGridView" x:Shared="False"&gt;           &lt;GridViewColumn Header="Tank" Width="Auto" HeaderContainerStyle="{StaticResource GridViewHeaderStyle}"&gt;             &lt;GridViewColumn.CellTemplate&gt;               &lt;DataTemplate&gt;                 &lt;mubctrls:SuggestionTextBlock Suggestion="{Binding TankName}" Foreground="Red"/&gt;               &lt;/DataTemplate&gt;              &lt;/GridViewColumn.CellTemplate&gt;           &lt;/GridViewColumn&gt;           &lt;GridViewColumn Header="Int. Reference" Width="Auto" HeaderContainerStyle="{StaticResource GridViewHeaderStyle}"&gt;             &lt;GridViewColumn.CellTemplate&gt;               &lt;DataTemplate&gt;                 &lt;TextBlock Text="{Binding InternalReference}"/&gt;               &lt;/DataTemplate&gt;             &lt;/GridViewColumn.CellTemplate&gt;           &lt;/GridViewColumn&gt;           &lt;GridViewColumn Header="Customer" Width="Auto" HeaderContainerStyle="{StaticResource GridViewHeaderStyle}"&gt;             &lt;GridViewColumn.CellTemplate&gt;               &lt;DataTemplate&gt;                   &lt;TextBlock Text="{Binding CustomerName}"/&gt;               &lt;/DataTemplate&gt;             &lt;/GridViewColumn.CellTemplate&gt;           &lt;/GridViewColumn&gt;        &lt;/GridView&gt;     &lt;/controls:AutoCompleteLookup.SuggestionTemplate&gt; &lt;/controls:AutoCompleteLookup&gt; </code></pre>  <p>This works just fine. Now I wanted to show Dynamic columns in the grid view. For this purpose I made a behavior that gets the dynamic data and displays the columns as needed (following codes is placed within the  from above)</p>  <pre><code>&lt;i:Interaction.Behaviors&gt; &lt;mubctrls:DynamicColumnsBehavior GroupColumnsByKey="False"&gt;     &lt;mubctrls:DynamicColumnsBehavior.DynamicColumns&gt;         &lt;mubctrls:DynamicGridViewColumn          Width="Auto"         DetailSelector="{Binding Path=Data.SuggestionsViewDynamicColumnSelector, Source={StaticResource Proxy}}"&gt;              &lt;mubctrls:DynamicGridViewColumn.HeaderTemplate&gt;                 &lt;DataTemplate&gt;                     &lt;!-- The DataContext for the header is represented by the TDynamicColumnKey type. In this case it is UOMLookupResult. --&gt;                     &lt;TextBlock Text="{Binding UOMName}"/&gt;                 &lt;/DataTemplate&gt;             &lt;/mubctrls:DynamicGridViewColumn.HeaderTemplate&gt;              &lt;mubctrls:DynamicGridViewColumn.CellTemplate&gt;                 &lt;DataTemplate&gt;                     &lt;!-- The DataContext for the cells is an instance that has a Root and a Detail property.                         The Root property refers to the TankSuggestion while the Detail property refers to an instance of TDynamicColumnCellData                         which in this case is TankUOMQuantity.                 --&gt;                     &lt;TextBlock Text="{Binding Detail.DisplayQuantity}"/&gt;                 &lt;/DataTemplate&gt;             &lt;/mubctrls:DynamicGridViewColumn.CellTemplate&gt;          &lt;/mubctrls:DynamicGridViewColumn&gt;     &lt;/mubctrls:DynamicColumnsBehavior.DynamicColumns&gt; &lt;/mubctrls:DynamicColumnsBehavior&gt; </code></pre>  <p></p>  <p>I struggled at first because a behavior didn't seem to be part of the visual tree and therefore it was difficult to get a DataContext. For this issue I found <a href="http://www.thomaslevesque.com/2011/03/21/wpf-how-to-bind-to-data-when-the-datacontext-is-not-inherited/" rel="nofollow">this article</a>.  With the help of the mentioned BindingProxy I could pass the datacontext and bind to the dynamic data. So far so good. Unfortunately there's a lot of code required in xaml each time I want to use this control and the templates are most of the time identical so I tried to make a Style for the control. Most of the Items work, except the dynamic column part. I put the "Proxy" inside the  section but it seems, that this is not working because no dynamic columns are shown (I guess Data.SuggestionsViewDynamicColumnSelector is not found because of a missing DataContext). Does anyone know how to put the code above in a Style, to make it work correctly? Here's my attempt: </p>  <pre><code>&lt;Style x:Key="CustomsDetailWithDynamicColumnsStyle" TargetType="{x:Type mubctrls:AutoCompleteLookup}" BasedOn="{StaticResource AutoCompleteLookupBaseStyle}"&gt;     &lt;Style.Resources&gt;         &lt;mubctrls:BindingProxy x:Key="Proxy" Data="{Binding RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type mubctrls:AutoCompleteLookup}}}"/&gt;     &lt;/Style.Resources&gt;     &lt;Setter Property="Watermark" Value="{x:Static resources:LabelResources.CustomsDetail}"/&gt;     &lt;Setter Property="NoSuggestionsErrorText"              Value="{Binding Converter={StaticResource FormatStringConverter},                              ConverterParameter={x:Static resources:LabelResources.CustomsDetail}}"/&gt;     &lt;Setter Property="LookupTemplate"&gt;         &lt;Setter.Value&gt;             &lt;DataTemplate DataType="{x:Type customsDetail:CustomsDetailLookupResult}"&gt;                 &lt;TextBlock&gt;                     &lt;TextBlock.Text&gt;                         &lt;MultiBinding StringFormat=" {0} ({1})"&gt;                             &lt;Binding Path="DocumentNumber"/&gt;                         &lt;/MultiBinding&gt;                     &lt;/TextBlock.Text&gt;                 &lt;/TextBlock&gt;             &lt;/DataTemplate&gt;         &lt;/Setter.Value&gt;     &lt;/Setter&gt;      &lt;Setter Property="SuggestionsView"&gt;         &lt;Setter.Value&gt;             &lt;GridView x:Name="Test"&gt;                 &lt;GridViewColumn Header="{x:Static resources:LabelResources.Id}"&gt;                     &lt;GridViewColumn.CellTemplate&gt;                         &lt;DataTemplate&gt;                             &lt;mubctrls:SuggestionTextBlock Suggestion="{Binding Id}" Foreground="Red" Width="30"/&gt;                         &lt;/DataTemplate&gt;                     &lt;/GridViewColumn.CellTemplate&gt;                 &lt;/GridViewColumn&gt;                 &lt;GridViewColumn Header="{x:Static resources:LabelResources.CustomsLicensePermit}" Width="120"&gt;                     &lt;GridViewColumn.CellTemplate&gt;                         &lt;DataTemplate&gt;                             &lt;mubctrls:SuggestionTextBlock Suggestion="{Binding PermitName}"/&gt;                         &lt;/DataTemplate&gt;                     &lt;/GridViewColumn.CellTemplate&gt;                 &lt;/GridViewColumn&gt;                 &lt;GridViewColumn Header="{x:Static resources:LabelResources.Customer}" Width="150"&gt;                     &lt;GridViewColumn.CellTemplate&gt;                         &lt;DataTemplate&gt;                             &lt;mubctrls:SuggestionTextBlock Suggestion="{Binding CustomerName}"/&gt;                         &lt;/DataTemplate&gt;                     &lt;/GridViewColumn.CellTemplate&gt;                 &lt;/GridViewColumn&gt;                 &lt;GridViewColumn Header="{x:Static resources:LabelResources.ProductClassification}" Width="120"&gt;                     &lt;GridViewColumn.CellTemplate&gt;                         &lt;DataTemplate&gt;                             &lt;mubctrls:SuggestionTextBlock Suggestion="{Binding ProductClassificationName}"/&gt;                         &lt;/DataTemplate&gt;                     &lt;/GridViewColumn.CellTemplate&gt;                 &lt;/GridViewColumn&gt;                 &lt;GridViewColumn Header="{x:Static resources:LabelResources.Tank}" Width="120"&gt;                     &lt;GridViewColumn.CellTemplate&gt;                         &lt;DataTemplate&gt;                             &lt;mubctrls:SuggestionTextBlock Suggestion="{Binding TankName}"/&gt;                         &lt;/DataTemplate&gt;                     &lt;/GridViewColumn.CellTemplate&gt;                 &lt;/GridViewColumn&gt;                 &lt;GridViewColumn Header="{x:Static resources:LabelResources.Origin}" Width="120"&gt;                     &lt;GridViewColumn.CellTemplate&gt;                         &lt;DataTemplate&gt;                             &lt;mubctrls:SuggestionTextBlock Suggestion="{Binding CountryOfOrigin}"/&gt;                         &lt;/DataTemplate&gt;                     &lt;/GridViewColumn.CellTemplate&gt;                 &lt;/GridViewColumn&gt;                 &lt;GridViewColumn Header="{x:Static resources:LabelResources.Date}" Width="120"&gt;                     &lt;GridViewColumn.CellTemplate&gt;                         &lt;DataTemplate&gt;                             &lt;mubctrls:SuggestionTextBlock Suggestion="{Binding DocumentDate, StringFormat={}{0:MM/dd/yyyy}}"/&gt;                         &lt;/DataTemplate&gt;                     &lt;/GridViewColumn.CellTemplate&gt;                 &lt;/GridViewColumn&gt;                 &lt;GridViewColumn Header="{x:Static resources:LabelResources.DocumentNumber}" Width="150"&gt;                     &lt;GridViewColumn.CellTemplate&gt;                         &lt;DataTemplate&gt;                             &lt;mubctrls:SuggestionTextBlock Suggestion="{Binding DocumentNumber}"/&gt;                         &lt;/DataTemplate&gt;                     &lt;/GridViewColumn.CellTemplate&gt;                 &lt;/GridViewColumn&gt;                 &lt;!-- Definition of the dynamic columns --&gt;                 &lt;i:Interaction.Behaviors&gt;                     &lt;mubctrls:DynamicColumnsBehavior GroupColumnsByKey="False"&gt;                         &lt;mubctrls:DynamicColumnsBehavior.DynamicColumns&gt;                             &lt;mubctrls:DynamicGridViewColumn                              Width="Auto"                             DetailSelector="{Binding Path=Data.SuggestionsViewDynamicColumnSelector, Source={StaticResource Proxy}}"&gt;                                  &lt;mubctrls:DynamicGridViewColumn.HeaderTemplate&gt;                                     &lt;DataTemplate&gt;                                         &lt;!-- The DataContext for the header is represented by the TDynamicColumnKey type. In this case it is UOMLookupResult. --&gt;                                         &lt;TextBlock Text="{Binding UOMName}"/&gt;                                     &lt;/DataTemplate&gt;                                 &lt;/mubctrls:DynamicGridViewColumn.HeaderTemplate&gt;                                  &lt;mubctrls:DynamicGridViewColumn.CellTemplate&gt;                                     &lt;DataTemplate&gt;                                         &lt;!-- The DataContext for the cells is an instance that has a Root and a Detail property.                                             The Root property refers to the TankSuggestion while the Detail property refers to an instance of TDynamicColumnCellData                                             which in this case is TankUOMQuantity.                                     --&gt;                                         &lt;TextBlock Text="{Binding Detail.DisplayQuantity}"/&gt;                                     &lt;/DataTemplate&gt;                                 &lt;/mubctrls:DynamicGridViewColumn.CellTemplate&gt;                              &lt;/mubctrls:DynamicGridViewColumn&gt;                         &lt;/mubctrls:DynamicColumnsBehavior.DynamicColumns&gt;                     &lt;/mubctrls:DynamicColumnsBehavior&gt;                 &lt;/i:Interaction.Behaviors&gt;             &lt;/GridView&gt;         &lt;/Setter.Value&gt;     &lt;/Setter&gt;                   &lt;/Style&gt; </code></pre>  <p>I also tried to alter the Binding of the DetailSelector to </p>  <pre><code>DetailSelector={Binding Path=SuggestionsViewDynamicColumnSelector, RelativeSource={RelativeSource TemplatedParent}}" </code></pre>  <p>but it didn't work either.</p>  <p>Sorry for the long post. Feel free to ask</p>