<p>I'm creating a certain number of pthread on a specific event. Every pthread make a scan of /proc but after a while i receive segmentation fault. I really appreciate if someone help me</p>  <p><strong>Cycle on pthread function where i get segmentation fault</strong></p>  <pre><code>while ((topproc_dent = readdir(topproc_dir)) != NULL) {   if (topproc_dent-&gt;d_name[0] &lt; '0' || topproc_dent-&gt;d_name[0] &gt; '9') /* Not a process */     continue;   pid = atoi(topproc_dent-&gt;d_name);   /* Dont analize my_self */   if (pid == my_pid)     continue;    snprintf(strPath, sizeof strPath, "%s%jd%s", "/proc/", (intmax_t) pid, "/fd");    DIR *dp;   struct dirent *ep;   printf("%s\n", strPath);   dp = opendir(strPath);   if (dp != NULL)   {     while (ep = readdir(dp))     {       if (strcmp("..", ep-&gt;d_name) == 0)         continue;       if (strcmp(".", ep-&gt;d_name) == 0)         continue;       snprintf(strLink, sizeof strPath, "%s%s%s", strPath, "/", ep-&gt;d_name);       printf("%s\n", strLink);       if ((len = readlink(strLink, buf, sizeof(buf) - 1)) != -1)         buf[len] = '\0';       printf("%s\n", buf);     }     (void) closedir(dp);   }   else     perror("Couldn't open the directory");   closedir(dp); } </code></pre>