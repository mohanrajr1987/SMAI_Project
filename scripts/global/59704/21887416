<p>I try to use CCCrypt method, but I get different results from Xcode 3.2.6, Xcode 4 and Xcode 5; both have Mac OS X 10.6. I have used following code to decrypt the data</p>  <pre><code>- (NSData*)decryptData:(NSData*)data key:(NSData*)key iv:(NSData*)iv {     NSData* result = nil;      // setup key     unsigned char cKey[kCCKeySizeAES256];     bzero(cKey, sizeof(cKey));     cKey[0] = 0;     [key getBytes:cKey length:kCCKeySizeAES256];      // setup iv     char cIv[kCCBlockSizeAES128];     bzero(cIv, kCCBlockSizeAES128);     if (iv) {         [iv getBytes:cIv length:kCCBlockSizeAES128];     }      // setup output buffer     size_t bufferSize = [data length] + kCCBlockSizeAES128;     void *buffer = malloc(bufferSize);      // do decrypt     size_t decryptedSize = 0;     CCCryptorStatus cryptStatus = CCCrypt(kCCDecrypt,                                           kCCAlgorithmAES128,                                           kCCOptionPKCS7Padding,                                           cKey,                                           kCCKeySizeAES256,                                           cIv,                                           [data bytes],                                           [data length],                                           buffer,                                           bufferSize,                                           &amp;decryptedSize);      if (cryptStatus == kCCSuccess) {         result = [NSData dataWithBytesNoCopy:buffer length:decryptedSize];     } else {         free(buffer);         NSLog(@"[ERROR] failed to decrypt| CCCryptoStatus: %d", cryptStatus);     }      return result; } </code></pre>  <p>In Xcode 3.2.6 I get the actual result, whereas in Xcode 5 the result is "".</p>