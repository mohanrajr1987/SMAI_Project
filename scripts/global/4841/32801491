<p>I have a package I have created, and have used ant to compile it into a jar file.</p>  <p>the file structure goes like this</p>  <pre><code>project folder   x_package     compiled package_x.jar     com       name         package_x           Package files   demos     src       files I'm trying to compile </code></pre>  <p>I am trying to compile the files under demos/src that have a dependency on compiled package_x.jar</p>  <p>I do this by adding the package_x.jar to the classpath as a argument to the javac task</p>  <p><strong>Javac task</strong></p>  <pre><code>    &lt;javac destdir = "${build.dir}" source = "${ant.java.version}" target = "${ant.java.version}"          debug = "true" deprecation = "false" optimize = "false" failonerror = "true" &gt;         &lt;src path = "${source.dir}" /&gt;         &lt;classpath refid = "master-classpath"/&gt;     &lt;/javac&gt; </code></pre>  <p><strong>master-classpath</strong></p>  <pre><code>    &lt;path id = "master-classpath" &gt;          &lt;fileset dir = "${classpath.dir}" &gt;             &lt;include name = "*.jar" /&gt;         &lt;/fileset&gt;         &lt;pathelement path = "${classpath.dir}" /&gt;     &lt;/path&gt; </code></pre>  <p>Whenever I run the ant file, 2 errors happen</p>  <pre><code>error: package package_x does not exist </code></pre>  <p>and at the first reference to an class defined in the package</p>  <pre><code>error: Cannot access class_name bad class file C:/(path)/package_x.jar (class_name) class file contains wrong class: package_x.class_name please remove or make sure it appears in the correct subdirectory of the classpath </code></pre>  <p>in the package_x package every file starts with</p>  <pre><code>package package_x; /*code*/ </code></pre>  <p>and the files in the demos directory have</p>  <pre><code>import package_x.*; /*code*/ </code></pre>  <p>any suggestions appreciated</p>