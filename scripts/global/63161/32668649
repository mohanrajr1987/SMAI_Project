<p>Assuming I have the following list:</p>  <pre><code>var products = [     {"id": 6, "name": "product6", "category": "category2", "1": 54, "2": 37, "3": 64, "4":6, "5": 46, "6": 32, "7": 3},     {"id": 5, "name": "product5", "category": "category2", "1": 54, "2": 37, "3": 64, "4":6, "5": 46, "6": 32, "7": 3},     {"id": 7, "name": "product7", "category": "category1", "1": 54, "2": 37, "3": 64, "4":6, "5": 46, "6": 32, "7": 3},     {"id": 1, "name": "product1", "category": "category1", "1": 54, "2": 37, "3": 64, "4":6, "5": 46, "6": 32, "7": 3},     {"id": 3, "name": "product3", "category": "category2", "1": 54, "2": 37, "3": 64, "4":6, "5": 46, "6": 32, "7": 3},     {"id": 8, "name": "product8", "category": "category1", "1": 54, "2": 37, "3": 64, "4":6, "5": 46, "6": 32, "7": 3},     {"id": 2, "name": "product2", "category": "category3", "1": 54, "2": 37, "3": 64, "4":6, "5": 46, "6": 32, "7": 3},     {"id": 4, "name": "product4", "category": "category1", "1": 54, "2": 37, "3": 64, "4":6, "5": 46, "6": 32, "7": 3} ]  </code></pre>  <p>How would I then turn it into something like this using javascript and "ideally underscore.js groupBy? (or considering the table layout below, have you got any idea how to include the months here also?). As I see it the below nested  structure would get me "almost" there.</p>  <pre><code>var hierarchicalList = [     {          "id": -1, // something unique I guess?         "name": "category1",          "1": 216, // aggregate number of sales per week for all children         "2": 148,          "3": 256,          "4": 24,          "5": 184,          "6": 128,          "7": 12,         "children": [             {                 "id": 7,                  "name": "product7",                  "1": 54,                  "2": 37,                  "3": 64,                  "4":6,                  "5": 46,                  "6": 32,                  "7": 3             }             {                 "id": 1,                  "name": "product1",                  "1": 54,                  "2": 37,                  "3": 64,                  "4":6,                  "5": 46,                  "6": 32,                  "7": 3             }         ]     },      {          "id": -2,          "name": "category2",           "1": 162,          "2": 111,          ...         "7": 9,         "children": [             // product6, 5, 3         ]     } ] </code></pre>  <p>I'm going to use this for "row grouping" on product category in a table, where I'm looking to plug my datastructure in a react grid component like Griddle So to summarize, in my case how would I:</p>  <ul> <li>get the aggregated sales per category per week from the underscore groupBy category result?</li> </ul>  <p><a href="https://jsfiddle.net/zt62a3Lc/" rel="nofollow">https://jsfiddle.net/zt62a3Lc/</a></p>