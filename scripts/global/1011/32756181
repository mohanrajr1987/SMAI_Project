<p>I have following string (text) saved in a file.</p>  <p>It is the raw email as text which contains multiple files as base 64.</p>  <pre><code>Content-Type: multipart/mixed; boundary="_=_next_part_-31684356_=_" MIME-Version: 1.0  --_=_next_part_-31684356_=_ Content-Transfer-Encoding: base64 Content-Type: application/pdf Content-Description: Confirmation Content-Disposition: attachment; filename="test0.pdf" Content-CCID: VY8A5GCCDEWTBR8A  JVBERi0xLjYNJeLjz9MNCjEgMCBvYmo8PC9DcmVhdGlvbkRhdGUobY2UU1xcZaKaDzS12BVi  ...  OEYxREQyMTFCMjBBMDAwMDAwMDAwMEZDM0Q+PDU1NUZGMjA1MUREMjExQjIwQTAwRkZCRkND QzBGRUNDPl0vUHJldiA5MDI3MiA+PgpzdGFydHhyZWYKMTAxNjEzCiUlRU9GCg== --_=_next_part_-31684356_=_ Content-Transfer-Encoding: base64 Content-Type: application/pdf Content-Description: Advice - Statement Content-Disposition: attachment; filename="test1.pdf" Content-CCID: VY8A5GCCDEWTBR8A  JVBERi0xLjYNJeLjz9MNCjEgMCBvYmo8PC9DcmVhdGlvbkRhdGUo1NFWVkZLJgWS/EYUxsUP  ...  MCAwIFIvSW5mbyAxIDAgUi9TaXplIDI2Pj4KJTMzNjJhLTIwODdkLWM3MWQ0LTUxZDc1LTUu NS4wCnN0YXJ0eHJlZgo5OTUyNgolJUVPRgo= --_=_next_part_-31684356_=_-- </code></pre>  <p>This is saved in a file "test.txt".</p>  <p>My goal is to convert all the files (saved as base64 in there) to the actual files in one linux (I have csh) script.</p>  <p>My idea is to do the following (comming from a javascript background):</p>  <ol> <li>Go through the string (text) of the test.txt</li> <li><p>Read the filename from</p>  <p>Content-Disposition: attachment; filename="test1.pdf"</p></li> <li><p>Extract the part between "Content-CCID: VY8A5GCCDEWTBR8A" and "--_=_next_part_-31684356_=_"</p></li> <li>Run this code snippet (found here <a href="http://stackoverflow.com/questions/14638245/how-to-export-base64-to-file">How to export base64 to file?</a>):</li> </ol>  <blockquote>   <p><code>cat &lt;the base64 extract.txt&gt; | base64 --decode &gt; &lt;filename read&gt;</code></p> </blockquote>  <p>x. Do above again until at file end</p>