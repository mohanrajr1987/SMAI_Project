<p>I've switched recently from matlab to c++ in order to run simulations faster, however it still runs slow. I'm pretty positive that there is much to improve in terms of memory usage.</p>  <p>Consider the following code, it shows an example of two array/vector declaration, that I use in a simulation.</p>  <p>One with known fixed length  (array01) and another with unknown length (array02) that changes during the run.</p>  <p>The question here is what is the best/proper/efficient way of declaring variables ( for both array types) in terms of memory usage and performance.</p>  <pre><code># include &lt;iostream&gt; # include &lt;vector&gt; # include &lt;ctime&gt; # include &lt;algorithm&gt; using namespace std;  const int n = 1000; const int m= 100000; int main() {     srand((unsigned)time(NULL));     vector &lt;double&gt; array02;     vector &lt;vector&lt;double&gt;&gt; Array01(n,m);     for (unsigned int i=0; i&lt;n; i++)     {         for (unsigned int j=0; j&lt;m;j++)         {              array02.clear();              rr = rand() % 10;              for (unsigned int l = 0 ; l&lt;rr &lt;l++)              {                   array02.pushback(l);              }              // perform some calculation with array01 and array02          }                 } } </code></pre>