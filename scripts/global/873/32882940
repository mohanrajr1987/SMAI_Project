<p>Let imagine we have 20 items on stock. We can calculate through the transactions we already made (in and out; + and -).</p>  <p>Lets extend a bit further: We have 20 items which has, inside, 100 consumable products. </p>  <p>For example: each item pack has 100 screws. 20 packs of 100 screws. Now, problem is when you trying to say to the database: I took 2 packs but one of them I just used 50 screws. How can I put the rest? How can I compute this?</p>  <ul> <li>Product 1 is a pack of 100 screws (a box of 100)</li> <li>Product 2 is a pack of 5 DVDs (a box of 5)</li> </ul>  <p>Amt=Amount</p>  <pre><code>++++++++++++++++++++++ |id_trans|id_prod|Amt| ++++++++++++++++++++++ |1       |1      |10 | |1       |2      |20 | |2       |1      |-5 | ++++++++++++++++++++++ </code></pre>  <p>In stock:</p>  <pre><code>++++++++++++++++++ |id_prod |Balance| ++++++++++++++++++ |1       |5      | |2       |20     | ++++++++++++++++++ </code></pre>  <p>Here it shows as 5 boxes of 100 screws = 500 screws and 20 boxes of 5 DVDs = 100 DVDs. For those who didn't understand yet I want to take of the stock just 50 screws and 3 DVDs. I can't otherwise the balance would be like 19.4 for product 2 (boxes of DVDs) and 4.5 of product 1 (boxes of screws).</p>  <p>My idea of the solution is:</p>  <ol> <li>to calculate how much "packs" is 50 of 100 (0.5 in this case).</li> </ol>  <p>But I think this might not be the correct logic. Other idea is:</p>  <ol start="2"> <li>saying: Ok I consumed 2 packs of 100 BUT I will say to record a new transaction of a new item called pack of 50 screws.</li> </ol>  <p>**</p>  <h2>What is the correct logic here that should be scalable and friendly?</h2>  <p>**</p>