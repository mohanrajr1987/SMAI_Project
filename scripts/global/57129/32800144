<p>I have the following coffeescript, which works except for the fact that when images take a while to load it runs before the images are loaded and then doesn't have the desired effect:</p>  <pre><code>ready = -&gt;   jQuery -&gt;     $('.box').find('img').each -&gt;       imgClass = if @width / @height &gt; 1 then 'wide' else 'tall'       $(this).addClass imgClass       return     return   $(document).ready(ready) $(document).on('page:load', ready) </code></pre>  <p>How can I run my function only after the entire window is loaded?</p>  <p>My best attempt so far looks like</p>  <pre><code>window.onload = -&gt;   $('.box').find('img').each -&gt;     imgClass = if @width / @height &gt; 1 then 'wide' else 'tall'     $(this).addClass imgClass     return   return </code></pre>  <p>but it doesn't work. I've tried several other possibilities too but I can't figure out whats wrong.</p>  <p>My question is different from <a href="http://stackoverflow.com/questions/6656951/does-coffeescript-have-an-onload-like-event-for-the-browser">this one</a> since I don't want to wait until all the coffeescripts have finished loading, I want to wait until all of the images in my webpage have loaded.</p>