<p>When you click on a link of a file location in iOS Safari it can't download the file. But it will show you a view like <a href="https://www.dropbox.com/s/9xfqscu3lbkgwck/foto%2030-09-15%2010%2008%2014.png?dl=0" rel="nofollow">this</a>.</p>  <p>First question. How can I retrieve the provide URL when the user click on "Open in/with". I made a safari action extension to communicate with safari using JavaScript. Normally stuff like document.URL, location.href to get current URL works fine. But in this case, when the URL is a reference to a file like .dmg, .torrent, etc. It returns blank. I know it is possible because apps like Dropbox can deal with this to. Anyone an idea how to do this?</p>  <p>Question 2. Of course would it be awesome to see my app as the suggested one by safari. How does that work?</p>  <p>Many thanks!</p>