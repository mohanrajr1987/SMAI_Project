<p>I want to create a simple tool that connect to SQL Server then list all databases, and after user selects one of those databases, the tool will perform some SQL scripts on it.</p>  <p>Below is a method that should return a <code>DataTable</code> contains all my databases; I send to it <code>sqlServerIp</code> as first parameter like <code>10.10.20.30</code> ip address not server name.</p>  <p>Also I didn't specify a SQL Server instance.</p>  <pre><code>  private DataTable GetSqlServerDatabases(String sqlServer, bool isWindowsAuth, String login, String password)   {         String connectionString;         DataTable databases;          if (isWindowsAuth)         {             connectionString = "Data Source=" + sqlServer + ",1433;Network Library=DBMSSOCN; Integrated Security=True;";         }         else         {             connectionString = "Data Source=" + sqlServer + ",1433;Network Library=DBMSSOCN;" + "User id=" + login + ";Password=" + password + ";";         }          try         {             using (var con = new SqlConnection(connectionString))             {                 con.Open();                 databases = con.GetSchema("Databases");                  foreach (DataRow database in databases.Rows)                 {                     String databaseName = database.Field&lt;String&gt;("database_name");                     short dbID = database.Field&lt;short&gt;("dbid");                     DateTime creationDate = database.Field&lt;DateTime&gt;("create_date");                 }             }         }         catch(Exception ex)         {             databases = null;             MessageBox.Show(ex.Message.ToString());         }          return databases;     } </code></pre>  <p>When I try to call the method on more than one server I faced an exception:</p>  <blockquote>   <p>Login failed. The login is from an untrusted domain and cannot be used with Windows authentication.</p> </blockquote>  <p>or</p>  <blockquote>   <p>A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible.</p> </blockquote>  <p>I used connection string with <code>Network Library=DBMSSOCN;</code> after searching here on SO and web so I don't know what is the wrong with this method.</p>