<p>I have this function which works as it should:</p>  <pre><code>def format_df(active_posts, inactive_posts, active_impressions, inactive_impressions):      for name, data in vars().items():         df = pd.DataFrame(data).transpose()         df.fillna(0)         df[4] = df[0] / df[2]         df[5] = ((df[0] - df[1]) / df[1]) * 100         df = df.drop(1, 1)         df = df[[0, 5, 2, 4]]         df[5] = df[5].round()         df[4] = df[4].round()          if name == "active_posts" or name == "inactive_posts":             df.columns = ['Posts', 'MoM Change (%)', 'Editors', 'Posts/Editor']         if name == "active_impressions" or name == "inactive_impressions":             df.columns = ['PVs', 'MoM Change (%)', 'Editors', 'PVs/Editor'] </code></pre>  <p>But when I add an empty dictionary in, which I would like to add data to like this:</p>  <pre><code>def format_df(active_posts, inactive_posts, active_impressions, inactive_impressions):      EMPTY_DICT = {}      for name, data in vars().items():         df = pd.DataFrame(data).transpose()         df.fillna(0)         df[4] = df[0] / df[2]         df[5] = ((df[0] - df[1]) / df[1]) * 100         df = df.drop(1, 1)         df = df[[0, 5, 2, 4]]         df[5] = df[5].round()         df[4] = df[4].round()          if name == "active_posts" or name == "inactive_posts":             df.columns = ['Posts', 'MoM Change (%)', 'Editors', 'Posts/Editor']         if name == "active_impressions" or name == "inactive_impressions":             df.columns = ['PVs', 'MoM Change (%)', 'Editors', 'PVs/Editor'] </code></pre>  <p>I get the following error: </p>  <pre><code>  File "monthly_teams_report.py", line 271, in &lt;module&gt;     main()   File "monthly_teams_report.py", line 266, in main     format_df(active_posts, inactive_posts, active_impressions, inactive_impressions)   File "monthly_teams_report.py", line 235, in format_df     df[4] = df[0] / df[2]   File "/usr/local/lib/python2.7/site-packages/pandas/core/frame.py", line 1797, in __getitem__     return self._getitem_column(key)   File "/usr/local/lib/python2.7/site-packages/pandas/core/frame.py", line 1804, in _getitem_column     return self._get_item_cache(key)   File "/usr/local/lib/python2.7/site-packages/pandas/core/generic.py", line 1084, in _get_item_cache     values = self._data.get(item)   File "/usr/local/lib/python2.7/site-packages/pandas/core/internals.py", line 2851, in get     loc = self.items.get_loc(item)   File "/usr/local/lib/python2.7/site-packages/pandas/core/index.py", line 1572, in get_loc     return self._engine.get_loc(_values_from_object(key))   File "pandas/index.pyx", line 134, in pandas.index.IndexEngine.get_loc (pandas/index.c:3824)   File "pandas/index.pyx", line 154, in pandas.index.IndexEngine.get_loc (pandas/index.c:3704)   File "pandas/hashtable.pyx", line 686, in pandas.hashtable.PyObjectHashTable.get_item (pandas/hashtable.c:12280)   File "pandas/hashtable.pyx", line 694, in pandas.hashtable.PyObjectHashTable.get_item (pandas/hashtable.c:12231) KeyError: 0 </code></pre>  <p>Why would adding that empty dictionary outside of my loop cause this error?</p>