<p>I am trying to decode a H264 frame using the <a href="https://libav.org/" rel="nofollow">libav</a> library. After initialising the library by allocating frame and context, I am using the following code to decode:</p>  <pre><code>AVPacket pkt; int got_picture, len; av_init_packet(&amp;pkt); pkt.size = size; pkt.data = buffer; while(pkt.size &gt; 0) {     if((len = avcodec_decode_video2(context, frame, &amp;got_picture, &amp;pkt)) &lt; 0) {         break;     }      if(got_picture) {         // Do something with the picture...     }      avPkt.size -= len;     avPkt.data += len; } </code></pre>  <p>However, whenever I call <code>avcodec_decode_video2</code> it prints the following error in the console:</p>  <pre><code>[...]     [h264 @ 000000000126db40] AVC: The buffer size 210 is too short to read the nal length size 0 at the offset 210. [h264 @ 000000000126db40] AVC: The buffer size 283997 is too short to read the nal length size 0 at the offset 283997. [h264 @ 000000000126db40] AVC: The buffer size 17137 is too short to read the nal length size 0 at the offset 17137. [...] </code></pre>  <p>What am I missing? I tried searching for threads concerning a similar issue but nothing came up. Or is there a way I can debug the error to get more information about it?</p>