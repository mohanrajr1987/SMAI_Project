<p>This script works great in the terminal but fails when I run the shell script in automator (mac). For some reason, automator doesn't remember the gif's name and writes the file as *.gif. When run directly in Terminal, the script correctly converts to movie file to Gif and moves it to the correct Dropbox location.  I'm trying to run this automator Mov2Gif script when Apple Motion 5 finishes rendering a movie.</p>  <p>Any help is appreciated. Automator is a little touchy.</p>  <pre><code>#!/bin/sh  fps=8 scale=400 palette="/tmp/palette.png" filters="fps=$fps,scale=$scale:-1:flags=lanczos"  destDIR="/PATH/TO/DROPBOX/DIR" curDIR=$( cd "$( dirname "${BASH_SOURCE[0]}" )" &amp;&amp; pwd ) incomingDIR=$curDIR/_incoming  ffmpeg=$curDIR/ffmpeg/ffmpeg   for f in *.mov do        fbname=$(basename "$f" .mov)     fbAbsPath=$incomingDIR/$fbname     $ffmpeg  -v warning -i $fbAbsPath.mov -vf "$filters,palettegen" -y $palette     $ffmpeg -v warning -i $fbAbsPath.mov -i $palette -lavfi "$filters [x]; [x][1:v] paletteuse" -y $fbAbsPath.gif     rm $fbAbsPath.mov     mv -f $fbAbsPath.gif $destDIR/$fbname.gif done </code></pre>