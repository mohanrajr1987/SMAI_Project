<p>I am trying to drag and drop a element based on mouse coordinates. Its working fine in chrome and IE but not working in firefox.</p>  <p>Below is what I have tried:</p>  <pre><code>function createShape(event) {     var stageContainer = $(".mainArea");     var stageOffset = stageContainer.offset();     clientX = event.clientX;     clientY = event.clientY;     offsetX = stageOffset.left;     offsetY = stageOffset.top;     x = clientX - offsetX; // works in chrome and IE     y = clientY - offsetY; // works in chrome and IE      //Firefox     var offX = (event.offsetX || event.pageX - $(event.target).offset().left);     var offY = (event.offsetY || event.pageY - $(event.target).offset().top);     layerX = event.layerX;     layerY = event.layerX;     screenX = event.screenX;     screenY = event.screenY;     pageX = event.pageX;     pageY = event.pageY;     e = jQuery.event.fix(event);     var target = event.target || event.srcElement;      //Right now this is working but x and y are not exactly correct     x = screenX + offsetX     y = screenY + offsetY </code></pre>  <p><strong>Doesn't work in firefox</strong></p>  <pre><code>ClientXY return 0,0 LayerXY return largest number like 173839,173839 pageX and pageY returns 0,0 element.offset().left returns 70 always element.offset().top returns 63 always  createRect(x, y); // creating element on dragend with x and y coordinates on dragend </code></pre>  <p>}</p>  <p>How do I get drag end mouse coordinates?</p>