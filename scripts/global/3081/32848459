<p>I'm using rspec and capybara with <code>js: true</code> in the <code>describe</code> but I have one problem :</p>  <pre><code>     Failure/Error: visit '/users/sign_in'      WebMock::NetConnectNotAllowedError:        Real HTTP connections are disabled. Unregistered request: GET http://127.0.0.1:62453/__identify__ with headers {'Accept'=&gt;'*/*', 'Accept-Encoding'=&gt;'gzip;q=1.0,deflate;q=0.6,identity;q=0.3', 'User-Agent'=&gt;'Ruby'}         You can stub this request with the following snippet:         stub_request(:get, "http://127.0.0.1:62453/__identify__").          with(:headers =&gt; {'Accept'=&gt;'*/*', 'Accept-Encoding'=&gt;'gzip;q=1.0,deflate;q=0.6,identity;q=0.3', 'User-Agent'=&gt;'Ruby'}).          to_return(:status =&gt; 200, :body =&gt; "", :headers =&gt; {}) </code></pre>  <p>If I stub it like they said, next port is different :</p>  <pre><code>  1) the signin process signs me in      Failure/Error: visit '/users/sign_in'      WebMock::NetConnectNotAllowedError:        Real HTTP connections are disabled. Unregistered request: GET http://127.0.0.1:62453/__identify__ with headers {'Accept'=&gt;'*/*', 'Accept-Encoding'=&gt;'gzip;q=1.0,deflate;q=0.6,identity;q=0.3', 'User-Agent'=&gt;'Ruby'}         You can stub this request with the following snippet:         stub_request(:get, "http://127.0.0.1:62453/__identify__").          with(:headers =&gt; {'Accept'=&gt;'*/*', 'Accept-Encoding'=&gt;'gzip;q=1.0,deflate;q=0.6,identity;q=0.3', 'User-Agent'=&gt;'Ruby'}).          to_return(:status =&gt; 200, :body =&gt; "", :headers =&gt; {})         registered request stubs:         stub_request(:get, "http://127.0.0.1:61772/__identify__").          with(:headers =&gt; {'Accept'=&gt;'*/*', 'Accept-Encoding'=&gt;'gzip;q=1.0,deflate;q=0.6,identity;q=0.3', 'User-Agent'=&gt;'Ruby'}) </code></pre>  <p>I've try to add regex to the port and it failed all the time.</p>