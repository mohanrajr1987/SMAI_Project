<p>I am working in Drupal and trying to return a new URL in the lower function. The trouble I am having is that the <code>$path</code> variable I am returning doesn't persist the <code>$vocab</code> and <code>$site</code> variable.</p>  <p>Also, for non-Drupal users, the <code>ccw_taxonomy_baseurl_filter_url_inbound_alter()</code> function is automatically called so that is not the problem. I am hoping this is a syntax issue or something inside the switch because I have spent a lot of time debugging this.</p>  <pre><code>function __extractURLName($myurl){   $domain = parse_url($myurl , PHP_URL_HOST);   if (preg_match('/(?P&lt;domain&gt;[a-z0-9][a-z0-9\-]{1,63}\.[a-z\.]{2,6})$/i', $domain, $list)) {     return substr($list['domain'], 0,strpos($list['domain'], "."));   }   return false; }  /**  * Implements hook_url_inbound_alter().  */ function ccw_taxonomy_baseurl_filter_url_inbound_alter(&amp;$path, $original_path, $path_language) {    if($path =='taxonomy/term/%'){     $path = '';     $url = __extractURLName(url(NULL, array('absolute' =&gt; TRUE)));     $site = 0;     $vocab = arg(2);      switch ($url) {       case 'bmagazine':         $site = 5;         $vocab = arg(2);         break;       case 'emagazine':         if (arg(0) == 'high') {           $site = 4;           $vocab = arg(3);           break;         } else {           $site = 3;           $vocab = arg(3);           break;         }       case 'smagazine':         $site = 2;         $vocab = arg(2);         break;       case 'fmagazine':         $site = 1;         $vocab = arg(2);         break;       default:         $site = 1;         break;     }     $path = 'taxonomy/term/'.$vocab.'/'.$site;   }   dpm($path); // debugging tool   return $path; } </code></pre>  <p>By the way, <code>arg()</code> is a drupal function as well that grabs a URL path variable.</p>