<p>I'm trying to get the length of an NSString that contains a bunch of emojis, including the flag characters.  Now I know how to get the length of a string containing emojis: </p>  <pre><code>__block NSInteger length = 0; [string enumerateSubstringsInRange:range                            options:NSStringEnumerationByComposedCharacterSequences                         usingBlock:^(NSString *substring, NSRange substringRange, NSRange enclosingRange, BOOL *stop) {     length++; }]; </code></pre>  <p>However, "NSStringEnumerationByComposedCharacterSequences" doesn't work in this case.  Normal emojis are composed of two characters put together.  The flag emojis are composed of two emoji-like characters put together.  Thus the length of one flag emoji without any enumeration technique is 4.  </p>  <p>How do I get the proper length (number of characters) of an NSString containing flag emojis?</p>