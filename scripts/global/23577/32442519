<p>My App extension need to open URL from many websites. I do as following:</p>  <pre><code>for (NSExtensionItem *item in self.extensionContext.inputItems) {      for (NSItemProvider *itemProvider in item.attachments) {          if ([itemProvider hasItemConformingToTypeIdentifier:(NSString *)kUTTypeURL]) {              [itemProvider loadItemForTypeIdentifier:(NSString *)kUTTypeURL options:nil completionHandler:^(NSURL *url, NSError *error) {                 NSLog(@"URL: %@",url); </code></pre>  <p>I can get the URL, but at this point I got this error:</p>  <blockquote>   <p>App Transport Security has blocked a cleartext HTTP (http://) resource load since it is insecure. Temporary exceptions can be configured via your app's Info.plist file.</p> </blockquote>  <p>I tried to completely turn off ATS,</p>  <pre><code>&lt;key&gt;NSAppTransportSecurity&lt;/key&gt;     &lt;dict&gt;         &lt;key&gt;NSAllowsArbitraryLoads&lt;/key&gt; &lt;true/&gt;     &lt;/dict&gt; </code></pre>  <p>but it doesn't work, and I cannot list websites inside NSExceptionDomain. I tried on simulator and on device. Somebody could help?</p>  <p><strong>EDIT</strong></p>  <p>i think that the code that cause the issue it's this:</p>  <pre><code>NSString* htmlString = [NSString stringWithContentsOfURL: url encoding:NSUTF8StringEncoding] </code></pre>  <p>I use this line of code after url log to get the html as plain text.</p>