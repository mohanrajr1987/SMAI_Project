<p>I need to map json to coredata with restkit. Have to map based on the field "class" depending on the fields "class" can be different filled.</p>  <p>For example</p>  <p>i have json</p>  <pre><code>{     "list": [         {             "uid": "rss_001",             "message": "messge_001",             "class": "A",             "promo": {                 "uid": "promo_001",                 "message": "promo_msg_001",                 "bar": "0001-0001-0001-0001"             }         },         {             "uid": "rss_002",             "message": "messge_002",             "class": "B",             "user": {                 "uid": "user_002",                 "avatar": "avatar_002",                 "gender": "male",             }         },     ],     "meta": {         "timestamp": 2009392012,         "statusCode": 200     } } </code></pre>  <p>my mapping by object-c</p>  <pre><code>    RKEntityMapping *listMapping = [RKEntityMapping mappingForEntityForName:@"List" inManagedObjectStore:RKAPIClient_ManagedObjectStore];     listMapping.identificationAttributes = @[@"uid"];     [listMapping addAttributeMappingsFromDictionary:@{                                                      @"uid": @"uid",                                                      @"message": @"message",                                                      @"class": @"dataType",                                                      @"likedNumber": @"likedNumber",                                                      }];      RKEntityMapping *promoMapping = [RKEntityMapping mappingForEntityForName:@"Promo" inManagedObjectStore:RKAPIClient_ManagedObjectStore];     promoMapping.identificationAttributes = @[@"uid"];     [promoMapping addAttributeMappingsFromDictionary:@{                                                      @"uid": @"uid",                                                      @"message": @"message",                                                      @"bar": @"bar",                                                      }];      RKEntityMapping *userMapping = [RKEntityMapping mappingForEntityForName:@"User" inManagedObjectStore:RKAPIClient_ManagedObjectStore];     userMapping.identificationAttributes = @[@"uid"];     [userMapping addAttributeMappingsFromDictionary:@{                                                      @"uid": @"uid",                                                      @"avatar": @"avatar",                                                      }];       RKDynamicMapping* dynamicMapping = [RKDynamicMapping new]; [dynamicMapping setObjectMapping:promoMapping whenValueOfKeyPath:@"class" isEqualTo:@"A"]; [dynamicMapping setObjectMapping:userMapping whenValueOfKeyPath:@"class" isEqualTo:@"B"];    RKResponseDescriptor *listResponseDescriptor = [RKResponseDescriptor responseDescriptorWithMapping:listMapping                                            method:RKRequestMethodGET                                       pathPattern:@"list"                                           keyPath:@"list"    statusCodes:RKStatusCodeIndexSetForClass(RKStatusCodeClassSuccessful)];     [RKAPIClient_ObjectManager addResponseDescriptor:listResponseDescriptor]; </code></pre>  <p>but it don't work how to set up property dynamic mapping correctly?</p>