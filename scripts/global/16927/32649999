<p>I have a simple PHP app that parse html content and extract data from <strong>td</strong> that matches certain query.  </p>  <p><strong>HTML Code:</strong></p>  <pre><code>&lt;html&gt;     &lt;h3&gt;HELLO WORLD&lt;/h3&gt;     &lt;table&gt;          &lt;tr&gt;&lt;td&gt;A&lt;/td&gt;&lt;td&gt;A2&lt;/td&gt;&lt;/tr&gt;          &lt;tr&gt;&lt;td&gt;B&lt;/td&gt;&lt;td&gt;B2&lt;/td&gt;&lt;/tr&gt;          ...          ...     &lt;/table&gt;     &lt;h3&gt;HELLO AMERICA&lt;/h3&gt;     &lt;table&gt;          &lt;tr&gt;&lt;td&gt;A&lt;/td&gt;&lt;td&gt;A3&lt;/td&gt;&lt;/tr&gt;          &lt;tr&gt;&lt;td&gt;C&lt;/td&gt;&lt;td&gt;C2&lt;/td&gt;&lt;/tr&gt;          ...          ...     &lt;/table&gt;     &lt;h3&gt;HELLO TEXAS&lt;/h3&gt;     &lt;table&gt;          &lt;tr&gt;&lt;td&gt;D&lt;/td&gt;&lt;td&gt;D2&lt;/td&gt;&lt;/tr&gt;          &lt;tr&gt;&lt;td&gt;E&lt;/td&gt;&lt;td&gt;E2&lt;/td&gt;&lt;/tr&gt;          ...          ...     &lt;/table&gt; &lt;html&gt;   </code></pre>  <p><strong>PHP Code to parse the table</strong> </p>  <pre><code>$content = file_get_contents($html_string); $dom = new DOMDocument(); @$dom-&gt;loadHTML($content); $xpath = new DOMXPath($dom); $query = "//tr/td[position()=1 and normalize-space(text()) = '".$q."']"; $entries = $xpath-&gt;query($query);  $entryCount = $entries-&gt;length;  if ($entryCount==1){     $entry = $entries-&gt;item(0);     $tr = $entry-&gt;parentNode;     foreach ($tr-&gt;getElementsByTagName("td") as $td) {         $fieldnames[] = $td-&gt;textContent;     }  //Return data set     $data[] = $fieldnames;     return $data; }  else {     $data = array();      for ($i=0;$i&lt;$entryCount;$i++){         $fieldnames = [];         $entry = $entries-&gt;item($i);         $tr = $entry-&gt;parentNode;         foreach ($tr-&gt;getElementsByTagName("td") as $td) {             $fieldnames[] = $td-&gt;textContent;         }         $data[] = $fieldnames;     }      return $data; } </code></pre>  <p>Basically this will go through all 3 tables. Let say, I send a query ($q = A), it will return:  </p>  <blockquote>   <p>$data[0][0] => A, $data[0][1] => A2<br>   $data[1][0] => A, $data[1][1] => A3</p> </blockquote>  <p>However, I only want the data from the first table (A and A2). The table is 'naked'. No ID, no class or any identification. The only thing that identifies them is the <strong>h3</strong> tag. Let say, I provide a query that specifies the <strong>h3</strong> ($q2 = HELLO WORLD), is it possible to extract data from only the first table?</p>