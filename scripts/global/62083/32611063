<p>So, basically I'm using <code>EF</code> with <code>Reverse POCO Code First Generator</code> in my project.</p>  <p>My connection Strings look like this:</p>  <pre><code>&lt;connectionStrings&gt;     &lt;add name="HistoryDBContext" connectionString="" providerName="System.Data.SqlClient" /&gt;     &lt;add name="ProjectMgtContext" connectionString="data source=xxx;initial catalog=xxx;user id=xx;password=xxx;MultipleActiveResultSets=True;App=EntityFramework" providerName="System.Data.SqlClient" /&gt; &lt;/connectionStrings&gt; </code></pre>  <p>The idea is that I am going to read the <code>connectionString</code> for <code>HistoryDBContext</code> from <code>ProjectMgtContext</code> (which is working fine) and then rewrite the <code>connectionString</code> from <code>HistoryDBContext</code> using:</p>  <pre><code>public static void WriteConnectionString(string connectionString) {     var config = ConfigurationManager.OpenExeConfiguration(ConfigurationUserLevel.None);      var connectionStringsSection = (ConnectionStringsSection) config.GetSection("connectionStrings");      connectionStringsSection.ConnectionStrings["HistoryDBContext"].ConnectionString = connectionString;      config.Save();      ConfigurationManager.RefreshSection("connectionStrings"); } </code></pre>  <p>However, this only works the <code>second time</code> that I run my project because during the first run, it complains that the <code>connectionString</code> is empty:</p>  <p><a href="http://i.stack.imgur.com/S4vrT.png" rel="nofollow"><img src="http://i.stack.imgur.com/S4vrT.png" alt="enter image description here"></a></p>  <p>So, obviously my approach is not working. How should I approach this?</p>  <p>Thank you</p>  <p><strong>Edit</strong> </p>  <p>More code:</p>  <pre><code>while (ProjectManager.HaveProjects()) {     var project = ProjectManager.GetNextProject();      if (project == null) continue;      /*Write the current project to the configuration file*/     Connection.WriteConnectionString(project.ConnectionString);     ... } </code></pre>