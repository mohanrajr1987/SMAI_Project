<p>I have a query that at some point has two aggregations:</p>  <pre><code>string_agg(requirements, '@') as req, string_agg(name, ',') as name </code></pre>  <p>Later on the code, I split the characters I used in the aggregation and zip the two resulting arrays together. However, this code will not work because I need the entries ordered by name. If I do this:</p>  <pre><code>string_agg(requirements, '@') as req, string_agg(name, ',' order by name) as name </code></pre>  <p>then it actually lose the correspondency with the requirements, once I split the strings and mount it again.</p>  <p>How can I order both aggregations at same time? Is there a better way to do this?</p>