<p>I would like to see Log4j output in the console only when a given test has failed.  I can add a console appender to Log4j during test execution, but that causes all log entries, whether for failing or passing tests, to be written to the console.  What I would like to see is something like this: </p>  <pre><code>[junit] Testcase: testInequality took 0 sec [junit] Testcase: testEquality took 0 sec [junit]     FAILED [junit] expected:&lt;1&gt; but was:&lt;2&gt; [junit] junit.framework.AssertionFailedError: expected:&lt;1&gt; but was:&lt;2&gt; [junit]     at com.company.package.TestNeedsLogOutput.testEquality (TestNeedsLogOutput.java:80) [junit]log4j: Some text that was logged in the target class before the last test case failed. </code></pre>  <p>In this example, testInequality would write logs, but they would not be output to the console since the test passed, whereas testEquality's log lines would be written to the console, since it failed.  This seems like it should be simple to configure, but searches only return information on how to assert log output as part of a test.  I am using log4j 1.2 and junit 4.11, configuring both with Ant and procedural code.</p>