<p>Please take a look a this src-code:</p>  <pre><code>var clients         = {}; // map&lt;string, Connection&gt; clients var clientsReverse  = {}; // map&lt;Connection, string&gt; clientsReverse  webSocketServer.on('connection', function(newclient) { // newclient is connection Object      newclient.on('message', function(message) {          var data = JSON.parse(message);          if (clients[data.name] === undefined) {             clients[data.name]        = newclient;             clientsReverse[newclient] = data.name;         }          // ...      });      newclient.on('close', function(){         log(clientsReverse[newclient]); // prints always the same string          // remove closed connection         var key = clientsReverse[newclient];         delete clientsReverse[newclient];         delete clients[key];     }); }); </code></pre>  <p>I have to remove a connection if the client gone away. As you can see I'm using two arrays for this, but unfortunately it does not work. If I try to disconnect 3 random clients, log print always the same name...</p>  <p>Any Idea what I'm doing wrong?</p>