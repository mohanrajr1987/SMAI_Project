<p>Here giving the custom tranformer code used for sending the email.Here attachment fails when trying to use the addOutboundAttachment Mule API. Xml sorce and java code used for custom transformaer are given below.Please help, Thanks in advance.</p>  <pre><code>&lt;smtp:outbound-endpoint user="${smtp.user}" password="${smtp.password}" host="${smtp.host}" from="${smtp.from}" responseTimeout="10000"         doc:name="SMTP" mimeType="text/html" transformer-refs="MailDataToEmailTransformer StringToEmail" /&gt;  Java code  public class MailDataToEmailTransformer extends AbstractMessageTransformer {  private static final Logger baseLogger = Logger.getLogger(MailDataToEmailTransformer.class);  public MailDataToEmailTransformer() {     super();     registerSourceType(DataTypeFactory.create(MailData.class));     setReturnDataType(DataTypeFactory.STRING); }  @Override public Object transformMessage(MuleMessage message, String outputEncoding) throws TransformerException {     MailData mailData = (MailData) message.getPayload();       message.setOutboundProperty(MailProperties.TO_ADDRESSES_PROPERTY, mailData.getTo());     message.setOutboundProperty(MailProperties.FROM_ADDRESS_PROPERTY, mailData.getFrom());     if(mailData.getCc()!=null)         message.setOutboundProperty(MailProperties.CC_ADDRESSES_PROPERTY, mailData.getCc());     if(mailData.getBcc()!=null)         message.setOutboundProperty(MailProperties.BCC_ADDRESSES_PROPERTY, mailData.getBcc());     //message.setOutboundProperty(MailProperties.CC_ADDRESSES_PROPERTY, mailData.getCc());     message.setOutboundProperty(MailProperties.SUBJECT_PROPERTY , mailData.getSubject());     if(mailData.getReplyTo()!=null)         message.setOutboundProperty(MailProperties.REPLY_TO_ADDRESSES_PROPERTY , mailData.getReplyTo());     if(mailData.getContentType()!=null)         message.setOutboundProperty(MailProperties.CONTENT_TYPE_PROPERTY , mailData.getContentType());      baseLogger.info("Sending e-mail notification to " + mailData.getTo());      baseLogger.info("**************=================================&gt;" + message.getInboundAttachment("test1.pdf"));     //logger.info(arg0)      for(MailAttachment mailAttachment : mailData.getAttachments()){         try {             message.addOutboundAttachment(mailAttachment.getFilename(), mailAttachment.getBase64AttachmentContent(),mailAttachment.getContentType());         } catch (Exception e) {             // TODO Auto-generated catch block             baseLogger.error(e);         }     }     return mailData.getBody(); } } </code></pre>