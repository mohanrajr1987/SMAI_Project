<p>I'm using this file system simulator:</p>  <p><a href="http://www.ontko.com/moss/filesys/user_guide.html" rel="nofollow">http://www.ontko.com/moss/filesys/user_guide.html</a></p>  <p>And trying to solve the Suggested Exercises, specially Ex 4.</p>  <p>Adding a chown method to Kernel.java</p>  <p>Here is my code of chown method on Kernel.java:</p>  <pre><code>public static void chown(String fullPath, short owner, short group) throws Exception{      int status = 0 ;     Stat stat = new Stat() ;     status = stat( fullPath , stat ) ;      // a buffer for reading directory entries     DirectoryEntry directoryEntry = new DirectoryEntry() ;      // get the full path     String path = getFullPath( fullPath ) ;      // find the index node     IndexNode indexNode = new IndexNode() ;     short indexNodeNumber = findIndexNode( path , indexNode ) ;      if( indexNodeNumber &lt; 0 )     {       // return ENOENT       process.errno = ENOENT ;     }          if(owner == 0){      }else{       System.out.println("UID: "+indexNode.getUid());       indexNode.setUid(owner);       stat.st_dev = 0;       stat.st_ino = indexNodeNumber;       stat.copyIndexNode(indexNode);       System.out.println("UID Changed: "+indexNode.getUid());      }   } </code></pre>  <p>And I created another file chown.java that calls this method:</p>  <pre><code>public class chown{      public static final String PROGRAM_NAME = "chown" ;      public static void main (String [] args) throws Exception{          /*          * Example: java chown 2 /root/home          */         Kernel.initialize() ;          if( args.length &lt; 1 )         {           System.err.println( PROGRAM_NAME + ": too few arguments" ) ;           Kernel.exit( 1 ) ;         }          short owner = Short.parseShort(args[0]);         short grp   = 0;         String name = args[1];          Kernel.chown(name, owner, grp);          Kernel.exit( 0 ) ;     }  } </code></pre>  <p>It seems to change the uid but the my problem is that it is not saving, so the next time I run for example <code>java chown 2 /root/home</code> it gets the default uid.</p>  <p>Do somebody have worked with this simulator????</p>