<p>I have a  which i need to transform in more functional combobox.</p>  <pre><code>&lt;span class="combo_box"&gt;     &lt;select id="state" name="state" tabindex="24"&gt;         &lt;option value="" disabled selected style="display:none"&gt;&lt;/option&gt;         &lt;!-- Some JSP here --&gt;     &lt;/select&gt; &lt;/span&gt; </code></pre>  <p>And I transformed it in to widget (so original <code>&lt;select&gt;</code> with id "state" is still there but hidden) like this <code>$("#state").combobox();</code> What i need is to add an error highlight to this custom widget on form submission if combobox is empty. jQuerry UI has a custom CSS class <code>ui-state-error</code> for this. Validation script (works fine as I debug it)</p>  <pre><code>function setComboboxClassBeforeSubmit(elementID) {     var flag = true;     var element = document.getElementById(elementID);     var combobox = $(element).combobox();     combobox.removeClass('ui-state-error');     if (isEmpty(element)) {         combobox.addClass('ui-state-error');         flag = false;     }     return flag; } </code></pre>  <p>But adding this CSS class seems like have no effect on widget look. Also tried hardcode like it was shown <a href="http://stackoverflow.com/questions/7998772/jquery-ui-calling-highlight-error">here</a>, something like <code>$("#state").addClass('ui-state-error')</code> and still no luck. Also tried <a href="http://stackoverflow.com/questions/7055626/how-to-addclassui-state-error-to-a-select-styled-with-selectmenu-dropkick">this solution</a>, works fine for selectmenu but not for combobox.</p>  <p><strong>Possible solution:</strong> (thanks to <a href="http://stackoverflow.com/users/2042240/nowhere">nowhere</a>)</p>  <p>Editing <code>_createAutocomplete: function()</code> like this:</p>  <pre><code>_createAutocomplete: function() {             var selected = this.element.children( ":selected" ),                 value = selected.val() ? selected.text() : "";          this.input = $( "&lt;input&gt;" )             .appendTo( this.wrapper )             .val( value )             .attr( "title", "" )             .attr( "id", "ui-" + this.element.attr("id") + "-input" ) ... </code></pre>  <p>Issue is - default API doesn't generate unique ID's for combobox's elements.</p>