<p>I'm trying to implement TreeMap class, and I'm having a problem while putting elements in the TreeMap. Here's the code:</p>  <pre><code>public class TreeMap&lt;K,V&gt; implements Map&lt;K,V&gt; {      private Comparator&lt;K&gt; comparator;     private int size;     private Node&lt;K,V&gt; head;      public TreeMap(Comparator&lt;K&gt; comparator){         this.comparator = comparator;         size = 0;     }      @Override     public int size() {         return size;     }      @Override     public boolean isEmpty() {         return size == 0;     }      @Override     public V put(K key, V value) {         return rootPut(head, key, value);     }      private V rootPut(Node&lt;K,V&gt; node, K key, V value){         if(isEmpty()){             node = new Node&lt;&gt;(key, value);             size++;             return null;         }         int compare = comparator.compare(head.key, key);          if(compare == 0){             V auxValue = node.value;             node.value = value;             size++;             return auxValue;         } else if(compare &gt; 0){             return rootPut(node.right, key, value);         } else{             return rootPut(node.left, key, value);         }     } } </code></pre>  <p>The problem is that when I execute this line:</p>  <pre><code>node = new Node&lt;&gt;(key, value); </code></pre>  <p>node is always null. I've already tried debugging the code, but the problem persists.</p>  <p>The other methods I didn't include here because they work.</p>