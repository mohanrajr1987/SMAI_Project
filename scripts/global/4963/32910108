<p>I am trying to display an AlertDialog with a custom xml layout that looks like this:</p>  <pre><code>&lt;?xml version="1.0" encoding="utf-8"?&gt; &lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android" android:layout_width="wrap_content" android:layout_height="wrap_content" android:orientation="vertical"&gt;  &lt;TextView     android:id="@+id/sort_dialog_title"     android:layout_width="wrap_content"     android:layout_height="wrap_content"     android:background="@color/cyan"     android:gravity="center_horizontal"     android:padding="16dp"     android:text="Sort by"     android:textColor="@color/white"     android:textSize="34sp"     android:textStyle="bold" /&gt;  &lt;LinearLayout     android:layout_width="wrap_content"     android:layout_height="wrap_content"     android:orientation="vertical"     android:padding="16dp"&gt;      &lt;TextView         android:layout_width="match_parent"         android:layout_height="wrap_content"         android:gravity="left"         android:paddingBottom="8dp"         android:paddingTop="8dp"         android:text="Upcoming"         android:textSize="24sp" /&gt;      &lt;TextView         android:layout_width="match_parent"         android:layout_height="wrap_content"         android:gravity="left"         android:paddingBottom="8dp"         android:paddingTop="8dp"         android:text="Oldest"         android:textSize="24sp" /&gt;      &lt;TextView         android:layout_width="match_parent"         android:layout_height="wrap_content"         android:gravity="left"         android:paddingBottom="8dp"         android:paddingTop="8dp"         android:text="Newest"         android:textSize="24sp" /&gt;      &lt;TextView         android:layout_width="match_parent"         android:layout_height="wrap_content"         android:gravity="left"         android:paddingBottom="8dp"         android:paddingTop="8dp"         android:text="Category"         android:textSize="24sp" /&gt;  &lt;/LinearLayout&gt;  &lt;/LinearLayout&gt; </code></pre>  <p>I want the alert dialog to not take up the 80% of the screen it defaults to, rather it should only take up as much room as the LinearLayout demands, so that it scales nicely.  In my activity fragment I have this:</p>  <pre><code>LayoutInflater inflater = getLayoutInflater(savedInstanceState);             View dialoglayout = inflater.inflate(R.layout.sort_dialog_view, null);             AlertDialog.Builder builder = new AlertDialog.Builder(getActivity());             builder.setView(dialoglayout);             AlertDialog window = builder.show();             window.getWindow().setLayout(ViewGroup.LayoutParams.WRAP_CONTENT, ViewGroup.LayoutParams.WRAP_CONTENT); </code></pre>  <p>However, the last line has no effect at the moment and the Dialog is displayed with my LinearLayout on the left, taking up 40% of the dialog, and then a big white space to the right.  I am not sure of how to fix this.</p>