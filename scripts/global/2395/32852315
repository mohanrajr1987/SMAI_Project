<p>I'm trying to create a hive external table using <code>org.apache.hadoop.hive.serde2.RegexSerDe</code> for analising some <code>Log4J</code> logs.</p>  <p>However my <code>regex</code> is not working even when it's ok when testing in <a href="http://www.regexr.com/" rel="nofollow">http://www.regexr.com/</a>.</p>  <p>My problem is when I have multiline logs, for instance, an exception log with it's corresponding StackTrace.</p>  <p>Here is an example:</p>  <pre><code>@@@@ 2015-09-29T11:20:45,549 INFO MYHOSTNAME my-app org.hibernate.jpa.internal.util.LogHelper HHH000204: Processing PersistenceUnitInfo [     name: name     ...] @@@@ </code></pre>  <p>I've added a pattern on the start and end of the log to help extract it when there is multilines.</p>  <p>This is my regex:</p>  <pre><code>@@@@ (.{23}) ([\\w]+) ([\\w]+) ([\\w\\-]+) ([\\w\\.$]+) ([\\s\\S]+) @@@@ </code></pre>  <p>And this is my table:</p>  <pre><code>CREATE EXTERNAL TABLE log4j(     dt STRING,     level STRING,     host STRING,     app_name STRING,     clazz STRING,     message STRING) ROW FORMAT SERDE 'org.apache.hadoop.hive.serde2.RegexSerDe' WITH SERDEPROPERTIES ("input.regex" = "@@@@ (.{23}) ([\\w]+) ([\\w]+) ([\\w\\-]+) ([\\w\\.$]+) ([\\s\\S]+) @@@@") STORED AS TEXTFILE LOCATION 'hdfs://localhost:9000/logs/'; </code></pre>  <p>With single line logs it works ok, but with multilines like the one on the example, it extracts several lines with all columns null.</p>