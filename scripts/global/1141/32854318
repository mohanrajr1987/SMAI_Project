  <p>I have this, but it loads each and every <code>ebay</code> row individually, generating thousands of SQL statements:</p>  <pre class="lang-php prettyprint-override"><code>$products = \app\models\Product::find()     -&gt;joinWith('ebay', false, 'inner join')     -&gt;indexBy(function($row){return $row-&gt;ebay-&gt;epid;})     -&gt;all(); </code></pre>  <p>I tried this, but it gave an error: <code>'Getting unknown property: app\models\Product::ebay.epid'</code></p>  <pre class="lang-php prettyprint-override"><code>$products = \app\models\Product::find()     -&gt;joinWith('ebay', false, 'inner join')     -&gt;indexBy('ebay.epid')     -&gt;all(); </code></pre>  <p>Setting eager loading = <code>true</code> doesn't help either. It still loads each row individually then loads them again at the end. </p>  <p>How can I <em>efficiently</em> join a table in Yii and index by a value in the joined table?</p>