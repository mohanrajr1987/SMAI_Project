<p>Let say I have a two models with association <code>has_many :through</code> between them.</p>  <pre><code>class Category &lt; ActiveRecord::Base   has_many :category_recipes   has_many :categories, through: :category_recipes    validates :name, presence: true  class Recipe &lt; ActiveRecord::Base   has_many :category_recipes   has_many :categories, through: :category_recipes    validates :title, presence: true </code></pre>  <p>I want to create search functionality using ActiveRecord for mySQL database, which allow users to implement text search on <code>Recipe</code> title and Category <code>name</code>.</p>  <p>Now I have just:</p>  <pre><code>@recipes = Recipe.where('title LIKE ?', "%#{params[:query]}%") </code></pre>  <p>How can I modify this query to search through both title of recipe and it's category names?</p>