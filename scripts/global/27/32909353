<p>This JS function works correctly; but doesn't if the user refuse to give his localization by the browser.</p>  <p>How can I modify it?</p>  <pre><code>function getPosition()   {    if (navigator.geolocation)     {     navigator.geolocation.getCurrentPosition(showmyPosition);     }   else     {     alert("Geolocation doesn't work");      }   }  function showmyPosition(position)   {   document.location.href="/near?lat="+  position.coords.latitude +"&amp;lng="+ position.coords.longitude +"";   }    </code></pre>