<p>I'm developing a mobile app in angular using ionic framework. I have the following function for displaying images. This works fine for drawing and scaling for portrait images, but landscape images seem a bit...cut off. Any ideas? </p>  <pre><code>$scope.drawBackground = function (imageUri) {         var context = canvas.getContext("2d");         var img = new Image();         img.src = imageUri;         img.onload = function () {             var orientation = "portrait";             if (img.naturalWidth &gt; img.naturalHeight) {                 orientation = "landscape";             }             canvas.width = orientation == "landscape" ? window.innerHeight : window.innerWidth;             canvas.height = orientation == "landscape" ? window.innerWidth : window.innerHeight;             var hRatio = canvas.width / img.width;             var vRatio = canvas.height / img.height;             var ratio = Math.min(hRatio, vRatio);             var center_X = (canvas.width - img.width * ratio) / 2;             var center_Y = (canvas.height - img.height * ratio) / 2;             context.clearRect(0, 0, canvas.width, canvas.height);             if (orientation == "landscape") {                 context.translate(window.innerWidth, 0);                 context.rotate(90 * Math.PI / 180);             }             context.drawImage(img, 0, 0, img.width, img.height, center_X, center_Y, img.width * ratio, img.height * ratio);         };     }; </code></pre>