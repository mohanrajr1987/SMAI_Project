<p>I'm trying to build a script that imports items from a production database to a local one, but am having problems switching the connection form production to local.</p>  <pre><code>Doctrine_Manager::getInstance()-&gt;setCurrentConnection('prod-slave'); // execute query to get data from production, confirm it worked  Doctrine_Manager::getInstance()-&gt;setCurrentConnection('local'); // insert data into local database </code></pre>  <p>When I run this I'm getting this error:</p>  <blockquote>   <p>PHP Fatal error:  Uncaught exception 'Doctrine_Connection_Mysql_Exception' with message 'SQLSTATE[HY000]:   General error: 1290 The MySQL server is running with the --read-only   option so it cannot execute this statement' in...</p> </blockquote>  <p>If I close the connection to prod-slave before setting it to local I get:</p>  <blockquote>   <p>PHP Fatal error:  Uncaught exception 'Doctrine_Manager_Exception' with message 'Unknown connection: prod-slave' in...</p> </blockquote>  <p>Notice that in both of these cases, it's still trying to connect to the slave even though I changed the connection to local (In the first case, it must be the slave since it is read-only).</p>  <p>I have also tried manually setting the connections with:</p>  <pre><code>Doctrine_Manager::connection('mysql://path'); </code></pre>  <p>Doctrine version: 1.2.3</p>  <p>Symfony version: 1.3.9</p>  <p>Any help would be much appreciated.</p>  <p>Thank you</p>