<p>Here a text file is created and the content is written using separator and i want to insert the values in table like question in one column,option1 is in another column.so here i used seperator to differentiate question and answer part.</p>  <p>Only first line is inserted in database table.buffer can not fetch from 2nd line.so they are not inserted in table.</p>  <p>View page:</p>  <pre><code>&lt;form action="&lt;?php echo base_url(); ?&gt;index.php/Control/content_upload" method="post" enctype="multipart/form-data"&gt; Title : &lt;input type="text" name="title"&gt; File : &lt;input type="file" name="myfile"&gt; &lt;input type="submit" value="GO"&gt; &lt;/form&gt;  </code></pre>  <p>Controller:</p>  <pre><code>public function content() {     $this-&gt;load-&gt;view('content'); }  public function content_upload() {     $config['upload_path'] = './upload/';     $config['allowed_types'] = 'txt';     $config['max_size'] = '1000000';      $this-&gt;load-&gt;library('upload', $config);      if ($this-&gt;upload-&gt;do_upload('myfile'))     {         $data = $this-&gt;upload-&gt;data();          $this-&gt;load-&gt;model('Filemodel');         $this-&gt;Filemodel-&gt;doupload_content($data);          $this-&gt;load-&gt;view('content');        }     else     {         $data['error'] = $this-&gt;upload-&gt;display_errors();         $this-&gt;load-&gt;view('content', $data);     } }  </code></pre>  <p>Model page</p>  <pre><code> public function doupload_content($data)  {     $title = $this-&gt;input-&gt;post('title');     $file = $data['file_name'];      $path = base_url().'upload/'.$file;     $handle = fopen("$path", "r"); //read mode      while (!feof($handle)) // Loop til end of file.     {         $buffer = fgets($handle); // Read a line.         //echo $buffer;         $question_parts = explode('|',$buffer);         $ques = $question_parts[0];         $ans = $question_parts[2];         $answers = explode(':',$question_parts[1]);         $op1 = $answers[0];         $op2 = $answers[1];         $op3 = $answers[2];         $op4 = $answers[3];          $query = $this-&gt;db-&gt;query("INSERT INTO question                              VALUES('','$ques', '$op1', '$op2',                                     '$op3', '$op4', '$ans')");          return true;     } } </code></pre>