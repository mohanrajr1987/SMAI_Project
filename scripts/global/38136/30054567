<p>I am using drupal form to build a contact us form.</p>  <p>I want to send my contact us data to salesforce.</p>  <p>My contact us form has action  "<a href="https://www.salesforce.com/servlet/servlet.WebToLead?encoding=UTF-8" rel="nofollow">https://www.salesforce.com/servlet/servlet.WebToLead?encoding=UTF-8</a>".</p>  <p>I want validate the form details before it is sent to salesforce so I am using hook_validate function which validates the form.</p>  <p>If I directly mention #action in hook_menu then it directly posts data to salesforce but doesn't validates it before sending.</p>  <p>SO, I am trying to use cURL to send data to salesforce.</p>  <p>Here is my form :</p>  <pre><code>function contact_us_form($form_state){       $form['orgid'] = array(             '#name' =&gt; 'orgid',             '#type' =&gt; 'hidden',             '#value' =&gt; 'xxxxxx'            );       $form['retURL'] = array(         '#name' =&gt; 'retURL',         '#type' =&gt; 'hidden',         '#value' =&gt; 'http://www.example.com'        );       $form['external'] = array(         '#name' =&gt; 'external',         '#type' =&gt; 'hidden',         '#value' =&gt; '1'        );      $form['name'] = array(         '#type' =&gt; 'textfield',         '#size' =&gt; 40,         '#id' =&gt; 'name',         '#title' =&gt; t('First and Last Name'),         '#prefix' =&gt; '&lt;table&gt;&lt;tr&gt;&lt;td&gt;',         '#suffix' =&gt; '&lt;/td&gt;&lt;/tr&gt;',         '#required' =&gt; TRUE        );       $form['email'] = array(         '#type' =&gt; 'textfield',         '#size' =&gt; 40,         '#id' =&gt; 'email',         '#title' =&gt; t('Valid Email Address'),         '#prefix' =&gt; '&lt;tr&gt;&lt;td&gt;',         '#suffix' =&gt; '&lt;/td&gt;&lt;/tr&gt;',         );      $form['phone'] = array(         '#type' =&gt; 'textfield',         '#id' =&gt; 'phone',         '#title' =&gt; t('Phone Number'),         '#size' =&gt; 40,         '#prefix' =&gt; '&lt;tr&gt;&lt;td&gt;',         '#suffix' =&gt; '&lt;/td&gt;&lt;/tr&gt;'      );      $form['subject'] = array(         '#type' =&gt; 'textfield',         '#size' =&gt; 40,         '#title' =&gt; t('Subject'),         '#prefix' =&gt; '&lt;tr&gt;&lt;td&gt;',         '#suffix' =&gt; '&lt;/td&gt;&lt;/tr&gt;'     );      $form['desc'] = array(         '#type' =&gt; 'textarea',         '#size' =&gt; 40,         '#title' =&gt; t('Description1'),         '#prefix' =&gt; '&lt;tr&gt;&lt;td&gt;',         '#suffix' =&gt; '&lt;/td&gt;&lt;/tr&gt;'     );     $form['type'] = array(         '#name' =&gt; 'type',         '#type' =&gt; 'hidden',         '#value' =&gt; 'Web-to-case'        );   //  // Adds a simple submit button that refreshes the form and clears its contents -- this is the default behavior for forms.     $form['submit'] = array(     '#type' =&gt; 'submit',     '#value' =&gt; 'Submit',     '#prefix' =&gt; '&lt;br&gt;&lt;tr&gt;&lt;td style="padding-left:150px;"&gt;',     '#suffix' =&gt; '&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;'   );      return $form; } </code></pre>  <p>Form is redering correctly. following is my validate function :</p>  <pre><code>    function contact_us_form_validate($form, $form_state) {    //logic to check fields.      } </code></pre>  <p>Following is my submit code which is not working : Ideally the cURL call should not return because I have mentioned retURL in form and retrurn URL will be set by salesforce. Currently I am not redirected to retURL.NO any entry is going to salesforce.</p>  <pre><code>function contact_us_form_submit($form, $form_state){    $temp = $form_state['values'];   $ch = curl_init();   foreach ($temp as $key =&gt; $value) {  //Set array element for each POST variable (ie. first_name=Arsham) $kv[] = stripslashes($key)."=".stripslashes($value);  }   $query_string = join("&amp;", $kv);   //The original form action URL from Step 2 :) $url = 'https://www.salesforce.com/servlet/servlet.WebToLead?encoding=UTF-8';  //Open cURL connection $ch = curl_init();  //Set the url, number of POST vars, POST data      curl_setopt($ch, CURLOPT_URL, $url);      curl_setopt($ch, CURLOPT_POST, count($kv));      curl_setopt($ch, CURLOPT_POSTFIELDS, $query_string);      curl_setopt($ch, CURLOPT_HEADER, FALSE);      curl_setopt($ch, CURLOPT_RETURNTRANSFER, FALSE);      curl_setopt($ch, CURLOPT_FOLLOWLOCATION, TRUE);      curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, false);  $result = curl_exec($ch);  //close cURL connection curl_close($ch);  } </code></pre>