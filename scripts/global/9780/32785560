<p>i wrote a method to encrypt a string and  decrypt the that encrypted one again..encryption in happening successfully  but i cannot decrypt it.. this is the code i have written</p>  <pre><code>public String encrypt(String a,int x) {        String ret="";   try {       String text = a;       String key = "Bar12345Bar12345"; // 128 bit key      // Create key and cipher      Key aesKey = new SecretKeySpec(key.getBytes(), "AES");       Cipher cipher = Cipher.getInstance("AES");      // encrypt the text if(x==0)//x==0 means i want to encrypt {          cipher.init(Cipher.ENCRYPT_MODE, aesKey);          byte[] encrypted = cipher.doFinal(text.getBytes());          ret =new String(encrypted); } else//if not 0 i want to decrypt {         // decrypt the text      byte[] encrypted = text.getBytes(Charset.forName("UTF-8"));          cipher.init(Cipher.DECRYPT_MODE, aesKey);          String decrypted = new String(cipher.doFinal(encrypted));          ret=decrypted; }   }catch(Exception e) {      e.printStackTrace();   }   return ret; } </code></pre>  <p>i think the problem arise when it trying to convert the string in to byte arrayy.the error i get is </p>  <blockquote>   <p>javax.crypto.BadPaddingException: Given final block not properly padded</p> </blockquote>  <p>so what is the problem and i am not converting the string in to byte array in right way how should i do it  </p>