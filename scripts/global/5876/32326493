<p>I have a shared hosting server where each subdomain is in its folder in root. The <code>www.domain.com</code> is in the <code>/www</code> folder, the <code>subdomain.domain.com</code> subdomain is in the <code>/subdomain</code> folder, etc. </p>  <p>What I want right now, is to restrict access to <code>subdomain.domain.com</code> with a <code>.htaccess</code> password, but show a customized message for users who don't have a password. And I can't get Apache2 to read the 401 error document. I have found some common troubleshooting saying that the file has to be readable, which in my case it definitely is. </p>  <p>So, the only two places where I can put the auth file in this configuration, since <code>/subdomain</code> is protected, is either under the <code>/www</code> folder, or in the root (like <code>/401.html</code>), which I have no idea if it makes any difference. But in both cases, those are folders obviously readable by Apache2, because I am using them, I am using the other (main) domain for PHP scripts, and I am getting error logs in the root, the file permissions are the same as on the 404 document (which works), and the owner is the same. </p>  <p>And I don't think my hoster is disabling me from using custom 401 error documents (I am already successfully using custom 404 and 500 documents), because only when I try to specify a 401 document, I get an additional row in my error output that says <code>Additionally, a 401 Authorization Required error was encountered while trying to use an ErrorDocument to handle the request.</code>. As if it's trying to do it, but there is something else in the way. </p>  <p>What could it be, and what should I try? </p>  <p><strong>EDIT:</strong></p>  <p>This is the contents of the <code>.htaccess</code> file: </p>  <pre><code>Options +Indexes +FollowSymLinks RewriteEngine On  RewriteRule ^([^\.]+)$ index.php?data=$1 [QSA,L]  AuthName "Restricted Area" AuthType Basic AuthUserFile /subdomain/.htpasswd AuthGroupFile /dev/null require valid-user  ErrorDocument 404 /tpl/errors/404.php ErrorDocument 500 /tpl/errors/500.php ErrorDocument 401 /auth_alpha.html </code></pre>  <p>And what I'm noticing right now pasting this, is that my 404 messages are an absolute path starting with the <code>http</code> address, not the root of the file system, which means that if I start the 401 error document with a <code>/</code>, it will try to read it from the same domain? Which makes little sense to me, because it should be an Apache2 directive, not a browser directive, right? Anyway, when I tried putting <code>../auth_alpha.html</code> instead of <code>/auth_alpha.html</code>, then the browser outputs ONLY the string <code>../auth_alpha.html</code> on the page.  </p>