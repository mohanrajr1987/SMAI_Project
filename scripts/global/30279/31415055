<p>I am trying to write a rule to redirect to https, with or without port specified. The one without port works fine but when in IIS I test the one with port it shows error page. We were told to use port 9080 for http and 9443 for https (it is a net scaler that has only these ports available).</p>  <p>This is my rule in web.config:</p>  <pre><code>&lt;rewrite&gt;     &lt;rules&gt;         &lt;clear /&gt;         &lt;rule name="Redirect to HTTPS - With Port" stopProcessing="true"&gt;             &lt;match url="(.*)" /&gt;             &lt;conditions logicalGrouping="MatchAll" trackAllCaptures="false"&gt;                 &lt;add input="{HTTPS}" pattern="^OFF$" /&gt;                 &lt;add input="{SERVER_PORT}" pattern="[0-9]{3,4}" /&gt;             &lt;/conditions&gt;             &lt;action type="Redirect" url="https://{HTTP_HOST}/MTC" /&gt;         &lt;/rule&gt;         &lt;rule name="Redirect to HTTPS" enabled="true" stopProcessing="true"&gt;             &lt;match url="(.*)" /&gt;             &lt;conditions logicalGrouping="MatchAll" trackAllCaptures="false"&gt;                 &lt;add input="{HTTPS}" pattern="^OFF$" /&gt;             &lt;/conditions&gt;             &lt;action type="Redirect" url="https://{HTTP_HOST}/MTC" /&gt;         &lt;/rule&gt;     &lt;/rules&gt; &lt;/rewrite&gt; </code></pre>  <p>When I test this is IIS, it works for "Browse *:443 (https)", "Browse *:9443 (https)", "Browse *:80 (http) but for "Browse *:9080(http)" I get:</p>  <p>"This page can’t be displayed •Make sure the web address <a href="http://localhost:9080" rel="nofollow">http://localhost:9080</a> is correct."</p>