<p>I want to control a bulb via a code sent through text message. I need to acquire the latest message send to the <code>SIM</code> . How may I do so?</p>  <pre><code>sendATcommand("AT+CMGF=1", "OK", 1000);    // sets the SMS mode to text sendATcommand("AT+CPMS=\"SM\",\"SM\",\"SM\"", "OK", 1000);    // selects the memory  answer = sendATcommand("AT+CMGR=1", "+CMGR:", 2000);    // reads the first SMS </code></pre>  <p>This code only show the first one:</p>  <pre><code>int8_t sendATcommand(char* ATcommand, char* expected_answer, unsigned int timeout){  uint8_t x=0,  answer=0; char response[100]; unsigned long previous;  memset(response, '\0', 100);    // Initialice the string  delay(100);  while( Serial.available() &gt; 0) Serial.read();    // Clean the input buffer // ATcommand+=char(testCtr); Serial.println(ATcommand);    // Send the AT command        x = 0; previous = millis();  // this loop waits for the answer do{     if(Serial.available() != 0){    // if there are data in the UART input buffer, reads it and checks for the asnwer         response[x] = Serial.read();         x++;         if (strstr(response, expected_answer) != NULL)    // check if the desired answer is in the response of the module         {             answer = 1;         }     } } while((answer == 0) &amp;&amp; ((millis() - previous) &lt; timeout));    // Waits for the asnwer with time out  return answer; } </code></pre>