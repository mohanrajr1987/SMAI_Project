<p>I have this knowledgebase in prolog of a air company and their flighs:</p>  <pre><code>flight(departure,arrive,day).  flight(london,paris,monday). flight(paris,barcelona,thursday). flight(paris,madrid,sunday). flight(madrid,lisbon,saturday). </code></pre>  <p>recursive rules:</p>  <pre><code>connection(Departure,Arrive):-flight(Departure,Arrive,Day). connection(Departure,Arrive):-flight(Departure,X,Day),connection(X,Arrive). </code></pre>  <p>And with this I can ask the question: is there a connection possible between london and barcelona?</p>  <p>question: <code>connection(london,barcelona).</code></p>  <p>And the answer will be afirmative. But is there any rules / questions I can do that it could give me more details ?</p>  <p>for example: the connection between london and barcelona is direct or indirect ?</p>  <p>other question: I would like to know when the flight is indirect, which city is in the middle ? (in the example above it would be "paris" for example.</p>  <p>can anyone help me figure it out?</p>