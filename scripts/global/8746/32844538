<p>So, I have this code:</p>  <pre><code>shuffle([],[],[]). shuffle([], Shuffled, Rest):-     listReverse(Rest, RestRes),     shuffle(RestRes, Shuffled, []). shuffle([A|[]], [A|Shuffled], Rest):-     shuffle(Rest, Shuffled, []). shuffle([A, B|List], [A|Shuffled], Rest):-     shuffle(List, Shuffled, [B|Rest]). </code></pre>  <p>And helper:</p>  <pre><code>listReverse(L, R):-     listReverse(L,[],R). listReverse([H|T],A,R):-         listReverse(T,[H|A],R).   listReverse([],A,A). </code></pre>  <p>It works fine, when I call:</p>  <pre><code>shuffle([1,2,3], X, []), </code></pre>  <p>I get: <code>X = [1,3,2]</code> but then there is a questionmark "?", and if I press ";", then prolog redoes the statement, setting <code>X = [1,3,2]</code> and returns the same thing again, over and over.</p>  <p>Why is this, and how can I fix it?</p>  <p>It looks like this:</p>  <pre><code>X = [1,3,2,4] ? ;      77   64  Redo: skyffla([1,2,3,4],[1,3,2,4]) ?       78   65  Redo: shuffle([1,2,3,4],[1,3,2,4],[]) ?       79   66  Redo: shuffle([3,4],[3,2,4],[2]) ?       80   67  Redo: shuffle([],[2,4],[4,2]) ?       85   68  Redo: shuffle([2,4],[2,4],[]) ?       86   69  Redo: shuffle([],[4],[4]) ?       90   70  Redo: shuffle([4],[4],[]) ?       91   71  Redo: shuffle([],[],[]) ?       92   72  Call: listReverse([],_2668) ?       93   73  Call: listReverse([],[],_2693) ?       93   73  Exit: listReverse([],[],[]) ?       92   72  Exit: listReverse([],[]) ?       94   72  Call: shuffle([],_2604,[]) ?       94   72  Exit: shuffle([],[],[]) ?       91   71  Exit: shuffle([],[],[]) ?       90   70  Exit: shuffle([4],[4],[]) ?       86   69  Exit: shuffle([],[4],[4]) ?       85   68  Exit: shuffle([2,4],[2,4],[]) ?       80   67  Exit: shuffle([],[2,4],[4,2]) ?       79   66  Exit: shuffle([3,4],[3,2,4],[2]) ?       78   65  Exit: shuffle([1,2,3,4],[1,3,2,4],[]) ?       77   64  Exit: skyffla([1,2,3,4],[1,3,2,4]) ?   X = [1,3,2,4] ? ; </code></pre>