<p>I'm writing a prolog predicate which replace an element with another in a given atom. The predicate I wrote is like this:</p>  <pre><code>replace_var(Expr0, Var, Val, Expr) :-     Expr0 =.. Chars,     chars_replaced(Chars, Rs),     Expr =.. Rs.  chars_replaced(Chars, Rs) :-     maplist(rep, Chars, Rs).  rep(Var,Val). rep(C, C) :- dif(C,var). </code></pre>  <p>The result I want it to return is something like:</p>  <pre><code>-?replace_var(hello, l, w, X). X = hewwo. </code></pre>  <p>The problem is about the <code>rep()</code> predicate. I don't know how to write it or how to pass the <code>Val</code> and <code>Var</code> to the predicate.</p>  <p>Please give me some suggestions. Thanks!</p>