<p>I was reading <a href="http://stackoverflow.com/questions/10865957/c-printf-with-stdstring/10865967#10865967">this</a>. That question contains following program.</p>  <pre><code>#include &lt;iostream&gt; #include &lt;cstdio&gt; #include &lt;string&gt; int main() {     using namespace std;     string myString = "Press ENTER to quit program!";     cout &lt;&lt; "Come up and C++ me some time." &lt;&lt; endl;     printf("Follow this command: %s", myString);     cin.get();     return 0; } </code></pre>  <p>I tried it on g++ 4.8.1 &amp; it fails in compilation. g++ 4.8.1 gives following diagnosis.</p>  <pre><code>9 47 [Error] cannot pass objects of non-trivially-copyable type 'std::string {aka class std::basic_string&lt;char&gt;}' through '...'  9 47 [Warning] format '%s' expects argument of type 'char*', but argument 2 has type 'std::string {aka std::basic_string&lt;char&gt;}' [-Wformat=] </code></pre>  <p>What does this error mean? Should this program compile successfully or not? Which compiler is correct (g++ or MSVS 2010) ? Why MSVS 2010 accepts this code? Is the code invokes undefined behavior when compiled on MSVS 2010?</p>  <p><strong>Surprising:</strong> I tried it on ideone which uses g++ 5.0  &amp; surprisingly it compiles &amp; runs fine. (See live demo <a href="http://ideone.com/nOmX81" rel="nofollow">here.</a>). g++ 5.2.0 gives warning when I compile this code. (See live demo <a href="http://melpon.org/wandbox/permlink/VLzuPAcvQ2xMAn3I" rel="nofollow">here</a>). Why it compiles fine on ideone but fails on g++ 4.8.1?  g++ 4.8.2(gives same diagnosis as g++ 4.8.1, 4.9.0,4.9.1,4.9.2 (gives error not warning). g++ 5.1.0 gives warning but program still compiles &amp; runs fine. </p>  <p>Why different versions of g++ behave differently when compiling above program? Is this bug in g++ ? Clang also rejects this code to compile in response to answer given by <a href="http://stackoverflow.com/users/819272/templaterex">@TemplateRex</a> </p>