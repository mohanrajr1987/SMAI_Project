<p>I'm trying to format currency, using the bellow code as a test.</p>  <pre><code>long double mon = 1234567.45; // or std::string mon = "123.45"; std::cout.imbue(std::locale("")); std::cout &lt;&lt; "normal:   " &lt;&lt; mon &lt;&lt; std::endl; std::cout &lt;&lt; "formated: " &lt;&lt; std::showbase &lt;&lt; std::put_money(mon*100) &lt;&lt; std::endl; </code></pre>  <p>But I get an unexpected result.</p>  <pre><code>g++ -std=c++0x -O1 -g3 -Wall -c -fmessage-length=0 -o tst.o tst.cpp g++ -o tst tst.o  normal:   -2.64326e-199 formated: 526296518301961010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000 </code></pre>  <p>I'm using g++ version 4.8.1, on Win10</p>  <p>On my Ubuntu machine, using  version 4.8.4 (Ubuntu 4.8.4-2ubuntu1~14.04). I get the following correct result.</p>  <pre><code>normal:   1,12346e+06 formated: â‚¬ 1 123 456,45 </code></pre>  <p>What is going on??</p>