<p>Hi the following program works with g++ 4.9.2 (Ubuntu 4.9.2-10ubuntu13) but the <code>virtual</code> keyword is required for the function <code>get</code> :</p>  <pre><code>//g++ -std=c++14 test.cpp //test.cpp  #include &lt;iostream&gt; using namespace std;  template&lt;typename T&gt; constexpr auto create() {   class test {   public:     int i;     virtual int get(){       return 123;     }   } r;   return r; }  auto v = create&lt;int&gt;();  int main(void){   cout&lt;&lt;v.get()&lt;&lt;endl; } </code></pre>  <p>If I omit the <code>virtual</code> keyword, I get the following error : </p>  <pre><code>test.cpp: In instantiation of ‘constexpr auto create() [with T = int]’: test.cpp:18:22:   required from here test.cpp:16:1: error: body of constexpr function ‘constexpr auto create() [with T = int]’ not a return-statement  }  ^ </code></pre>  <p>How can I get the code above to work (with g++) without having to use the <code>virtual</code> keyword?</p>