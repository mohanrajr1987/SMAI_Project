<p>I'm currently working on a way to stream a video from an Android device to a PC using <code>socket</code>. The connection is established and everything works well at runtime.</p>  <p>But when I try to open the video (on the PC side), the file cannot be read. Using an hexadecimal editor, I have compared the file structure with a classic mp4 file and it looks quite different. Any idea why the stream looks corrupted?</p>  <p><strong>EDIT</strong>: if not clear, it looks like this guy had the same problem (with no answer) - <a href="http://stackoverflow.com/questions/12343179/save-video-stream-from-socket-to-file">here</a></p>  <p>Android code (client):</p>  <pre><code>mMediaRecorder = new MediaRecorder();  mMediaRecorder.setPreviewDisplay(surface); mMediaRecorder.setCamera(mCamera); mMediaRecorder.setVideoSource(MediaRecorder.VideoSource.CAMERA); mMediaRecorder.setOutputFormat(MediaRecorder.OutputFormat.MPEG_4); mMediaRecorder.setVideoEncoder(MediaRecorder.VideoEncoder.H263); mMediaRecorder.setVideoEncodingBitRate(512 * 1000); mMediaRecorder.setVideoFrameRate(30); mMediaRecorder.setVideoSize(640, 480);  // Socket is created and connected (output on the server side) mParcelFileDescriptor = ParcelFileDescriptor.fromSocket(mSocket); mMediaRecorder.setOutputFile(mParcelFileDescriptor.getFileDescriptor()); </code></pre>  <p>Java code (server):</p>  <pre><code>ServerSocket mServerSocket = new ServerSocket(); mServerSocket.setReuseAddress(true); mServerSocket.bind(new InetSocketAddress(mPort));  Socket client = mServerSocket.accept(); InputStream in = client.getInputStream();  File f = new File("video.mp4");  if(f.exists())     f.delete();  f.createNewFile();  FileWriter fw = new FileWriter(f);  int line; while((line = in.read()) != -1){     fw.write(line); }  in.close(); fw.close();  client.close(); mServerSocket.close(); </code></pre>  <p>Difference between file structures: The "readable" one (data starts farther): <a href="http://i.stack.imgur.com/6tUzN.png" rel="nofollow"><img src="http://i.stack.imgur.com/6tUzN.png" alt="enter image description here"></a></p>  <p>The one I get: <a href="http://i.stack.imgur.com/3RH8U.png" rel="nofollow"><img src="http://i.stack.imgur.com/3RH8U.png" alt="enter image description here"></a></p>  <p>Thanks for your help!</p>