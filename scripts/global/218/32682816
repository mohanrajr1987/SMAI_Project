<p>I have following problem, I want to delete a file/directory, but the problem is following: I'm setting the <code>FileAttribute.ReadOnly</code> to false with this code</p>  <pre><code>var di = new DirectoryInfo("FileToDelete"); di.Attributes &amp;= ~FileAttributes.ReadOnly; </code></pre>  <p>Then I'm doing this</p>  <pre><code>File.Delete("FileToDelete") </code></pre>  <p>Then it throws this Exception:</p>  <blockquote>   <p>An unhandled exception of type 'System.UnauthorizedAccessException'       occurred in mscorlib.dll</p>      <p>Additional information: The access to the path       "FileToDelete" has been denied.  //Changed the Path to FileToDelete</p> </blockquote>