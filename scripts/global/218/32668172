<p>I have lots of projects archived under a directory tree, some of which have a .git folder in them.</p>  <p>What I'd like to do is recursively copy those files and directories to a new destination, keeping the current structure - EXCEPT for those directories containing a .git folder, in which case the script should run a command (let's say "echo", I'll change it later) followed by the folder name, without creating or copying it.</p>  <p>Any help would be much appreciated.</p>  <p><strong>Edit:</strong> I'll try to explain myself better: I need to copy every single file and directory, except for those containing .git, which should be skipped and their path should be passed to another command. In this example, path a/b/c/d and its subfolders should be skipped entirely and a/b/c/d should be displayed using echo (just for brevity, I'll replace it with a different command later):</p>  <pre><code>a a/b a/b/c a/b/c/d/.git a/b/c/d/e a/b/c/d/f/g a/b/c/e a/b/d a/c b b/c ... </code></pre>