<p>I am currently working on a machine learning project. I have a package/directory of java files and i want to read their contents. Later, i will apply other methods to achieve results.</p>  <p>The problem is that the given code reads the txt files, however, when i pass the directory containing java files it doesn't work properly. Following is what I did</p>  <ol> <li>I read the names of all files in a directory.</li> <li>As every directory has different number of files and different structure of files and folders inside it. I am looking for a generic solution.</li> <li>Next, I read the contents of every file and put it in a list or MAP or whatever</li> </ol>  <p>The given code is as follows. I have written 3 methods. </p>  <p>This method list all files in a directory and make a set</p>  <pre><code> // it will list all files in a directory.     public Collection&lt;File&gt; listFileTree(File dir) {       Set&lt;File&gt; fileTree = new HashSet&lt;File&gt;();          for (File entry : dir.listFiles()) {              if (entry.isFile())                  fileTree.add(entry);              else                  fileTree.addAll(listFileTree(entry));          }          return fileTree;      } </code></pre>  <p>Here using the above method i have tried to read the contents of each file.</p>  <pre><code>File file = new File("C:\\txt_sentoken");// c\\japa..if i use it code only show directory files         Iterator&lt;File&gt; i = Util.listFileTree(file).iterator(); String temp = null;         while(i.hasNext()){             temp = Util.readFile(i.next().getAbsolutePath().toString());             System.out.println(temp);                    } } </code></pre>  <p>This is the readFile method</p>  <pre><code>// using scanner class for reading file contents public String readFile(String pathname) throws IOException {     File file = new File(pathname);     StringBuilder fileContents = new StringBuilder((int)file.length());     Scanner scanner = new Scanner(file);     String lineSeparator = System.getProperty("line.separator");     try {         while(scanner.hasNextLine()) {                     fileContents.append(scanner.nextLine() + lineSeparator);         }         return fileContents.toString();     } finally {         scanner.close();     } } </code></pre>  <p>If i pass a directory (in <code>File file = new File("C:\\txt_sentoken");</code>) containing txt files this code works but for java or c++ or other code directories or packages it doesn't.</p>  <p>Can anyone guide me in refining this code? Also if there is any API or generic solution available please share.</p>