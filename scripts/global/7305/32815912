<p>I have a DatePickerDialog that launches successfully in a fragment.  When an orientation change occurs the app crashes.  The logcat output says the NPE happens with onDismiss for the DatePickerFragment.  What am I missing here?</p>  <p>Here is partial DatePcikerFragement file:</p>  <pre><code>public class DatePickerFragment extends DialogFragment implements DatePickerDialog.OnDateSetListener {      public DatePickerFragment() {     }     @Override     public Dialog onCreateDialog(Bundle savedInstanceState) {     ...     DatePickerDialog picker = new DatePickerDialog(getActivity(),             this, year, month, day);     return picker;     }       public void onDismiss(final DialogInterface dialog) {     InputMethodManager imm = (InputMethodManager) getActivity().getSystemService(CardViewActivity.INPUT_METHOD_SERVICE);     imm.toggleSoftInput(InputMethodManager.SHOW_IMPLICIT, 0);     super.onDismiss(dialog);     } } </code></pre>