<p>I know there are some questions like mine in stack, but I really canÂ´t understand whats wrong with my code. If someone could look at it and give some help would be awsome.</p>  <p>I want to validate if the username and password given by the user are ok and if they are proceed to checkout. If not proceed to sign in a new account. The code i have is this:</p>  <pre><code>$email=$_POST['email']; $pass=$_POST['pass']; $pass=sha1($pass);  $jdados=array("email"    =&gt; $email,               "password" =&gt; $pass);  $json_dados = json_encode($jdados); $len = strlen($json_dados);  $file=fopen("result/test.txt", "w");  $config=array(CURLOPT_RETURNTRANSFER =&gt; "1",               CURLOPT_VERBOSE        =&gt; "1",               CURLOPT_URL            =&gt; $url,               CURLOPT_POST           =&gt; "1",               CURLOPT_HEADER         =&gt; $header,               CURLOPT_POSTFIELDS     =&gt; $json_dados,               CURLOPT_CONNECTTIMEOUT =&gt;"10"               );  $curl=curl_init($url); curl_setopt_array($curl, $config); $result=curl_exec($curl);  $json_result=json_decode($result);  if($result === FALSE){     die('Error: "' . curl_error($curl) . '" - Code: ' . curl_errno($curl)); }else{     curl_close($curl);     fclose($file); } </code></pre>  <p>The connection is made, but i always get the HTTP/1.1 400 Bad Request.</p>