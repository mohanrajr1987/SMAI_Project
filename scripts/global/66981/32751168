<p><strong>EDIT</strong></p>  <p>This sites.pp seems to work. </p>  <pre><code>class lein {   $lein = "/usr/local/bin/lein"   $url = 'https://raw.githubusercontent.com/technomancy/leiningen/stable/bin/lein'    exec { 'download lein':     command =&gt; "/usr/bin/curl -sL -o ${lein} ${url}",     creates =&gt; $lein,   }    file { $lein:     mode =&gt; '0755',     require =&gt; Exec['download lein'],   }    exec { 'install lein':     command =&gt; $lein,     require =&gt; File[$lein],   } } </code></pre>  <hr>  <p>I'm trying to install lein on a Centos Vagrant using Puppet.</p>  <p>To install lein you just run the script. I'm trying to dowload the script with curl, make it executable and then executing it but I'm getting <code>no such file or directory</code>. I have verified that the file <code>/usr/local/bin/lein</code> exists, so not sure why I'm getting the error.</p>  <p>So what I'm trying to accomplish is the puppet equivalent of this shell:</p>  <pre><code>curl -sL -o /usr/local/bin/lein https://raw.githubusercontent.com/technomancy/leiningen/stable/bin/lein chmod 0755 /usr/bin/local/lein /usr/local/bin/lein </code></pre>  <p>Also on a side note, is it possible to run exec as a non-privileged user?</p>  <p><strong>puppet/manifests/site.pp</strong></p>  <pre><code>class lein {   exec { 'download lein':     command =&gt; 'curl -sL -o /usr/local/bin/lein https://raw.githubusercontent.com/technomancy/leiningen/stable/bin/lein',     path =&gt; '/usr/bin',   }   file { '/usr/local/bin/lein':     mode =&gt; '0755',     require =&gt; Exec['download lein'],   }   exec { 'install lein':     command =&gt; 'lein',     path =&gt; '/usr/local/bin',     require =&gt; File['/usr/local/bin/lein'],   } } </code></pre>  <p><strong>Vagrantfile</strong></p>  <pre><code># -*- mode: ruby -*- # vi: set ft=ruby :  Vagrant.configure(2) do |config|   config.vm.box = "puphpet/centos65-x64"    config.vm.provision "puppet" do |p|     p.module_path = "puppet/modules"     p.manifests_path = "puppet/manifests"     p.manifest_file = "site.pp"   end end </code></pre>