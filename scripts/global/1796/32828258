<p>I am using Java8 with CDH5.</p>  <p>I am trying to run <em>hadoop fs -copyFromLocal</em> command to copy Java Flight Recorder files captured from each maptask/reducetask to HDFS. I am doing this copy in shutdown hook of a <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/instrument/package-summary.html" rel="nofollow">premain</a> method.</p>  <p>I cannot use Java API to interact with HDFS because I want to run this via shell script which runs after JVM is killed. </p>  <p>I wrote a script which runs <em>hadoop</em> command. Eventually, I want to run <em>hadoop</em> command in <em>nohup</em> mode to ensure that it runs even after JVM exits.  </p>  <pre><code>Runtime.getRuntime().exec(new String[]{"/bin/bash", "-c", "./copyFromLocal.sh"}); </code></pre>  <p>copyFromLocal.sh:</p>  <pre><code>#!/bin/sh  /usr/bin/hadoop fs -copyFromLocal /localdir/*.jfr /hdfsdir </code></pre>  <p>I have tried to run <em>hadoop</em> command directly this way but doesn't work: </p>  <pre><code>Runtime.getRuntime().exec(new String[]{"/usr/bin/hadoop", "fs -copyFromLocal /localdir/*.jfr /hdfsdir"});  Runtime.getRuntime().exec(new String[]{"hadoop", "fs -copyFromLocal /localdir/*.jfr /hdfsdir"}); </code></pre>  <p>I tried to run other <em>hadoop fs</em> commands like <em>-mkdir</em> or <em>-ls</em> but none of them seems to work. </p>