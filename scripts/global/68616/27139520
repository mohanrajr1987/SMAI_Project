<p>I have a problem with the following application, I have been doing the episode #211 Validations in Rails 3 of railsCasts, but when I try add the  class EmailFormatValidator a error is triggered</p>  <pre><code>NoMethodError in Users#index  Showing /home/fernando/Validations/store/app/views/users/index.html.erb where line #12 raised:  undefined method `each' for nil:NilClass Extracted source (around line #12):  9:     &lt;th&gt;&lt;/th&gt; 10:   &lt;/tr&gt; 11:  12: &lt;% @users.each do |user| %&gt; 13:   &lt;tr&gt; 14:     &lt;td&gt;&lt;%= user.name %&gt;&lt;/td&gt; 15:     &lt;td&gt;&lt;%= user.email %&gt;&lt;/td&gt; Rails.root: /home/fernando/Validations/store </code></pre>  <p>models/user.rb</p>  <pre><code>class User &lt; ActiveRecord::Base   validates :email, :presence =&gt; true, :uniqueness =&gt; true, :email_format =&gt; true end </code></pre>  <p>lib/email_format_validator.rb</p>  <pre><code>class EmailFormatValidator &lt; ActiveModel::EachValidator   def validate_each(object, attribute, value)     unless value =~ /^([^@\s]+)@((?:[-a-z0-9]+\.)+[a-z]{2,})$/i       object.errors[attribute] &lt;&lt; (options[:message] || "is not formatted properly")      end   end end </code></pre>  <p>/controller/user.rb</p>  <pre><code>class UsersController &lt; ApplicationController   # GET /users   # GET /users.json   def index     @users = User.all      respond_to do |format|       format.html # index.html.erb       format.json { render json: @users }     end   end    # GET /users/1   # GET /users/1.json   def show     @user = User.find(params[:id])      respond_to do |format|       format.html # show.html.erb       format.json { render json: @user }     end   end </code></pre>  <p># GET /users/new   # GET /users/new.json   def new     @user = User.new</p>  <pre><code>respond_to do |format|   format.html # new.html.erb   format.json { render json: @user } end </code></pre>  <p>end</p>  <p># GET /users/1/edit   def edit     @user = User.find(params[:id])   end</p>  <p># POST /users   # POST /users.json   def create     @user = User.new(params[:user])</p>  <pre><code>respond_to do |format|   if @user.save     format.html { redirect_to @user, notice: 'User was successfully created.' }     format.json { render json: @user, status: :created, location: @user }   else     format.html { render action: "new" }     format.json { render json: @user.errors, status: :unprocessable_entity }   end end </code></pre>  <p>end</p>  <p># PUT /users/1   # PUT /users/1.json   def update     @user = User.find(params[:id])</p>  <pre><code>respond_to do |format|   if @user.update_attributes(params[:user])     format.html { redirect_to @user, notice: 'User was successfully updated.' }     format.json { head :no_content }   else     format.html { render action: "edit" }     format.json { render json: @user.errors, status: :unprocessable_entity }   end end </code></pre>  <p>end</p>  <p># DELETE /users/1   # DELETE /users/1.json   def destroy     @user = User.find(params[:id])     @user.destroy</p>  <pre><code>respond_to do |format|   format.html { redirect_to users_url }   format.json { head :no_content } end </code></pre>  <p>end end</p>  <p>This error appears when I click one time     ArgumentError in UsersController#index</p>  <pre><code>Unknown validator: 'EmailFormatValidator' Rails.root: /home/fernando/Validations/store </code></pre>