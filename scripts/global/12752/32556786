<p>I'm trying to send some data from Firefox to java desktop application .so my java class work as a server and Firefox script work as a client .when i test it using another java class which is <code>client.java</code> data successfully sent to  <code>server.java</code> how ever when i use this firefox script to send data ,it actually connect to the server .but <code>send("text");</code> doesn't work realtime .i mean sever shows received data when i close the socket <code>socket.close();</code> . but i know there is no problem with <code>server.java</code> code.</p>  <p>this doesn't work</p>  <pre><code>setTimeout(function(){socket.send("i'm firefox");},5000); // because socket isn't closed yet </code></pre>  <p>this work </p>  <pre><code>setTimeout(function(){socket.send("i'm firefox");},5000); setTimeout(function(){socket.close();},6000);  </code></pre>  <p>but i really don't want to close the socket because i want to send lot of data one by one.</p>  <p>here is the complete code tested on scratchpad [-browser]</p>  <pre><code>var tcpSocket = Cc["@mozilla.org/tcp-socket;1"].createInstance(Ci.nsIDOMTCPSocket); var socket = tcpSocket.open("127.0.0.1", 5000);  setTimeout(function(){socket.send("i'm firefox");},5000); //setTimeout(function(){socket.close();},8000);// i'm firefox text retrieve by server when run this line / when close the socket. </code></pre>  <p>i think java code isn't important.but <a href="http://pastebin.com/pGmHBPPs" rel="nofollow">here</a> it is.</p>  <p>I'm asking why do i need to close the socket to send data ? and how can i send data without close the socket ?</p>  <p><hr> update</p>  <p><a href="http://i.stack.imgur.com/Tuou4.gif" rel="nofollow">i made a Gif</a> to show my problem here you can see data not sending real time but when socket is closed all the data flushed .</p>  <p><a href="http://i.stack.imgur.com/Tuou4.gif" rel="nofollow"><img src="http://i.stack.imgur.com/Tuou4.gif" alt="enter image description here"></a></p>