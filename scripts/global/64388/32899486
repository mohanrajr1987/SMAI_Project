<p>Like <a href="http://stackoverflow.com/questions/32489706/need-explanation-on-elasticsearch-filters-aggregation">this</a> post, I can't get filters agg to work:</p>  <pre><code>GET files/_search {   "query": {     "match": {       "words": "sugar"     }   },   "aggs": {     "xxx": {       "filters": {         "filter_list": {           "errors": {             "term": {               "abstract": "error"             }           },           "warnings": {             "term": {               "abstract": "warning"             }           }         }       },       "aggs": {         "st": {           "significant_terms": {             "field": "abstract"           }         }       }     }   } } </code></pre>  <blockquote>   <p>SearchParseException[[files][3]: query[words:sugar],from[-1],size[-1]:   Parse Failure [Unknown key for a START_OBJECT in [xxx]:   [filter_list].]]; }{[tIS8uY8nTDil6kWtgsbkQg][files][4]:   SearchParseException[[files][4]: query[words:sugar],from[-1],size[-1]:   Parse Failure [Failed to parse source [{\n  \"query\": {\n<br>   \"match\": {\n      \"words\": \"sugar\"\n    }\n  },\n  \"aggs\": {\n   \"xxx\": {\n      \"filters\": {\n        \"filter_list\": {\n<br>   \"errors\": {\n            \"term\": {\n              \"abstract\":   \"error\"\n            }\n          },\n          \"warnings\": {\n<br>   \"term\": {\n              \"abstract\": \"warning\"\n            }\n    }\n        }\n      },\n      \"aggs\": {\n        \"st\": {\n<br>   \"significant_terms\": {\n            \"field\": \"abstract\"\n<br>   }\n        }\n      }\n    }\n  }\n}\n]]]; nested:   SearchParseException[[epars][4]: query[words:sugar],from[-1],size[-1]:   Parse Failure [Unknown key for a START_OBJECT in [xxx]:   [filter_list].]]; }]",    "status": 400 }</p> </blockquote>