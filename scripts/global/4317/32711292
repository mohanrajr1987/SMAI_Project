<p>I've created a <a href="https://github.com/Frederick888/php-bencode" rel="nofollow">PHP extension</a> to encode/decode <a href="https://en.wikipedia.org/wiki/Bencode" rel="nofollow">Bencode</a>.</p>  <p>There's a function called <code>numtos</code> in the <code>BItem</code> class, which is the base class of the other four, to convert numbers to strings.</p>  <pre><code>template&lt;typename T&gt; std::string numtos(const T &amp;value) const {     std::string retval;     std::stringstream sstream;     sstream &lt;&lt; value;     sstream &gt;&gt; retval;     return retval; } </code></pre>  <p>The weird thing is that I can normally compile the code either I put the implement of the function in the header or in the source. However, if I put it in the source file, it will cause an <code>undefined symbol</code> error.</p>  <pre><code>frederick@Frederick-PC:~$ php -a PHP Warning:  PHP Startup: Unable to load dynamic library '/usr/lib64/php/modules/bencode.so' - /usr/lib64/php/modules/bencode.so: undefined symbol: _ZNK5BItem6numtosImEESsRKT_ in Unknown on line 0 </code></pre>  <p>So I had to put the whole function into the header file (<a href="https://github.com/Frederick888/php-bencode/commit/bfec9d6c8685a9c3c41ed2fb8ef232704015498e" rel="nofollow">commit here</a>).</p>  <p>What's the reason of the problem? Please help, thanks.</p>