<p>My question is as simple as this: is it should be used in a controller or in a model?</p>  <p>I saw many people doing these kinds of tasks in a controller, but is it actually good, because since you doing this in a controller you either loose advantages of build-in tools of your DBMS or have a reference to a database driver in the controller?</p>  <p>But from another point of view, as far as I know, the pattern propose to do it in a controller, or am I wrong?</p>  <p>So which is it?</p>