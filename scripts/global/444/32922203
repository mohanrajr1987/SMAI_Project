<p><strong>What I am trying to accomplish:</strong> I am trying to show a correspondence messages between users.</p>  <p><strong>What I have so far:</strong> </p>  <p><strong>Controller:</strong></p>  <pre><code>public function view() {       $thread_id = $this-&gt;uri-&gt;segment(4);           $this-&gt;data['reply'] =  $this-&gt;enquire_m-&gt;get_messages($thread_id); } </code></pre>  <p><strong>Model:</strong></p>  <pre><code> public function get_messages($thread_id='')      {         $this-&gt;load-&gt;model('user_m');         $this-&gt;db-&gt;trans_start();          $query_str = $this-&gt;db-&gt;query('SELECT *                                 FROM message_replies                                 WHERE message_replies.thread_id = $thread_id');         $result = $this-&gt;db-&gt;query($query_str);          return $result;          $this-&gt;db-&gt;trans_complete();       } </code></pre>  <p><strong>View:</strong> </p>  <pre><code>  &lt;ul&gt;             &lt;?php               $received_message = $this-&gt;enquire_m-&gt;get_messages();              foreach ($received_message-&gt;result() as $reply)              {                '&lt;li&gt;              &lt;div class="message-bubble"&gt;              &lt;span class="bubble-user"&gt;'.$reply-&gt;name_surname.'&lt;/span&gt;               &lt;div class="bubble_left palette palette-clouds" data-domelement="" style="display: block;"&gt;               '.$reply-&gt;message.'               &lt;div class="bubble_arrow"&gt;&lt;/div&gt;                                &lt;/div&gt;               &lt;span class="bubble-date"&gt;'.$reply-&gt;date;             }                ?&gt;              &lt;/ul&gt; </code></pre>  <p><strong>DB:</strong></p>  <pre><code>    thread_id           int(11) NOT NULL, id                  int(11) NOT NULL AUTO_INCREMENT, sender_id          int(11) NOT NULL, recepient_id       int(11) NOT NULL, name_surname       varchar(45) COLLATE utf8_unicode_ci DEFAULT NULL, date               datetime DEFAULT NULL, message            text COLLATE utf8_unicode_ci, readed             binary(1) DEFAULT '0', </code></pre>  <p><strong>URL</strong></p>  <pre><code>index.php/admin/enquire/view/19 </code></pre>  <p><strong>The problem:</strong> Nothing is displayed. I get an error on the View it gives me fatal error in</p>  <pre><code>foreach ($received_message-&gt;result() as $reply) </code></pre>  <p>Unfortunately, I cannot see what's wrong and I hope somebody can give me a solution.</p>  <p>Thank you for your time!</p>