<p>I'm trying to execute a PHP file in background on a Linux server with a cool script found on a blog : </p>  <pre><code>NAME=servicename DESC="Daemon for my magnificent PHP CLI script"  DAEMON="/usr/bin/php" DAEMON_OPTS="/var/www/html/phpscript.php"  test -x $DAEMON || exit 0  set -e  case "$1" in     start)         echo -n "Starting ${DESC}: "         nohup php $DAEMON_OPTS &amp;         ;;     stop)         ps faux | grep php         echo -n "Can't Stop process, use kill -9 pid"         ;;     *)         N=/etc/init.d/$NAME         echo "Usage: $N {start|stop}" &gt;&amp;2         exit 1         ;; esac  exit 0 </code></pre>  <p>I created the shell script into /etc/init.d/</p>  <p>execute</p>  <pre><code>chmod +x phpscript.php </code></pre>  <p>... and</p>  <pre><code>update-rc.d servicename defaults </code></pre>  <p>commands, but after starting the script by </p>  <pre><code>/etc/init.d/servicename start </code></pre>  <p>..., the service stops after a while. I don't know why.</p>  <p>Here, the phpscript :</p>  <pre><code>[...] function start(){             while (1) {                     [...]                     if (mysqli_num_rows($result) &gt; 0) {                             $this-&gt;checkAPNS();                             if ($this-&gt;fp) {                                     while ($data = mysqli_fetch_array($result)) {                                             $token = $data[0];                                             $payload = $data[1];                                             $sendPush = sendPush($this-&gt;fp, $token, $payload);                                             if (!$sendPush) {                                                     $retry = 0;                                                     while (1) {                                                             if ($this-&gt;reconnectToAPNS()) {                                                                     return;                                                             }                                                             if ($retry++ &gt; 3) {                                                                     file_put_contents("push.log", "Error at ".msTimeStamp()."\n", FILE_APPEND | LOCK_EX);                                                                     sleep(10);                                                                     return;                                                             }                                                     }                                             }                                             [...]                                     }                             }                      usleep(500000);                     }             }     } [...] </code></pre>  <p>How can i keep this process running ?</p>