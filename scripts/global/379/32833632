<p>Does calling <a href="http://www.cplusplus.com/reference/fstream/ifstream/close/" rel="nofollow"><code>ifstream::close</code></a> reset the stream's <code>failbit</code> and/or <code>badbit</code>, similar to calling <a href="http://www.cplusplus.com/reference/ios/ios/clear/" rel="nofollow"><code>clear</code></a>? This is not a duplicate of <a href="http://stackoverflow.com/questions/11085151/c-ifstream-failbit-and-badbit">this question</a>- I need to know whether the flags are <em>reset</em>, not just when they're <em>set</em>.</p>  <p>For example, I'm using something like the following <code>if-else</code> in my current project:</p>  <pre><code>ifstream myInputStream("foo.txt");  //Let's pretend this compiles all the time, even though it //might not because the operator is ambiguous. myInputStream &lt;&lt; "Outputting to an input stream causes problems."  if (myInputStream.fail()) {    cout &lt;&lt; "Aw, nuts. It failed." &lt;&lt; endl;    myInputStream.close();    return false; } else {    cout &lt;&lt; "No nuts here. Only chocolate chips." &lt;&lt; endl;    myInputStream.close();    return true; } </code></pre>  <p>Do I have to have the call to <code>myInputStream.close</code> after the call to <code>myInputStream.fail</code>, in each branch, to get an accurate check? Or will this work:</p>  <pre><code>ifstream myInputStream("foo.txt");  myInputStream &lt;&lt; "Outputting to an input stream causes problems.";      myInputStream.close();  if (myInputStream.fail()) {    cout &lt;&lt; "Aw, nuts. It failed." &lt;&lt; endl;    return false; } else {    cout &lt;&lt; "No nuts here. Only chocolate chips." &lt;&lt; endl;    return true; } </code></pre>  <p>I know that <a href="http://www.cplusplus.com/reference/fstream/ifstream/close/" rel="nofollow"><code>ifstream::close</code></a> can itself <strong>set</strong> <code>failbit</code> or <code>badbit</code> if closing fails, which is one reason I want to call it before checking for failure- I need to return false regardless of what caused it. It also looks less cluttered if the closure is only done once.</p>  <h2><strong>tl;dr;</strong></h2>  <p>Does <a href="http://www.cplusplus.com/reference/fstream/ifstream/close/" rel="nofollow"><code>ifstream::close</code></a> <strong>reset</strong> <code>failbit</code> or <code>badbit</code> if something else has already set it, making my second code sample return true?</p>