<p>I have created a custom login page but when the captcha is empty and the long is processed I am trying to get the error message <code>$error_message</code> to be passed onto it to <code>$error_msg</code>.</p>  <p>I am working with two wp plugins, one a no captcha recaptcha plugin and the other a client template portal.</p>  <p>The following is full code of the custom-login.php</p>  <pre><code>&lt;?php  class Ncr_Custom_Login_Captcha extends Ncr_No_Captcha_Recaptcha {      public static function initialize() {          // initialize if login is activated         if ( isset(self::$plugin_options['captcha_login']) &amp;&amp; self::$plugin_options['captcha_login'] == 'yes') {             // add captcha header script to WordPress header             add_action( 'wp_head', array( __CLASS__, 'header_script' ) );              // adds the captcha to the custom login form             add_action( 'custom_captcha_login', array( __CLASS__, 'display_captcha' ) );              // authenticate the captcha answer             add_action( 'custom_authenticate_user', array( __CLASS__, 'validate_captcha_custom_login' ), 10, 2 );         }     }      /**      * Verify the captcha answer      *      * @param $user string login username      * @param $password string login password      *      * @return WP_Error|WP_user      */      public static function validate_captcha_custom_login( $user, $password ) {         if ( ! isset( $_POST['g-recaptcha-response'] ) || ! self::captcha_verification() ) {}         $error_msg .= 'I want to show this message';         return false;     }  } </code></pre>  <p>I have also tried the following</p>  <pre><code>    public static function validate_captcha_custom_login( $user, $password ) {         if ( ! isset( $_POST['g-recaptcha-response'] ) || ! self::captcha_verification() ) {}          $error_msg .= 'I want to show this message';         return false;     } </code></pre>  <p>The following is the login form template page the other plugin uses</p>  <pre><code>{if $action == 'login'}     {if !empty($msg_ve)}         &lt;p class="message"&gt;{$msg_ve}&lt;/p&gt;     {/if}     &lt;form method="post" action="{if !empty($login_url)}{$login_url}{/if}" id="loginform" name="loginform"&gt;         {if !empty($somefields)}{$somefields}{/if}         {if !empty($error_msg)}             &lt;p class="message wpc_error"&gt;{$error_msg}&lt;/p&gt;         {/if}         {if !empty($custom_login_error_msg)}             &lt;p class="message wpc_error"&gt;{$custom_login_error_msg}&lt;/p&gt;         {/if}         &lt;p&gt;             &lt;label for="user_login"&gt;{if !empty($labels.username)}{$labels.username}{/if}&lt;br&gt;             &lt;input type="text" tabindex="10" size="20" value="" class="input" id="user_login" name="log"&gt;&lt;/label&gt;         &lt;/p&gt;         &lt;p&gt;             &lt;label for="user_pass"&gt;{if !empty($labels.password)}{$labels.password}{/if}&lt;br&gt;             &lt;input type="password" tabindex="20" size="20" value="" class="input" id="user_pass" name="pwd"&gt;&lt;/label&gt;         &lt;/p&gt;         {do_action( 'custom_captcha_login' )}         &lt;p class="forgetmenot"&gt;&lt;label for="rememberme"&gt;&lt;input type="checkbox" tabindex="90" value="forever" id="rememberme" name="rememberme"&gt; {if !empty($labels.remember)}{$labels.remember}{/if}&lt;/label&gt;&lt;/p&gt;         &lt;p class="submit"&gt;             &lt;label&gt;                 &lt;input type="submit" tabindex="100" value="Log In" class="button-primary" id="wp-submit" name="wp-submit"&gt;                 &lt;input type="hidden" value="" name="redirect_to"&gt;             &lt;/label&gt;         &lt;/p&gt;          {if isset($lostpassword_href) &amp;&amp; !empty($lostpassword_href)}         &lt;p id="nav"&gt;             &lt;label&gt;                 &lt;a title="Password Lost and Found" href="{$lostpassword_href}"&gt;Lost your password?&lt;/a&gt;             &lt;/label&gt;         &lt;/p&gt;         {/if}     &lt;/form&gt; {elseif $action == 'lostpassword' &amp;&amp; isset($lostpassword_href) &amp;&amp; !empty($lostpassword_href) }     &lt;form method="post" action="{if !empty($login_url)}{$login_url}{/if}" id="loginform" name="loginform"&gt;         {if !empty($error_msg)}             &lt;p class="message wpc_error"&gt;{$error_msg}&lt;/p&gt;         {/if}         &lt;p&gt;             &lt;label for="user_login"&gt;{if !empty($labels.email)}{$labels.email}{/if}&lt;br&gt;             &lt;input type="text" tabindex="10" size="35" value="" class="input" id="user_login" name="user_login"&gt;&lt;/label&gt;         &lt;/p&gt;         &lt;p class="submit"&gt;             &lt;label&gt;                 &lt;input type="submit" tabindex="100" value="{if !empty($labels.get_new_password)}{$labels.get_new_password}{/if}" class="button button-primary button-large" id="wp-submit" name="wp-submit"&gt;             &lt;/label&gt;         &lt;/p&gt;         &lt;p id="nav"&gt;             &lt;label&gt;                 &lt;a title="Back to Login Page" href="{$login_href}"&gt;Remember your password?&lt;/a&gt;             &lt;/label&gt;         &lt;/p&gt;     &lt;/form&gt; {elseif ( $action == 'rp' || $action == 'resetpass' ) &amp;&amp; !empty($lostpassword_href) }     &lt;form method="post" action="{if !empty($login_url)}{$login_url}{/if}" id="loginform" name="loginform"&gt;         {if !empty($error_msg)}             &lt;p class="message wpc_error"&gt;{$error_msg}&lt;/p&gt;         {/if}         {if !in_array($error_msg, $check_invalid)}             &lt;input type="hidden" id="user_login" value="{if !empty($user_login)}{$user_login}{/if}" autocomplete="off" /&gt;             &lt;p&gt;                 &lt;label for="pass1"&gt;{if !empty($labels.new_password)}{$labels.new_password}{/if}&lt;br /&gt;                 &lt;input type="password" name="pass1" id="pass1" class="input" size="35" value="" autocomplete="off" /&gt;&lt;/label&gt;             &lt;/p&gt;             &lt;p&gt;                 &lt;label for="pass2"&gt;{if !empty($labels.confirm_new_password)}{$labels.confirm_new_password}{/if}&lt;br /&gt;                 &lt;input type="password" name="pass2" id="pass2" class="input" size="35" value="" autocomplete="off" /&gt;&lt;/label&gt;             &lt;/p&gt;              &lt;div id="pass-strength-result"&gt;{if !empty($labels.strength_indicator)}{$labels.strength_indicator}{/if}&lt;/div&gt;             &lt;p class="description indicator-hint"&gt;{if !empty($labels.hint_indicator)}{$labels.hint_indicator}{/if}&lt;/p&gt;             &lt;br class="clear" /&gt;             &lt;p class="submit"&gt;&lt;label&gt;&lt;input type="submit" name="wp-submit" id="wp-submit" class="button button-primary button-large" value="{if !empty($labels.reset_password)}{$labels.reset_password}{/if}" /&gt;&lt;/label&gt;             &lt;/p&gt;         &lt;/form&gt;     {/if} {/if} </code></pre>