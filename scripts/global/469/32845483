<p>I'm having trouble getting the checkbox function to work properly. When a child filter item is selected (i.e. classic-panel-doors), it should uncheck the filter parent (door-style-all). I've attached the HTML &amp; JS. A 'working' example on CodePen is below.</p>  <p><strong>HTML</strong></p>  <pre><code>&lt;div class="container"&gt;   &lt;div class="row"&gt;      &lt;div class="col-xs-12 col-md-4"&gt;        &lt;h1&gt;Categories&lt;/h1&gt;        &lt;div id="options"&gt;          &lt;div class="option-set" data-group="door-style"&gt;           &lt;div class="checkbox"&gt;             &lt;label for="door-style-all"&gt;&lt;input type="checkbox" value="" id="door-style-all" class="all" checked /&gt;door-style-all&lt;/label&gt;           &lt;/div&gt;           &lt;div class="checkbox"&gt;             &lt;label for="classic-panel-doors"&gt;&lt;input type="checkbox" value=".classic-panel-doors" id="classic-panel-doors" /&gt;classic-panel-doors&lt;/label&gt;           &lt;/div&gt;           &lt;div class="checkbox"&gt;             &lt;label for="carriage-panel"&gt;&lt;input type="checkbox" value=".carriage-panel" id="carriage-panel" /&gt;carriage-panel&lt;/label&gt;           &lt;/div&gt;           &lt;div class="checkbox"&gt;             &lt;label for="overlay-carriage-house"&gt;&lt;input type="checkbox" value=".overlay-carriage-house" id="overlay-carriage-house" /&gt;overlay-carriage-house&lt;/label&gt;           &lt;/div&gt;           &lt;div class="checkbox"&gt;             &lt;label for="faux-wood-overlay"&gt;&lt;input type="checkbox" value=".faux-wood-overlay" id="faux-wood-overlay" /&gt;faux-wood-overlay&lt;/label&gt;           &lt;/div&gt;           &lt;div class="checkbox"&gt;             &lt;label for="wood-doors"&gt;&lt;input type="checkbox" value=".wood-doors" id="wood-doors" /&gt;wood-doors&lt;/label&gt;           &lt;/div&gt;           &lt;div class="checkbox"&gt;             &lt;label for="full-view-aluminum"&gt;&lt;input type="checkbox" value=".full-view-aluminum" id="full-view-aluminum" /&gt;full-view-aluminum&lt;/label&gt;           &lt;/div&gt;         &lt;/div&gt;          &lt;div class="option-set" data-group="material"&gt;           &lt;div class="checkbox"&gt;             &lt;label for="material-all"&gt;&lt;input type="checkbox" value="" id="material-all" class="all" checked /&gt;material-all&lt;/label&gt;           &lt;/div&gt;           &lt;div class="checkbox"&gt;             &lt;label for="aluminum"&gt;&lt;input type="checkbox" value=".aluminum" id="aluminum" /&gt;aluminum&lt;/label&gt;           &lt;/div&gt;           &lt;div class="checkbox"&gt;             &lt;label for="fiberglass"&gt;&lt;input type="checkbox" value=".fiberglass" id="fiberglass" /&gt;fiberglass&lt;/label&gt;           &lt;/div&gt;           &lt;div class="checkbox"&gt;             &lt;label for="steel"&gt;&lt;input type="checkbox" value=".steel" id="steel" /&gt;steel&lt;/label&gt;           &lt;/div&gt;           &lt;div class="checkbox"&gt;             &lt;label for="wood"&gt;&lt;input type="checkbox" value=".wood" id="wood" /&gt;wood&lt;/label&gt;           &lt;/div&gt;         &lt;/div&gt;          &lt;div class="option-set" data-group="insulation-type"&gt;           &lt;div class="checkbox"&gt;             &lt;label for="insulation-type-all"&gt;&lt;input type="checkbox" value="" id="insulation-type-all" class="all" checked /&gt;insulation-type-all&lt;/label&gt;           &lt;/div&gt;           &lt;div class="checkbox"&gt;             &lt;label for="non-insulated"&gt;&lt;input type="checkbox" value=".non-insulated" id="non-insulated" /&gt;non-insulated&lt;/label&gt;           &lt;/div&gt;           &lt;div class="checkbox"&gt;             &lt;label for="polystyrene"&gt;&lt;input type="checkbox" value=".polystyrene" id="polystyrene" /&gt;polystyrene&lt;/label&gt;           &lt;/div&gt;           &lt;div class="checkbox"&gt;             &lt;label for="polyurethane"&gt;&lt;input type="checkbox" value=".polyurethane" id="polyurethane" /&gt;polyurethane&lt;/label&gt;           &lt;/div&gt;         &lt;/div&gt;          &lt;div class="option-set" data-group="colors"&gt;           &lt;div class="checkbox"&gt;             &lt;label for="colors-all"&gt;&lt;input type="checkbox" value="" id="colors-all" class="all" checked /&gt;colors-all&lt;/label&gt;           &lt;/div&gt;           &lt;div class="checkbox"&gt;             &lt;label for="almond"&gt;&lt;input type="checkbox" value=".almond" id="almond" /&gt;almond&lt;/label&gt;           &lt;/div&gt;           &lt;div class="checkbox"&gt;             &lt;label for="bronze"&gt;&lt;input type="checkbox" value=".bronze" id="bronze" /&gt;bronze&lt;/label&gt;           &lt;/div&gt;           &lt;div class="checkbox"&gt;             &lt;label for="brown"&gt;&lt;input type="checkbox" value=".brown" id="brown" /&gt;brown&lt;/label&gt;           &lt;/div&gt;           &lt;div class="checkbox"&gt;             &lt;label for="cedar-unfinished"&gt;&lt;input type="checkbox" value=".cedar-unfinished" id="cedar-unfinished" /&gt;cedar-unfinished&lt;/label&gt;           &lt;/div&gt;           &lt;div class="checkbox"&gt;             &lt;label for="desert-tan"&gt;&lt;input type="checkbox" value=".desert-tan" id="desert-tan" /&gt;desert-tan&lt;/label&gt;           &lt;/div&gt;           &lt;div class="checkbox"&gt;             &lt;label for="evergreen"&gt;&lt;input type="checkbox" value=".evergreen" id="evergreen" /&gt;evergreen&lt;/label&gt;           &lt;/div&gt;           &lt;div class="checkbox"&gt;             &lt;label for="gray"&gt;&lt;input type="checkbox" value=".gray" id="gray" /&gt;gray&lt;/label&gt;           &lt;/div&gt;           &lt;div class="checkbox"&gt;             &lt;label for="mahogany-unfinished"&gt;&lt;input type="checkbox" value=".mahogany-unfinished" id="mahogany-unfinished" /&gt;mahogany-unfinished&lt;/label&gt;           &lt;/div&gt;           &lt;div class="checkbox"&gt;             &lt;label for="oak"&gt;&lt;input type="checkbox" value=".oak" id="oak" /&gt;oak&lt;/label&gt;           &lt;/div&gt;           &lt;div class="checkbox"&gt;             &lt;label for="walnut"&gt;&lt;input type="checkbox" value=".walnut" id="walnut" /&gt;walnut&lt;/label&gt;           &lt;/div&gt;           &lt;div class="checkbox"&gt;             &lt;label for="white"&gt;&lt;input type="checkbox" value=".white" id="white" /&gt;white&lt;/label&gt;           &lt;/div&gt;           &lt;div class="checkbox"&gt;             &lt;label for="woodtone-mahogany"&gt;&lt;input type="checkbox" value=".woodtone-mahogany" id="woodtone-mahogany" /&gt;woodtone-mahogany&lt;/label&gt;           &lt;/div&gt;           &lt;div class="checkbox"&gt;             &lt;label for="woodtone-oak"&gt;&lt;input type="checkbox" value=".woodtone-oak" id="woodtone-oak" /&gt;woodtone-oak&lt;/label&gt;           &lt;/div&gt;           &lt;div class="checkbox"&gt;             &lt;label for="woodtone-walnut"&gt;&lt;input type="checkbox" value=".woodtone-walnut" id="woodtone-walnut" /&gt;woodtone-walnut&lt;/label&gt;           &lt;/div&gt;         &lt;/div&gt;        &lt;/div&gt;      &lt;/div&gt;      &lt;div class="col-xs-12 col-md-8"&gt;        &lt;div id="container" class="isotope"&gt;          &lt;div class="grid-sizer"&gt;&lt;/div&gt;          &lt;div class="grid-item classic-panel-doors wood non-insulated isotope-item"&gt;           &lt;p&gt;classic-panel-doors&lt;/p&gt;           &lt;p&gt;wood&lt;/p&gt;           &lt;p&gt;non-insulated&lt;/p&gt;         &lt;/div&gt;          &lt;div class="grid-item carriage-panel fiberglass polystyrene isotope-item"&gt;           &lt;p&gt;carriage-panel&lt;/p&gt;           &lt;p&gt;fiberglass&lt;/p&gt;           &lt;p&gt;polystyrene&lt;/p&gt;         &lt;/div&gt;          &lt;div class="grid-item overlay-carriage-house steel polystyrene isotope-item"&gt;           &lt;p&gt;overlay-carriage-house&lt;/p&gt;           &lt;p&gt;steel&lt;/p&gt;           &lt;p&gt;polystyrene&lt;/p&gt;         &lt;/div&gt;          &lt;div class="grid-item faux-wood-overlay fiberglass non-insulated isotope-item"&gt;           &lt;p&gt;faux-wood-overlay&lt;/p&gt;           &lt;p&gt;fiberglass&lt;/p&gt;           &lt;p&gt;non-insulated&lt;/p&gt;         &lt;/div&gt;          &lt;div class="grid-item wood-doors wood non-insulated isotope-item"&gt;           &lt;p&gt;wood-doors&lt;/p&gt;           &lt;p&gt;wood&lt;/p&gt;           &lt;p&gt;non-insulated&lt;/p&gt;         &lt;/div&gt;          &lt;div class="grid-item full-view-aluminum aluminum polyurethane isotope-item"&gt;           &lt;p&gt;full-view-aluminum&lt;/p&gt;           &lt;p&gt;aluminum&lt;/p&gt;           &lt;p&gt;polyurethane&lt;/p&gt;         &lt;/div&gt;        &lt;/div&gt;      &lt;/div&gt;    &lt;/div&gt; &lt;/div&gt; </code></pre>  <p><strong>JS</strong></p>  <pre><code>var $container; var filters = {};  $(function(){    $container = $('#container');    $container.isotope();   // do stuff when checkbox change   $('#options').on( 'change', function( jQEvent ) {     var $checkbox = $( jQEvent.target );     manageCheckbox( $checkbox );      var comboFilter = getComboFilter( filters );      $container.isotope({        filter: comboFilter,       transitionDuration: '.5s',       itemSelector: '.grid-item',       percentPosition: true,       masonry: {         // use element for option         columnWidth: '.grid-sizer'       }     });    });  });  function getComboFilter( filters ) {   var i = 0;   var comboFilters = [];   var message = [];    for ( var prop in filters ) {     message.push( filters[ prop ].join(' ') );     var filterGroup = filters[ prop ];     // skip to next filter group if it doesn't have any values     if ( !filterGroup.length ) {       continue;     }     if ( i === 0 ) {       // copy to new array       comboFilters = filterGroup.slice(0);     } else {       var filterSelectors = [];       // copy to fresh array       var groupCombo = comboFilters.slice(0); // [ A, B ]       // merge filter Groups       for (var k=0, len3 = filterGroup.length; k &lt; len3; k++) {         for (var j=0, len2 = groupCombo.length; j &lt; len2; j++) {           filterSelectors.push( groupCombo[j] + filterGroup[k] ); // [ 1, 2 ]         }        }       // apply filter selectors to combo filters for next group       comboFilters = filterSelectors;     }     i++;   }    var comboFilter = comboFilters.join(', ');   return comboFilter; }  function manageCheckbox( $checkbox ) {   var checkbox = $checkbox[0];    var group = $checkbox.parents('.option-set').attr('data-group');   // create array for filter group, if not there yet   var filterGroup = filters[ group ];   if ( !filterGroup ) {     filterGroup = filters[ group ] = [];   }    var isAll = $checkbox.hasClass('all');   // reset filter group if the all box was checked   if ( isAll ) {     delete filters[ group ];     if ( !checkbox.checked ) {       checkbox.checked = 'checked';     }   }   // index of   var index = $.inArray( checkbox.value, filterGroup );    if ( checkbox.checked ) {     var selector = isAll ? 'input' : 'input.all';     $checkbox.siblings( selector ).removeAttr('checked');       if ( !isAll &amp;&amp; index === -1 ) {       // add filter to group       filters[ group ].push( checkbox.value );     }    } else if ( !isAll ) {     // remove filter from group     filters[ group ].splice( index, 1 );     // if unchecked the last box, check the all     if ( !$checkbox.siblings('[checked]').length ) {       $checkbox.siblings('input.all').attr('checked', 'checked');     }   }  } </code></pre>  <p>Here is a link to the pen - <a href="http://codepen.io/tone4407/pen/ZbLYxp" rel="nofollow">http://codepen.io/tone4407/pen/ZbLYxp</a></p>  <p>And here is an example of how it SHOULD work - <a href="http://codepen.io/desandro/pen/btFfG" rel="nofollow">http://codepen.io/desandro/pen/btFfG</a></p>