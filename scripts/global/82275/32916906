<p>We are doing some testing with webdriver.io, and phantom.js. The following works fine, gives me a list of elements:</p>  <pre><code>return client     .url(config.host)     .waitForVisible('#myvenuelist', 2000)     .click('#myvenuelist')     .elements('li.venue')     .then(function(venues)     {         // Make sure there is at least one device         // Could do a scan in the before and check the size         venues.value.length.should.be.at.least(venueList.length);         done();     }); </code></pre>  <p>But I go on to my next test, which does much the same thing:</p>  <pre><code>return client     .url(config.host)     .waitForVisible('#myvenuelist', 2000)     .click('#myvenuelist')     .waitForVisible("li.venue[data-id=" + allVenues[0].venue_id + "]", 5000)     .click("li.venue[data-id=" + allVenues[0].venue_id + "] a[class='btn primary']")     .waitForVisible('a[class="tab beacons"]', 2000)     .click('a[class="tab beacons"]')     .waitForVisible('a[class="tab beacons active"]', 2000)     .elements("a[class='add-monitor btn primary']")     .then(function(deviceList)     {         deviceList.value.length.should.be.at.least(1);         done();     }); </code></pre>  <p>I get the deviceList object. If I inspect it, the value member is an array, as expected. But the second I try to access that array, even if just assigning it to another variable, I get the following error:</p>  <pre><code>CommandError: Promise was fulfilled but got rejected with the following reason: Error: SyntaxError: DOM Exception 12  </code></pre>  <p>This is driving me crazy. There are reports of the DOM Exception 12 error around, but they don't seem to apply to what I'm doing, and many of them refer to old versions of Phantom.js. We are on 1.9.8.</p>