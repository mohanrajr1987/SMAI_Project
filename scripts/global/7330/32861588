<p>I'm trying to get a list of flights from a search form. User picks a city, a number of passengers, and my query returns all available flights.</p>  <p>I tried this one :</p>  <pre><code>public function findSearch($city, $nbpax) {     $qb = $this-&gt;createQueryBuilder('a');      $qb-&gt;where('a.precisedate &gt;= :now')         -&gt;setParameter('now', new \DateTime())         -&gt;andWhere('a.available &gt; :min')         -&gt;setParameter('min', $nbpax)         -&gt;andWhere('a.departure &gt; :min')         -&gt;setParameter('min', $nbpax)         -&gt;andWhere('a.departure.city = :city')         -&gt;setParameter('city', $city)         -&gt;orderBy('a.precisedate', 'ASC')     ;      return $qb         -&gt;getQuery()         -&gt;getResult()         ; } </code></pre>  <p>But it seems like the a.departure.city is not recognised as a valid comparison (departure is an airport, linked to a city with a OneToMany relationship)</p>  <p>How can I change my query so that I can access the airport city ?</p>