<p>I had the following controller:</p>  <pre><code>&lt;?php  namespace AppBundle\Controller;  use AppBundle\Controller\BaseController; use Symfony\Component\HttpFoundation\Request;  class UserController extends BaseController  {     public function allAction(Request $request)     {         $users = $this-&gt;getDoctrine()                       -&gt;getRepository('AppBundle:User')                       -&gt;findAll();          return $this-&gt;respond(['users' =&gt; $users], 200);     }  } </code></pre>  <p>And I would like to inject the repository into the controller (for testing purposes)</p>  <p><strong>Controller:</strong></p>  <pre><code>&lt;?php  namespace AppBundle\Controller;  use AppBundle\Controller\BaseController; use Doctrine\ORM\EntityRepository; use Symfony\Component\HttpFoundation\Request;  class UserController extends BaseController  {     private $userrepository;      public function __construct(EntityRepository $userrepository)     {         $this-&gt;userrepository = $userrepository;     }      public function allAction(Request $request)     {         $users = $this-&gt;userrepository-&gt;findAll();         return $this-&gt;respond(['users' =&gt; $users], 200);     }  } </code></pre>  <p><strong>services.yml</strong></p>  <pre><code>services:      userrepository:         class: Doctrine\ORM\EntityRepository         factory_service: doctrine.orm.entity_manager         factory_method: getRepository         arguments:             - AppBundle\Entity\User      usercontroller:         class: AppBundle\Controller\UserController         arguments:             - "@userrepository" </code></pre>  <p><strong>routing.yml</strong></p>  <pre><code>api_users_all:     path: /api/users.{_format}     defaults: { _controller: usercontroller:allAction, _format: json }     requirements:         _method: GET </code></pre>  <p>I keep facing the following error:</p>  <p><strong>PHP Fatal error:  Call to a member function get() on a non-object in /Applications/MAMP/htdocs/api/vendor/symfony/symfony/src/Symfony/Bundle/FrameworkBundle/Controller/Controller.php on line 350</strong></p>  <p><strong>line 350</strong></p>  <pre><code>return $this-&gt;container-&gt;get($id); </code></pre>  <p>So my guess is that the controller is no longer 'ContainerAware' or something like that.</p>  <p>But I can't seem to figure this out.</p>  <p>I am working with symfony 2.7</p>