<p>I have deployed this code on localhost and is working fine but when I deploy it in Heroku it gives an error. I am using Python 2.7.</p>  <pre><code>from psycopg2._psycopg import IntegrityError import os from flask.ext.sqlalchemy import SQLAlchemy  app.config['SQLALCHEMY_DATABASE_URI'] = os.environ['DATABASE_URL']   db = SQLAlchemy(app) </code></pre>  <p>The code likes this:</p>  <pre><code>try:                 article_a = Article(title=save_title,   full_story=save_full_story, image=save_image, category=save_category,                 description=save_description, pubdate=save_date)                 #print "Hello"                 db.session.add(article_a)                 db.session.commit()                 print article_a.id              except IntegrityError as ie:                 print ie                 print"\nCaught"                 db.session.rollback() </code></pre>  <p>This is the error I keep on getting in Heroku logs:    </p>  <pre><code>app[web.1]: This Session's transaction has been rolled back due to a     previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback().  Original exception was: (psycopg2.IntegrityError) duplicate key value  violates unique constraint "articles_ title_key" </code></pre>  <p>The word inside the except block ("Caught") isn't even printed and my database isn't filling up data. Can anyone suggest me any method so as to deploy it on Heroku POSTGRE database successfully.</p>