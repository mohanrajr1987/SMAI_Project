<p>I am building a statistical view for a client's booking system. They'd like to see which activities were booked in specific months.</p>  <p>I'm using Google Charts for this but the data doesn't match the labels being produced - i.e. the correct data is being attached to the wrong activity.</p>  <p>I've verified via the database and print_r's that the product IDs are being pulled from the database successfully and attached to the correct activity ID number, and that the number and order of labels matches the number and order of activities, which they are:</p>  <pre><code> $sql = "SELECT ProductID, ProductName FROM products ORDER BY ProductID ASC";  $set = $link-&gt;query($sql);  while($row = $set-&gt;fetch_row())  {   $arrLabels[$row[0]] = "#".$row[0].": ".$row[1];  }  ksort($arrLabels);   $sql = "SELECT * FROM bookings_products INNER JOIN bookings ON bookings.BookingID=bookings_products.BookingProductBooking WHERE BookingConfirmed&gt;0 ORDER BY BookingProductProduct ASC";  $set = $link-&gt;query($sql);  while($row = $set-&gt;fetch_array(MYSQLI_ASSOC))  {   $dm = substr($row['BookingDate'],5,2); // To get the month from YYYY-MM-DD dates   $arrPeople[$dm][$row['BookingProductProduct']] = $arrPeople[$dm][$row['BookingProductProduct']] + (1 * $row['BookingGroupSize']);  }  ksort($arrPeople);   echo "&lt;pre&gt;"; print_r($arrLabels); echo "&lt;/pre&gt;";  echo "&lt;hr/&gt;";  echo "&lt;pre&gt;"; print_r($arrPeople); echo "&lt;/pre&gt;"; </code></pre>  <p>I then build the Google Charts JS code like this:</p>  <pre><code> &lt;script type="text/javascript"&gt;  google.load("visualization", "1", {packages:["corechart"]});  google.setOnLoadCallback(drawChart);  function drawChart()  {   var data = google.visualization.arrayToDataTable([    [&lt;?php foreach($arrLabels as $p) { ?&gt;'&lt;?php echo str_replace("'","\'",$p); ?&gt;', &lt;?php } ?&gt;{ role: 'annotation' } ],    ['Jan', &lt;?php foreach($arrLabels as $k=&gt;$v) { ?&gt;&lt;?php echo $arrPeople['01'][$k] ?: '0'; ?&gt;, &lt;?php } ?&gt;],    ['Feb', &lt;?php foreach($arrLabels as $k=&gt;$v) { ?&gt;&lt;?php echo $arrPeople['02'][$k] ?: '0'; ?&gt;, &lt;?php } ?&gt;],    ['Mar', &lt;?php foreach($arrLabels as $k=&gt;$v) { ?&gt;&lt;?php echo $arrPeople['03'][$k] ?: '0'; ?&gt;, &lt;?php } ?&gt;],    ['Apr', &lt;?php foreach($arrLabels as $k=&gt;$v) { ?&gt;&lt;?php echo $arrPeople['04'][$k] ?: '0'; ?&gt;, &lt;?php } ?&gt;],    ['May', &lt;?php foreach($arrLabels as $k=&gt;$v) { ?&gt;&lt;?php echo $arrPeople['05'][$k] ?: '0'; ?&gt;, &lt;?php } ?&gt;],    ['Jun', &lt;?php foreach($arrLabels as $k=&gt;$v) { ?&gt;&lt;?php echo $arrPeople['06'][$k] ?: '0'; ?&gt;, &lt;?php } ?&gt;],    ['Jul', &lt;?php foreach($arrLabels as $k=&gt;$v) { ?&gt;&lt;?php echo $arrPeople['07'][$k] ?: '0'; ?&gt;, &lt;?php } ?&gt;],    ['Aug', &lt;?php foreach($arrLabels as $k=&gt;$v) { ?&gt;&lt;?php echo $arrPeople['08'][$k] ?: '0'; ?&gt;, &lt;?php } ?&gt;],    ['Sep', &lt;?php foreach($arrLabels as $k=&gt;$v) { ?&gt;&lt;?php echo $arrPeople['09'][$k] ?: '0'; ?&gt;, &lt;?php } ?&gt;],    ['Oct', &lt;?php foreach($arrLabels as $k=&gt;$v) { ?&gt;&lt;?php echo $arrPeople['10'][$k] ?: '0'; ?&gt;, &lt;?php } ?&gt;],    ['Nov', &lt;?php foreach($arrLabels as $k=&gt;$v) { ?&gt;&lt;?php echo $arrPeople['11'][$k] ?: '0'; ?&gt;, &lt;?php } ?&gt;],    ['Dec', &lt;?php foreach($arrLabels as $k=&gt;$v) { ?&gt;&lt;?php echo $arrPeople['12'][$k] ?: '0'; ?&gt;, &lt;?php } ?&gt;],   ]);    var options = {    title: 'Product popularity by month - Number of people (based on activity date)',    isStacked: true,   };   var chart = new google.visualization.BarChart(document.getElementById('chart3b'));   chart.draw(data, options);  }  &lt;/script&gt;  &lt;div id="chart3b" style="margin-top:15px; width: 900px; height: 500px; border:solid 1px #000;"&gt;&lt;/div&gt;&lt;hr/&gt; </code></pre>  <p>You can see (via a static HTML copy-and-paste of the dynamic PHP output) the Google Chart produced here: <a href="http://www.stuart-pinfold.co.uk/stats.htm" rel="nofollow">http://www.stuart-pinfold.co.uk/stats.htm</a></p>  <p>You'll notice that activity #50 (Santa Experience) which had 195 visitors in December (month 12) is being assigned in the chart to activity #51 ("Zombie Air Rifle, Zombie Pistol, 10 Clay Shoots") instead.</p>  <p>Where am I going wrong?</p>