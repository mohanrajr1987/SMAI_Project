<p>I have the following code which works as expected in Windows but on Ubuntu I get the error "toString1 was not declared in this scope".</p>  <pre><code>#include &lt;stdio.h&gt; #define a                    2 #define b                    3 #define c                    4 #define d                    5 #define toString1(S)         #S #define toString(S)          toString1(S) #define numbers              a,b,c,d #define numbersS             toString(numbers) int main() {  int a1 = 0, a2 = 0, a3 = 0, a4 = 0;  if (sscanf_s(numbersS, "%d,%d,%d,%d", &amp;a1, &amp;a2, &amp;a3, &amp;a4) == 4)  {      printf("The numbers were assigned correctly");  }  printf("%d %d %d %d ", a1, a2, a3, a4); } </code></pre>  <p>What could be the reason for that?  If I remove toString1 and make </p>  <pre><code>#define toString(S)           #S </code></pre>  <p>the result is 0 for every variable on both Windows and Ubuntu.</p>  <p>Can someone have an explanation for this?</p>