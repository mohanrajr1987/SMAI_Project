<p>I am using omniauth-facebook gem. I need to fetch gender and email from facebook, but it is not happening. Can anyone help me out here?</p>  <p>User Model</p>  <pre><code>class User &lt; ActiveRecord::Base     attr_accessible :email, :name, :uid, :provider, :gender, :oauth_token, :oauth_expires_at         validates_presence_of :name, :uid     validates_uniqueness_of :uid          def self.from_omniauth(auth)       where(provider: auth.provider, uid: auth.uid).first_or_initialize.tap do |user|                user.provider = auth.provider         user.uid = auth.uid         user.name = auth.info.name         user.email = auth.info.email         user.gender = auth.info.gender         user.image = auth.info.image                     user.save!       end     end end </code></pre>  <p>User Contoller</p>  <pre><code>class UsersController &lt; ApplicationController respond_to :html, :json def create @user = User.from_omniauth(env["omniauth.auth"]) session[:user_id] = @user.id       redirect_to api_browsing_screen_url        end   end </code></pre>  <p>omniauth.rb</p>  <pre><code>OmniAuth.config.logger = Rails.logger  Rails.application.config.middleware.use OmniAuth::Builder do if Rails.env.production?   provider :facebook, 'app_id', 'app_secret_key' elsif Rails.env.development?   provider :facebook, 'app_id', 'app_secret_key', {:scope =&gt; 'publish_actions,email', :client_options =&gt; { :ssl =&gt; { :ca_file =&gt; "#{Rails.root}/config/ca-bundle.crt" }}} else     provider :facebook, 'app_id', 'app_secret_key' end   end </code></pre>