<p>Probably this is a recurrent question, but by searching did not find the answer. </p>  <p>By <code>documentclass: book</code> and defining in <code>YAML</code> preamble <code>pandoc_args: --chapters</code> inside the <code>output: pdf_document:</code> I have gotten the figures and tables being properly auto-numbering prefixed by the correct figure label (e.g: "Table", "Figure" and following the correct sequence number inside the chapter. HOWEVER, the auto-numbering sequence I have gotten by the cross-reference called inline to the rmarkdown text by <code>r figr ()</code> from <code>kfigr</code> package is still following the sequence of figures counting by the entire pdf_document.</p>  <p>Example: The second figure of Chapter 3 is being labeled and referenced as "Figure 3.2" together the captions of such figure and below it,  but its cross-reference number in the text is being labeled as "Figure 4" (since it represents the fourth figure in entire document). </p>  <p>How can I fix this? How inline cross reference (by <code>r figr("ChunkFigureName",TRUE,type="Figure")</code> can follow same chapter numbering figure sequence defined in chapter sequence?  </p>  <p>Thanks</p>  <p>Fabio </p>