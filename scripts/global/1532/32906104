<p>I have an XML file that is valid against an XSD schema. I would like to sort it alphabetically by applying the following criteria (in order of priority): - by element name - by attribute names - by attribute values</p>  <p>Furthermore, I would like the sorted XML file to be valid against the same XSD  schema. Is there an existing XML sorting algorithm that would comply to my requirements? If not, what would be the best technical approach to write such an algorithm (eg: use XSLT)?</p>  <p>Based on my previous analysis, I tried to figure out a correct approach for the "sequence", "choice" and "all" elements in the XSD but failed to succeed. I am using dom4j 1.6.1 for my current processing tasks. Looking forward to your suggestions.</p>