<p>I have a listview in a fragment. that listview have a checkbox on each item. I want to set all checkboxes (from sharedpreferences) on fragment start and get all of them on "save" button clicked. save process works currently but load not works. the code of "save" button OnClickListener:</p>  <pre><code>private View.OnClickListener saveButtonListener = new View.OnClickListener() {         @Override         public void onClick(View v) {             if (mListener != null) {                 shp = getActivity().getSharedPreferences(Constants.PREFERENCES, Context.MODE_PRIVATE);                 SharedPreferences.Editor editor = shp.edit();                 for (int i = 0; i &lt; gridView.getCount(); i++) {                     CheckBox checkBox = (CheckBox) gridView.getChildAt(i).findViewById(R.id.checkbox);                     editor.putBoolean("" + i, checkBox.isChecked());                 }                 editor.apply();                  editText = (EditText) view.findViewById(R.id.editText);                 if (!editText.getText().toString().isEmpty()) {                     Utils utils = new Utils(getActivity());                     utils.setName(editText.getText().toString());                 }                 mListener.navigationFragment(new MenuFragment());             }         }      }; </code></pre>  <p>on this line: <code>CheckBox checkBox = (CheckBox) gridView.getChildAt(i).findViewById(R.id.checkbox);</code> I got checkbox currently and uses <code>ischecked()</code> and iterate. I uses this code in load process like this:</p>  <pre><code>shp = getActivity().getSharedPreferences(Constants.PREFERENCES, Context.MODE_PRIVATE);  for (int i = 0; i &lt; gridView.getCount(); i++) {     CheckBox checkBox = (CheckBox) gridView.getChildAt(i).findViewById(R.id.checkbox);     checkBox.setChecked(shp.getBoolean("" + i, true)); } </code></pre>  <p>this is like that but <code>NullPointerExeption</code> retrieved. I used last code in <code>onViewCreated</code>, <code>onResume</code> and <code>onStart</code> too. any ideas are welcomed. I must mention to this Button click happens after OnCreateView.</p>