<p>I'm currently developing a Safari Extension which will make use of the new <a href="https://www.webkit.org/blog/3476/content-blockers-first-look/" rel="nofollow">webkit-content-blocker</a> feature available in Safari 9. Now, the rules of such blockers need to be written in JSON.</p>  <p>The background script of my soon-to-be extension generates such JSON rules. The issue I have is that I cannot properly format a regex, whose role is to filter URLs, to be JSON compatible.</p>  <p>Say I need to block all images whose URL contains either "banana", "orange", or "apple". My regex would be something like:</p>  <pre><code>var url-filter = /banana|orange|apple/g; </code></pre>  <p>Now the blocker's rule in JSON, missing the url filtering part:</p>  <pre><code>"action": {    "type": "block"     }, "trigger": {    "url-filter": &lt;JSON regex here&gt;,    "resource-type": ["image"],    "load-type": ["third-party"]     } </code></pre>  <p>[UPDATED]</p>  <p>How can I rewrite my regex to be JSON compatible/ready, knowing that alternations are not supported ?</p>  <blockquote>   <p><strong>The Regular expression format</strong></p>      <p>Triggers support filtering the URLs of each resource based on regular expression.</p>      <p>      <p>The following features are supported:</p>      <ul>   <li>Matching any character with “.”.</li>   <li>Matching ranges with the range syntax [a-b].</li>   <li>Quantifying expressions with “?”, “+” and “*”.</li>   <li>Groups with parenthesis.</li>   </ul>      <p>It is possible to use the beginning of line (“^”) and end of line (“$”) marker but they are restricted to be the first and last character of the expression. For example, a pattern like “^bar$” is perfectly valid, while “(foo)?^bar$” causes a syntax error.</p> </blockquote>