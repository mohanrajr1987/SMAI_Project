<p>I am using the code bellow to fetch some informations (for test purpose). So far i can grab the title.. the feautured image and text from specific div.</p>  <p>If the div that holds the main content has youtube code i can't insert the data in my wp db.</p>  <p>if i do an echo i can see all (text and youtube video)</p>  <p>After all i am insert it into my wp db.</p>  <p>How is it possible to parse the text and youtube code?</p>  <p>my code:</p>  <pre><code>&lt;?php header('Content-Type: text/html; charset=utf-8'); require( dirname(__FILE__) . '/../wp-load.php' ); require_once ('url_to_absolute/simple_html_dom.php');  $cat = $_GET['category']; $u = $_GET['url']; $s = $_GET['site'];  $masterurl = $u;  $html = new simple_html_dom(); $html-&gt;load_file($masterurl);  //$title = array_shift($html-&gt;find('title'))-&gt;innertext; //$descr = array_shift($html-&gt;find("meta[name='description']"))-&gt;content;  $curl = curl_init(); curl_setopt($curl, CURLOPT_URL, $masterurl); curl_setopt($curl, CURLOPT_HEADER, 0);  curl_setopt($curl, CURLOPT_RETURNTRANSFER, 1);  curl_setopt($curl, CURLOPT_FOLLOWLOCATION,true); $result = curl_exec($curl);  curl_close($curl);   function get_title($url){   $str = file_get_contents($url);   if(strlen($str)&gt;0){     $str = trim(preg_replace('/\s+/', ' ', $str)); // supports line breaks inside &lt;title&gt;     preg_match("/\&lt;title\&gt;(.*)\&lt;\/title\&gt;/i",$str,$title); // ignore case     return $title[1];   } }  $pizza  = get_title($masterurl); $pieces = explode("|", $pizza); $my_title = $pieces[0]; // post title  $category = $cat; //Category id  //Find the div tha holds the conent $items = $html-&gt;find('div.post-single-content',0)-&gt;children(1)-&gt;outertext;  $items = preg_replace('#&lt;aside class="mashsb-container"&gt;(.*?)&lt;/aside&gt;#', '', $items); //Remove share buttons with class mashsb-container   //Function to fetch meta attributes and also og:image so we can download the feautured image from url function fetch_og($url) {     $data = file_get_contents($url);     $dom = new DomDocument;     @$dom-&gt;loadHTML($data);      $xpath = new DOMXPath($dom);     # query metatags with og prefix     $metas = $xpath-&gt;query('//*/meta[starts-with(@property, \'og:\')]');      $og = array();      foreach($metas as $meta){         # get property name without og: prefix         $property = str_replace('og:', '', $meta-&gt;getAttribute('property'));         # get content         $content = $meta-&gt;getAttribute('content');         $og[$property] = $content;     }      return $og; } $og = fetch_og($u); $feautured_image = $og['image'];  //Query that will check if post exists $querystr = "SELECT * FROM $wpdb-&gt;posts                  LEFT JOIN $wpdb-&gt;term_relationships ON($wpdb-&gt;posts.ID = $wpdb-&gt;term_relationships.object_id)                   LEFT JOIN $wpdb-&gt;term_taxonomy ON($wpdb-&gt;term_relationships.term_taxonomy_id = $wpdb-&gt;term_taxonomy.term_taxonomy_id)                   WHERE ($wpdb-&gt;term_taxonomy.term_id = ".$category."                 AND $wpdb-&gt;term_taxonomy.taxonomy = 'category'                    AND $wpdb-&gt;posts.post_status = 'publish'                 AND $wpdb-&gt;posts.post_title like '%".trim($my_title)."%')";                 $pageposts = $wpdb-&gt;get_results($querystr);  //If post doesn't exists insert it if(empty($pageposts[0]-&gt;ID))                 {                      //Database insert query                      $my_post = array(                     'post_title'    =&gt; trim($my_title),                     'post_status'   =&gt; 'publish',                     'post_author'   =&gt; 1,                     'post_category' =&gt; array($category),                     'post_date'  =&gt; date('Y-m-d H:i:s'),                     'post_date_gmt'  =&gt; date('Y-m-d H:i:s'),                     'post_type' =&gt; 'post'                     );                     $post_id=wp_insert_post( $my_post );                       //update with new image and the new content                           $image_url = $feautured_image;                     $upload_dir = wp_upload_dir();                     $image_data = file_get_contents($image_url);                     $filename = basename($image_url);                     if(wp_mkdir_p($upload_dir['path']))                     $file = $upload_dir['path'] . '/' . $filename;                     else                     $file = $upload_dir['basedir'] . '/' . $filename;                     file_put_contents($file, $image_data);                      $wp_filetype = wp_check_filetype($filename, null );                     $attachment = array(                     'post_mime_type' =&gt; $wp_filetype['type'],                     'post_title' =&gt; sanitize_file_name($filename),                     'post_content' =&gt; '',                     'post_status' =&gt; 'inherit'                     );                     $attach_id = wp_insert_attachment( $attachment, $file, $post_id );                     require_once(ABSPATH . 'wp-admin/includes/image.php');                     $attach_data = wp_generate_attachment_metadata( $attach_id, $file );                     wp_update_attachment_metadata( $attach_id, $attach_data );                     set_post_thumbnail( $post_id , $attach_id );                     $Img_Uploaded_Url=get_site_url()."/wp-content/uploads/".$attach_data['file'];                      $wpdb-&gt;query("UPDATE $wpdb-&gt;posts SET post_content = '".$items."' WHERE ID = '".$post_id."'");                  } echo "&lt;div style='width:225px; height:40px; margin:0 auto; margin-top:20px; background-color:#060; font-family:Verdana, Geneva, sans-serif; font-size:24px; color:#FFF; text-align: center; padding-top: 8px;'&gt;Alright Sparky!!!&lt;/div&gt;";  // Clear dom object $html-&gt;clear();  unset($html);  ?&gt; </code></pre>  <p>This div holds text and video: </p>  <pre><code>&lt;div class="post-single-content box mark-links entry-content"&gt;  &lt;div class="single_post"&gt;  &lt;div class="thecontent" itemprop="articleBody"&gt; //Here has the full content etc... &lt;/div&gt;  &lt;/div&gt; &lt;/div&gt; </code></pre>