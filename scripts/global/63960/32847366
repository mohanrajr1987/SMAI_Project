<p>If i use simple php files for view (default Yii2 style) - i can completely control what methods and properties being used atm.</p>  <p>But i need to write widgets to generate html or write things like this:</p>  <pre><code>&lt;?php foreach ($models as $news) : ?&gt; &lt;!-- html code here --&gt; &lt;?php endforeach; ?&gt; </code></pre>  <p>Both things is completely bad in terms of supporting the code.</p>  <p>And the problem is - it seems that i can't use template engines either. Code becomes cleaner much more understandable and maintainable at first, but i lose consistency. I can't use code completion or use refactoring tools or things like "find usages". So eventually this will lead to the same problem - difficulty of supporting the code and further development.</p>  <p>So, is there a way for refactoring tools work on Smarty/Twig templates? Or some completely different solution to separate PHP code from views?</p>