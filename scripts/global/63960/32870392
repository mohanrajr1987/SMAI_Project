<p>some days ago I updated symfony on my project, now it is 2.7.5 (before it was &lt;2.7).</p>  <p>Today I noticed that the weekly newsletter cronjob had a problem:</p>  <pre><code>PHP Fatal error:  Allowed memory size of 134217728 bytes exhausted </code></pre>  <p>I'm sending email to ~10'000 users, before the update, the memory consumption was much lower:</p>  <pre><code>10581/10581 [============================] 100% 7 mins/7 mins 55.2 MiB //last week </code></pre>  <p>But now, it crashed half-way:</p>  <pre><code>5310/10628 [=============&gt;--------------]  49% 8 mins/16 mins 121.2 MiB //this week </code></pre>  <p>I investigated a little bit, and seems that the problem stay in this function:</p>  <pre><code>public function sendMail($to, $subject, $template, $content = array(), $unsubscribeUrl = null) {      //$this-&gt;templating is Twig_Environment     $text = $this-&gt;templating-&gt;render(         'MyMailerBundle:text:' . $template . '.txt.twig',         $content     );     $html = $this-&gt;templating-&gt;render(         'MyMailerBundle:html:' . $template . '.html.twig',         $content     );     $this-&gt;_sendMail(array('---@---.---' =&gt; '---'), $to, $subject, $text, $html, $unsubscribeUrl);  } </code></pre>  <p>If I comment away the two calls to render (and avoiding to really send the emails, for simulation purpose ofc), the allocated memory stay stable to 44.8 MiB; if I comment away only the _sendMail, the memory exhausts.</p>  <p>My question is: how can I free this memory? What changed?</p>