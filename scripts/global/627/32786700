<p>I have a BroadcastReceiver to stop Foreground service like this, I use Broadcast because I stop Service using Notification click.</p>  <pre><code>public void onReceive(Context context, Intent intent) {     stopIntent = new Intent(context, ForegroundService.class);     stopIntent.setAction("stop");     context.startService(stopIntent); } </code></pre>  <p>and my Service</p>  <pre><code>public int onStartCommand(Intent intent, int flags, int startId) {     if (intent.getAction().equals("start")) {         //do something;     }else if (intent.getAction().equals("stop")) { //I don't want to use onDestroy()         //do something;         stopself();     } } </code></pre>  <p>If I stop Service then clear recentTask and start Service then no problem. But when I clear recentTask when Service running then service keep running because my service is Foreground service but when I try start service again then in my Service, intent.getAction() get "Null Pointer" error (my action is "stop").</p>