<p>I'm having a few issues getting the value output parameter from a stored procedure within my c# code.</p>  <p>I'm not sure if its the sql that is wrong or the c# code. This is what I have so far.</p>  <p>SQL-----</p>  <pre><code>ALTER PROCEDURE [dbo].[sp_GetAverageRating]     @RecipeNodeId int,     @Average int output AS      SET NOCOUNT ON;  SET @Average = (SELECT AVG(Rating) as RatingTotal FROM dbo.RecipeRating WHERE RecipeNodeId = @RecipeNodeId) </code></pre>  <p>C#-----</p>  <pre><code>      SqlCommand cmd = new SqlCommand("sp_GetAverageRating", conn);                         cmd.CommandType = CommandType.StoredProcedure;                         cmd.Parameters.Add(new SqlParameter("@RecipeNodeId", id));                         cmd.Parameters.Add(new SqlParameter("@Average", 1));      // This is an output pram so I know I dont need to pass it here, but it crashes if I dont pass something                          cmd.ExecuteNonQuery();      var averageRating = (int)cmd.Parameters["@Average"].Value; </code></pre>  <p>var averageRating &lt; this value is always 1 which I'm guessing is what I passed in the first place. So my questions are.</p>  <ol> <li><p>Why is the query failing if I don't pass in a value for Average? it marked as OUTPUT in the stored procedure.</p></li> <li><p>Why am I not getting the correct result from the stored procedure ?.</p></li> </ol>