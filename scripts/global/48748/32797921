<p>I have my app setup where users can write reviews for a movie. What I'd like to do is limit the user to create only one review per movie. I've managed to accomplish this in my reviews controller as so:</p>  <pre><code>class ReviewsController &lt; ApplicationController   before_action :has_reviewed, only [:new]   ....   def has_reviewed?     if Review.where(user_id: current_user.id, movie_id: @movie.id).any?       redirect_to movie_reviews_path        flash[:notice] = "You've already written a review for this movie."     end   end end </code></pre>  <p>Where I'm now having trouble is translating this same logic into my index view template with the helper methods of Devise and CanCanCan at my disposal.</p>  <pre><code>&lt;% if user_signed_in? &amp;&amp; ... %&gt; # current_user has already created a review for this movie   &lt;%= link_to "Edit Review", edit_movie_review_path(@movie, review) %&gt; &lt;% else %&gt;   &lt;%= link_to "Write a Review", new_movie_review_path %&gt; &lt;% end %&gt; </code></pre>  <p><strong>Also:</strong> Is there any way to improve the lookup in my <em>has_reviewed?</em> method? I feel like there's a better way to write it but can't determine the most appropriate fix.</p>