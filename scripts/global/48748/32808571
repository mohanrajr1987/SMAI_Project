<p>I have created modal where registered user can change his name, e-mail and password.</p>  <p>Problem: I can't update user data. I have tried to fill all fields - current password and new password. Also tried to submit empty form, but error is the same.</p>  <p><strong>Form looks like this:</strong></p>  <pre><code>&lt;%= form_for(resource, as: resource_name, url: registration_path(resource_name), html: { "data-parsley-validate" =&gt; true, :id=&gt;"user-edit"},remote: true, format: :json) do |f| %&gt;         &lt;div class="form-group"&gt;         &lt;%= f.text_field :name,:class=&gt;"user-input form-control", :id=&gt;"user-name" ,:placeholder=&gt; "Lietotājvārds*",:"data-parsley-group"=&gt;"f1" %&gt;                    &lt;/div&gt;      &lt;div class="form-group"&gt;             &lt;%= f.email_field :email ,:class=&gt;"user-input form-control", :id=&gt;"password",:placeholder=&gt; "E-pasts *",:"data-parsley-group"=&gt;"f2" %&gt;                                 &lt;/div&gt;         &lt;div class="form-group"&gt;                           &lt;%= f.password_field :current_password, :autocomplete =&gt; "off"  ,:class=&gt;"user-input form-control", :id=&gt;"password",:placeholder=&gt; "Vecā parole*                       ",:"data-parsley-group"=&gt;"f3" %&gt;       &lt;/div&gt;      &lt;div class="form-group"&gt;                               &lt;%= f.password_field :password , :class=&gt;"user-input form-control", :id=&gt;"password",:placeholder=&gt; "Jaunā parole*                       vismaz 8 simboli ",  :"data-parsley-group"=&gt;"f3" %&gt;       &lt;/div&gt;      &lt;div class="form-group"&gt;                                &lt;%= f.password_field :password_confirmation , :class=&gt;"user-input form-control", :id=&gt;"password",:placeholder=&gt; "Atkārtot paroli *                     vismaz 8 simboli ",  :"data-parsley-group"=&gt;"f3" %&gt;           &lt;/div&gt;      &lt;button type="submit" class="blue-button btn btn-default"&gt;Apstiprināt&lt;/button&gt; &lt;%end%&gt; </code></pre>  <p><strong>In routes:</strong></p>  <pre><code> devise_for :users,  :controllers =&gt; {:registrations=&gt; "registrations"} </code></pre>  <p><strong>Registration controller:</strong></p>  <pre><code>class RegistrationsController &lt; Devise::RegistrationsController       clear_respond_to        respond_to :json     def sign_up_params     params.require(:user).permit( :email, :password, :password_confirmation,:name, :not_a_robot)   end   def account_update_params     params.require(:user).permit(:name, :email, :password, :password_confirmation, :current_password, :not_a_robot)   end   private :sign_up_params   private :account_update_params   end </code></pre>  <p>Application controller:</p>  <pre><code> before_action :configure_permitted_parameters, if: :devise_controller?    protected    def configure_permitted_parameters      devise_parameter_sanitizer.for(:update) { |u| u.permit(:name, :terms_of_service, :not_a_robot, :role,:im_old, :password, :current_password, :password_confirmation, :humanizer_question_id, :humanizer_answer,:email) }       devise_parameter_sanitizer.for(:sign_up) { |u| u.permit(:name, :terms_of_service, :not_a_robot, :role,:im_old, :password, :password_confirmation, :humanizer_question_id, :humanizer_answer,:email, :current_password) }   end </code></pre>  <p><strong>My log file:</strong></p>  <pre><code>Started POST "/ru/users" for 212.93.105.32 at 2015-09-27 15:59:24 +0300 Processing by RegistrationsController#create as JS   Parameters: {"utf8"=&gt;"✓", "user"=&gt;{"name"=&gt;"OPARRKRR", "email"=&gt;"", "current_password"=&gt;"[FILTERED]", "password"=&gt;"[FILTERED]", "password_confirmation"=&gt;"[FILTERED]", "not_a_robot"=&gt;"1"}, "locale"=&gt;"ru"}   [1m[36mBanlist Load (0.6ms)[0m  [1mSELECT `banlists`.* FROM `banlists`  WHERE (ip_adress = '212.93.105.32')[0m   [1m[35mCountry Load (1.0ms)[0m  SELECT  `countries`.* FROM `countries`  WHERE `countries`.`id` = 1 LIMIT 1   [1m[36mRegion Load (0.7ms)[0m  [1mSELECT `regions`.* FROM `regions`  WHERE `regions`.`country_id` = 1[0m Unpermitted parameters: current_password   [1m[35m (0.4ms)[0m  BEGIN   [1m[36m (0.3ms)[0m  [1mROLLBACK[0m Completed 422 Unprocessable Entity in 325ms (Views: 2.3ms | ActiveRecord: 20.9ms) </code></pre>