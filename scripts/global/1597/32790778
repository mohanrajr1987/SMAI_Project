<p>So i'm trying to get the distance between to coordinates using php. I'm using these two functions:</p>  <ol> <li>locate user by ip</li> <li>get image with gps coordinates</li> </ol>  <p>in locate user by ip i'm getting the latitude and longitude from the ip, and the putting them in $ lat1 and $ lon1</p>  <pre><code>$ip = $_SERVER['REMOTE_ADDR']; $details = json_decode(file_get_contents("http://ipinfo.io/{$ip}/json")); $user_location = $details-&gt;loc; $pieces = explode(",", $user_location); $lat1 = $pieces[0]; $lon1 = $pieces[1]; $unit = "Km"; </code></pre>  <p>in get image i'm selecting the rows, and they all contain the latitude and longitude from the exif.</p>  <pre><code>function get_image($db){     $select = "id, image_name";     $sql = "SELECT $select FROM images ORDER BY id DESC";     $stmt = $db-&gt;prepare($sql);     $stmt-&gt;execute();     $spot = $stmt-&gt;fetchAll(PDO::FETCH_ASSOC);      if(!$stmt -&gt; rowCount()){         echo "&lt;div class='noSpots'&gt;                     &lt;p&gt;Sorry there seams to be nothing in your area&lt;/p&gt;               &lt;/div&gt;";     }         return $spot; }//spots_narrow ends here </code></pre>  <p>so after these two functions I can now return four variables with the two latitudes and longitudes that i want to calculate the distance between.</p>  <pre><code>- $ lat1 - $ lon1 - $ lat2 - $ lon2 </code></pre>