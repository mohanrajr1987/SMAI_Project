<p>I am trying to write unit test for my events in controller.</p>  <p>Below is my controller</p>  <pre><code>myApp.controller('ParentCtrl', ['$scope', function ($scope) {     $scope.message = "Some text in parent";     $scope.$on("update_parent_controller", function(event, message){         $scope.message = message;     });  }]) .controller('ChildCtrl', ['$scope', function ($scope) {     $scope.clickFunction = function() {     $scope.message = "Parent updated from child controller";          $scope.$emit('update_parent_controller', $scope.message);     }  }]); </code></pre>  <p>And below is my test that i am trying to write</p>  <pre><code>describe("Hello Controller Test", function () {     var ctrl, scope;      beforeEach(module("myApp"));      beforeEach(inject(function ($controller, $rootScope) {         scope = $rootScope.$new();         spyOn(scope, '$on');          ctrl = $controller("ParentCtrl", {             $scope : scope         });     }));      it('should change ParentCtrl message property from child ctrl', function (){          var new_hero = 'Ralf ninja turtle',             sub_scope = scope.$new();          sub_scope.$emit('update_parent_controller', new_hero);          expect(scope.$on).toHaveBeenCalled();         expect(scope.message).toBe('Ralf ninja turtle'); //Getting err here     }); }); </code></pre>  <p>I am expecting message in the parent controller to be updated,  But the test is failing at expect(scope.message).toBe('Ralf ninja turtle');</p>