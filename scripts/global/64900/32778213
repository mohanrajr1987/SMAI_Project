<p>I have a controller with a simple $scope.$on:</p>  <pre><code>app.controller('MyController', function($scope) {     $scope.$on("myBroadRcvr", function(event, data) {         $scope.name = data.name;         $scope.empID = data.empID;     }); }); </code></pre>  <p>I have tried unit testing like this:</p>  <pre><code>describe('MyController', function () {     var $scope, super_controller;      beforeEach(function(){         module('myApp');          inject(function($rootScope, $controller){             $scope = $rootScope.$new();             spyOn($scope, '$on');              super_controller = $controller('MyController', {$scope: $scope});                     });     });      it('should receive name as test', function (){          var myData = {name: 'test', empID: 'eg7gg'},         var sub_scope = $scope.$new();          sub_scope.$broadcast('myBroadRcvr', myData);          expect($scope.$on).toHaveBeenCalled();         expect($scope.name).toBe('test');     }); }); </code></pre>  <p>With the above i get:</p>  <pre><code>Expected undefined to be 'test'. </code></pre>