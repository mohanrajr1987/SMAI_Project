<p>What I'm trying to achieve is a search query modification based on some additional parameters. I have a list of upper limits for products. If a limit parameter is set for a product it should use it as the upper limit. If it isn't set it will use the product current value as the upper limit (so that it will allways pass). </p>  <p>The code looks like this:</p>  <pre><code>subquery.WhereRestrictionOn(p =&gt; p.SomeNumberValue).IsNotNull().IsBetween(0).And(   Projections.Conditional(     Restrictions.On(() =&gt; alias.ProductId).IsIn(_limits),     Projections.Property&lt;SearchItems&gt;(x =&gt; _limits.Where(y =&gt; y.ProductID == x.ProductId).FirstOrDefault().NewUpperLimit),     Projections.Property&lt;SearchItems&gt;(p =&gt; p.SomeNumberValue)   ) ); </code></pre>  <p>Where:</p>  <ul> <li>_limits is a generic list of product limitations, taken from a database view</li> <li>SearchItems is a view that contains products, also taken from a database view</li> </ul>  <p>When I launch this it throws an Exception: <strong>Not to be used directly - use inside QueryOver expression</strong>.</p>  <p>I'm not sure I quite understand the problem, but... My question is: How to point nHibernate classes like Projections to a value stored somewhere in a generic List of CustomObjects?</p>