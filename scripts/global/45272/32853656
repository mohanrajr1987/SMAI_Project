<p>I'm working in jquery, javascript, and html. I have a function that I call to get some data. The function gets the data and stores it in local storage. I try to pull the data out of local storage, and append it to an html label tag. However, it doesn't display right away. I have to refresh the page in order for it to display properly. HTML FILE below</p>  <pre><code>.... &lt;script type="text/javascript"&gt; window.onload = function () {     get_latest_survey_status(4);  // Function takes a numeric ID var t_latest_date = JSON.parse(window.localStorage.getItem("latest_date"));                 var t_latest_percent_complete = JSON.parse(window.localStorage.getItem("latest_percent_complete"));                 var t_latest_notes = JSON.parse(window.localStorage.getItem("latest_notes"));                 var t_latest_flag = JSON.parse(window.localStorage.getItem("latest_flag"));                 var t_latest_bundle_id = JSON.parse(window.localStorage.getItem("latest_survey_job_bundle_id"));                  $('#l_date').append(t_latest_date);                 $('#l_percent').append(t_latest_percent_complete);                 $('#l_notes').append(t_latest_notes);                 $('#l_flag').append(t_latest_flag);                 $('#label105').append(t_latest_bundle_id); } &lt;/script&gt;&lt;body&gt; &lt;p id="l_date"&gt;Date:&amp;nbsp;&lt;/p&gt; &lt;p id="l_percent"&gt;%:&amp;nbsp;&lt;/p&gt; &lt;p id="l_flag"&gt;On Hold Flag:&amp;nbsp;&lt;/p&gt; &lt;p id="l_notes"&gt;Notes:&amp;nbsp;&lt;/p&gt; </code></pre>  <p>JAVASCRIPT FILE/FUNCTION below</p>  <pre><code>function get_latest_survey_status(sjb_id) {   window.localStorage.setItem("latest_date", JSON.stringify(item.STATUS_DATE));   window.localStorage.setItem("latest_percent_complete", JSON.stringify(item.PERCENT_COMPLETE));   window.localStorage.setItem("latest_notes", JSON.stringify(item.STATUS_NOTES));   window.localStorage.setItem("latest_flag", JSON.stringify(item.ON_HOLD_FLAG));   window.localStorage.setItem("latest_survey_job_bundle_id", JSON.stringify(item.SURVEY_JOB_BUNDLE_ID));   window.localStorage.setItem("latest_lat", JSON.stringify(item.LAT));   window.localStorage.setItem("latest_lon", JSON.stringify(item.LON));  } </code></pre>  <p>The item.ALL_CAPS_VARS have been defined above as global variables. Pretty simple and straight forward right!? So I don't understand why I can't get this data to display. I'm calling a function thats putting data in local storage, then I'm accessing the data from local storage. I tried using alert boxes to output the data that was in local storage and it was set to "undefined" at first, but when I refreshed the page, the correct values were displayed. Any ideas on why this is? Any help on this topic would be greatly appreciated. Thanks in advance. </p>