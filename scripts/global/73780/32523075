<p>My app is accessing object from the service scope (<code>package:gcloud/service_scope.dart</code>), like the <code>storageService</code> and additional services that I put inside the scope with <code>ss.register()</code>.</p>  <p>Now I want to unit test a function that accesses this scope, and uses mock objects that I want to put in the service scope.</p>  <p>Is the only way to do so, to register them for every test, like this:</p>  <pre><code>var withServiceScope = (callback()) =&gt; ss.fork(() {   // Register all services here   return callback(); }); test('the description', () =&gt; withServiceScope(() async {   // Call my function that can now access the service scope })); </code></pre>  <p>Or is there are way that allows me to do that in the <code>setUp()</code> function so I don't need to add this line for each test?</p>