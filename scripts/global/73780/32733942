<p>I am trying to write a simple single-page web app in Dart using the "observatory" package. What it should do is display all the data in the "Name" collection, retrieve the user's input, add lastly that input to both the on-screen list and the collection. The input gets added to the unordered list, but that's all that happens. I'm not sure what I'm doing wrong. Here is my Dart code:</p>  <pre><code>import 'dart:html'; import 'package:objectory/objectory_browser.dart';  class Name extends PersistentObject {   String get collectionName =&gt; "Name";    String get first =&gt; getProperty("first");   set first(String value) =&gt; setProperty("first", value);    String get last =&gt; getProperty("last");   set last(String value) =&gt; setProperty("last", value); }  const uri = 'mongodb://localhost/dosdart1';  registerClasses() {   objectory.registerClass(Name, () =&gt; new Name(), () =&gt; new List&lt;Name&gt;()); }  void main() {   objectory = new ObjectoryWebsocketBrowserImpl(uri, registerClasses, false);   loadNames();   querySelector('#output').text = 'Your Dart app is running.';   var btn = querySelector('#btn');   btn.onClick.listen(addName); }  Future display(name) {   var completer = new Completer();   name.fetchLinks().then((__) {     var ul = querySelector('#names');     var li = new LIElement()     ..appendText("${name.first} ${name.last}");     ul.append(li);     completer.complete(true);   });   return completer.future; }  loadNames() {   objectory.initDomainModel().then((_) {     return objectory[Name].find();   }).then((names){     return Future.wait(names.map((name) =&gt; display(name)));   }).then((_) {     objectory.close();   }); }  addName(MouseEvent e) {   var name = new Name();   InputElement firstElement = querySelector('#first');   InputElement lastElement = querySelector('#last');   name.first = firstElement.value;   name.last = lastElement.value;   objectory.initDomainModel().then((_){     name.save();     return;   }).then((_) {     objectory.close();   });   display(name); } </code></pre>  <p>And here is my web page:</p>  <pre><code>&lt;!DOCTYPE html&gt; &lt;!--   Copyright (c) 2015, &lt;your name&gt;. All rights reserved. Use of this source code   is governed by a BSD-style license that can be found in the LICENSE file. --&gt;  &lt;html&gt; &lt;head&gt;     &lt;meta charset="utf-8"&gt;     &lt;meta http-equiv="X-UA-Compatible" content="IE=edge"&gt;     &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;     &lt;meta name="scaffolded-by" content="https://github.com/google/stagehand"&gt;     &lt;title&gt;hybrid_dart&lt;/title&gt;     &lt;link rel="stylesheet" href="styles.css"&gt;     &lt;script async src="main.dart" type="application/dart"&gt;&lt;/script&gt;     &lt;script async src="packages/browser/dart.js"&gt;&lt;/script&gt; &lt;/head&gt;  &lt;body&gt;   &lt;div id="output"&gt;&lt;/div&gt;   &lt;p&gt;&lt;label for="first"&gt;First name:&lt;/label&gt;&lt;input type="text" id="first" name="first"&gt;&lt;/p&gt;   &lt;p&gt;&lt;label for="last"&gt;Last name:&lt;/label&gt;&lt;input type="text" name="last" id="last"&gt;&lt;/p&gt;   &lt;p&gt;&lt;button id="btn" name="btn" title="Insert"&gt;Insert&lt;/button&gt;&lt;/p&gt;   &lt;ul id="names"&gt;   &lt;/ul&gt; &lt;/body&gt; &lt;/html&gt; </code></pre>  <p>Does anybody have any ideas?</p>