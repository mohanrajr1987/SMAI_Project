<p>My company has a project with customer that we have to integrate OpenAM to current web Java app.</p>  <p>Basically, we have a Java web app run by Tomcat. The user authentication and authorization is check at the web app. Now we use OpenAm to handle all those things. So when we request a url on browser, it will redirect to OpenAm to check authentication and authorization. If successfully, it will redirect back to web app with user uid (user id) inside request header. The web app take the uid and get all user information from web app database.</p>  <p>We use IIS web server, so we install IIS-connector to connect IIS and Tomcat. And we also install IIS7 Web Policy Agency to connect IIS and OpenAm. And we have 2 big problems: 1. After setup IIS, IIS7 Web Policy Agency, OpenAM, when we request a url, it cannot redirect to OpenAm to check authen and autho. The environment is Windows 7, IIS7 and IIS7 Web Policy Agency. 2. When we change to Apache (instead of IIS), we install Apache Web Agency Policy, when request a url, it redirect to OpenAm, after login to OpenAM it redirect back to the Web App, but inside header, it've just have <code>iplanetDirectory</code> token in cookie, and don't have <code>uid</code> info in header.</p>  <p>Tomorrow we will setup the development environment again, so i will give detail about the setting and the log.</p>  <p>Thanks you a lot.</p>  <p>OpenAM: <a href="http://openam.forgerock.org/docs.html" rel="nofollow">enter link description here</a></p>