<p>I would to like to count pulses using timer peripheral TIM in a STM32F429I-Disco board. I have initialized the TIM3 as:</p>  <pre><code>  TIM_SlaveConfigTypeDef sSlaveConfig;   TIM_MasterConfigTypeDef sMasterConfig;    htim3.Instance = TIM3;   htim3.Init.Prescaler = 0;   htim3.Init.CounterMode = TIM_COUNTERMODE_UP;   htim3.Init.Period = 1000;   htim3.Init.ClockDivision = TIM_CLOCKDIVISION_DIV1;   HAL_TIM_Base_Init(&amp;htim3);    sSlaveConfig.SlaveMode = TIM_SLAVEMODE_EXTERNAL1;   sSlaveConfig.InputTrigger = TIM_TS_TI2FP2;   sSlaveConfig.TriggerPolarity = TIM_TRIGGERPOLARITY_RISING;   sSlaveConfig.TriggerFilter = 15;   HAL_TIM_SlaveConfigSynchronization(&amp;htim3, &amp;sSlaveConfig);    sMasterConfig.MasterOutputTrigger = TIM_TRGO_UPDATE;   sMasterConfig.MasterSlaveMode = TIM_MASTERSLAVEMODE_DISABLE;   HAL_TIMEx_MasterConfigSynchronization(&amp;htim3, &amp;sMasterConfig); </code></pre>  <p>and in the MSP it's like this:</p>  <pre><code>if (htim-&gt;Instance == TIM3) {     GPIO_InitTypeDef   GPIO_InitStruct;     __TIM3_CLK_ENABLE();      GPIO_InitStruct.Pin = GPIO_PIN_4;     GPIO_InitStruct.Mode = GPIO_MODE_INPUT;     GPIO_InitStruct.Pull = GPIO_NOPULL;     GPIO_InitStruct.Speed = GPIO_SPEED_HIGH;     GPIO_InitStruct.Alternate = GPIO_AF2_TIM3;     HAL_GPIO_Init(GPIOB, &amp;GPIO_InitStruct); } </code></pre>  <p>I understand that it's a timer set in the pin PB4 and that it's triggered by pulses in this pin. </p>  <p>What I would like is to count this pulses, something like this:</p>  <pre><code>while(1) {     uint8_t buffer[128];     int numberSize = snprintf((char*)buffer, 128, "%d",(int) __HAL_TIM_GetCounter(&amp;htim3));     writeStrOnCell(buffer, numberSize, 0, 0);      HAL_Delay(500); } </code></pre>  <p>But nothing is working...I'm not getting the pulses. I connect the PB4 to PA0 that is high when I push the user button.</p>  <p>Thanks</p>