<p>In my activity I have this:</p>  <pre><code>protected void onStart() {     super.onStart();     blc = new BluetoothClient(this); }  protected void onStop() {     super.onStop();     try {         blc.close();     } catch (IOException e) { }     blc = null; } </code></pre>  <p>This is the class that has the receiver: (Just the important parts)</p>  <pre><code>public class BluetoothClient implements Closeable {      final BroadcastReceiver receiver;     Context context;     ...      public BluetoothClient(Context context) {         this.context = context.getApplicationContext();         receiver = new BroadcastReceiver() {             @Override             public void onReceive(Context context, Intent intent) {             }         };         context.registerReceiver(receiver, new IntentFilter(BluetoothAdapter.ACTION_STATE_CHANGED));         ...     }      ...      public void close() throws IOException {         try {             context.unregisterReceiver(receiver); // Causes IllegalArgumentException         } catch (Exception e) {             e.printStackTrace();         }     } } </code></pre>  <p>I get <code>java.lang.IllegalArgumentException: Receiver not registered</code> every time in BluetoothClient.close. How can I do this correctly.</p>  <p><strong>Edit:</strong> added all the code (it is probably too much to look through at a glance)</p>  <p>full code (except main activity, forgot about that) is here: <a href="http://pastebin.com/aVit2L8M" rel="nofollow">http://pastebin.com/aVit2L8M</a></p>  <p>main activity: <a href="http://pastebin.com/6Ww8sKwE" rel="nofollow">http://pastebin.com/6Ww8sKwE</a></p>