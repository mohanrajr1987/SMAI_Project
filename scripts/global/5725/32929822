<p>I'm trying create a table which containts two foreign keys of the same table but an error "Error 1215 - Cannot add foreign key constraint" is displayed. Which may be the cause of this error?</p>  <p>Bellow the code:</p>  <pre><code>create table if not exists programacao( num_voo     numeric(3), dat_voo     date, num_prefixo varchar(5),  constraint pk_programacao     primary key (num_voo, dat_voo), constraint fk_programacao_aeronave     foreign key (num_prefixo)     references aeronave(num_prefixo)     on update restrict     on delete restrict, constraint fk_programacao_voo     foreign key (num_voo)     references voo(num_voo)     on update restrict     on delete restrict     )engine="innodb";  create table if not exists equipe_voo( num_voo         numeric(3), dat_voo         date, cod_tripulante  varchar(5),  constraint pk_equipe_voo     primary key (num_voo, dat_voo, cod_tripulante), constraint fk_equipe_voo_programacao     foreign key (num_voo)references programacao(num_voo)     on update restrict     on delete restrict, constraint fk_equipe_voo_programacao     foreign key (dat_voo) references programacao(dat_voo)     on update restrict     on delete restrict )engine="innodb"; </code></pre>