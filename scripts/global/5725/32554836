<p>i did these two tasks separately but now i am not being able to use both of these tasks at a single place.</p>  <p>Problem statement:</p>  <p>I have a table name <code>Business_items</code> having foreign keys of table <code>business</code> and <code>items</code>. In model class here is the relation function.</p>  <pre><code> public function relations()         {             // NOTE: you may need to adjust the relation name and the related             // class name for the relations automatically generated below.             return array(                 'business' =&gt; array(self::BELONGS_TO, 'Business', 'business_id'),                 'items' =&gt; array(self::BELONGS_TO, 'Items', 'items_id'),                 'itemReviews' =&gt; array(self::HAS_MANY, 'ItemReview', 'business_items_id'),             );         } </code></pre>  <p>ok, in create business page, i have two fields, <code>business name, items name</code> and a third thing which is <code>upload image</code>. Both of the fields are searchable drop downs. I am taking business name and items name with the help of foreign keys. so i can see the values inside my <code>business_items</code> which were used to be keys. i did this by changing this code.</p>  <pre><code>    public function actionCreate()     {             $model=new PackageItems;              // Uncomment the following line if AJAX validation is needed             // $this-&gt;performAjaxValidation($model);              if(isset($_POST['PackageItems']))             {    $temp=$model-&gt;items_id=$_POST['PackageItems']['items_id']; //items_id is a multiple list field                           foreach($temp as $t)                           {                              $model-&gt;unsetAttributes();                              $model-&gt;setIsNewRecord(true);                                $model-&gt;package_id=$_POST['PackageItems']['package_id']; //package_id is a repeated field                               $model-&gt;items_id=$t;                           $model-&gt;insert();                          }                 if($model-&gt;save())                     $this-&gt;redirect(array('admin','id'=&gt;$model-&gt;id));             }              $this-&gt;render('create',array(             'model'=&gt;$model,             ));         }  </code></pre>  <p>so what i wanted i actually accomplished which was      id----items----package     1------cake-----buy one get one free     2----- pastry-----buy one get one free</p>  <p>second part: I know how to upload image in yii, i followed this link and it worked <code>http://www.yiiframework.com/wiki/349/how-to-upload-image-photo-and-path-entry-in-database-with-update-functionality/</code> separately now the problem is i want something like that</p>  <pre><code> id----items----package-----------------------image     1------cake-----buy one get one free------1.jpg     2----- pastry-----buy one get one free------1.jpg </code></pre>  <p>but the problem is </p>  <pre><code>public function actionCreate()     {         $model=new Banner;  // this is my model related to table         if(isset($_POST['Banner']))         {             $rnd = rand(0,9999);  // generate random number between 0-9999             $model-&gt;attributes=$_POST['Banner'];              $uploadedFile=CUploadedFile::getInstance($model,'image');             $fileName = "{$rnd}-{$uploadedFile}";  // random number + file name             $model-&gt;image = $fileName;              if($model-&gt;save())             {                 $uploadedFile-&gt;saveAs(Yii::app()-&gt;basePath.'/../banner/'.$fileName);  // image will uplode to rootDirectory/banner/                 $this-&gt;redirect(array('admin'));             }         }         $this-&gt;render('create',array(             'model'=&gt;$model,         ));     } </code></pre>  <p>how can i use both of these codes (getting value using foreign key code and picture uploading code) i want to upload pictures as well as get the value from some other table using foreign key with my code. I know its complicated but i need help. Thanks and sorry in advance.</p>