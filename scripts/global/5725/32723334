<p>I have two entities: <code>User</code> and <code>Teen</code>. <code>User</code>'s Primary Key is a String (email). I could already import <code>User</code> entity into <code>Teen</code>. Now I'm struggling to make the imported <code>User</code> entity be the PrimaryKey of <code>Teen</code>.</p>  <p>User.java</p>  <pre><code>@Entity @Table(name = "User") public class User implements Serializable {      @Id     private String email;      .... other stuffs } </code></pre>  <p>Teen.java</p>  <pre><code>@Entity @Table(name = "Teen") public class Teen implements Serializable {      @Id     @OneToOne(cascade = CascadeType.ALL, fetch = FetchType.LAZY, orphanRemoval = true)     private User user;      .... other stuffs } </code></pre>  <p>I have already research and read about <code>@PrimaryKeyJoinColumn</code> annotation. I tried to add it on <code>User</code> object of <code>Teen</code> but without success as well..</p>  <p>How would I make the FK <code>User</code> in <code>Teen</code> be also the PK of such Entity?</p>  <p><strong>EDIT</strong></p>  <p>Adding log exception when I added <code>@PrimaryKeyJoinColumn</code> to User object in Teen. </p>  <p>I get the following exception when initializing my server.</p>  <pre><code>2015-09-22 14:56:21 ERROR DispatcherServlet:474 - Context initialization failed org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [com/capstone/server/config/PersistenceJPAConfig.class]: Invocation of init method failed; nested exception is java.lang.NullPointerException     at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1553)     at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:539)     at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:475)     at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:304)     at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228)     at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)     at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:195)     at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:973)     at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:750)     at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:482)     at org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:643)     at org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:606)     at org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:657)     at org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:525)     at org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:466)     at org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:136)     at javax.servlet.GenericServlet.init(GenericServlet.java:158)     at org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1231)     at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1144)     at org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:1031)     at org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:4913)     at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5200)     at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)     at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1409)     at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1399)     at java.util.concurrent.FutureTask.run(FutureTask.java:262)     at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)     at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)     at java.lang.Thread.run(Thread.java:745) Caused by: java.lang.NullPointerException     at org.hibernate.cfg.annotations.TableBinder.bindFk(TableBinder.java:396)     at org.hibernate.cfg.ToOneFkSecondPass.doSecondPass(ToOneFkSecondPass.java:117)     at org.hibernate.cfg.Configuration.processEndOfQueue(Configuration.java:1596)     at org.hibernate.cfg.Configuration.processFkSecondPassInOrder(Configuration.java:1519)     at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1420)     at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1844)     at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl$4.perform(EntityManagerFactoryBuilderImpl.java:850)     at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl$4.perform(EntityManagerFactoryBuilderImpl.java:843)     at org.hibernate.boot.registry.classloading.internal.ClassLoaderServiceImpl.withTccl(ClassLoaderServiceImpl.java:397)     at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:842)     at org.hibernate.jpa.HibernatePersistenceProvider.createContainerEntityManagerFactory(HibernatePersistenceProvider.java:150)     at org.hibernate.ejb.HibernatePersistence.createContainerEntityManagerFactory(HibernatePersistence.java:67)     at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:318)     at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:318)     at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1612)     at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1549)     ... 28 more Sep 22, 2015 2:56:21 PM org.apache.catalina.core.ApplicationContext log SEVERE: StandardWrapper.Throwable org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [com/capstone/server/config/PersistenceJPAConfig.class]: Invocation of init method failed; nested exception is java.lang.NullPointerException     at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1553)     at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:539)     at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:475)     at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:304)     at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228)     at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)     at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:195)     at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:973)     at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:750)     at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:482)     at org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:643)     at org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:606)     at org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:657)     at org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:525)     at org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:466)     at org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:136)     at javax.servlet.GenericServlet.init(GenericServlet.java:158)     at org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1231)     at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1144)     at org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:1031)     at org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:4913)     at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5200)     at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)     at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1409)     at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1399)     at java.util.concurrent.FutureTask.run(FutureTask.java:262)     at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)     at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)     at java.lang.Thread.run(Thread.java:745) Caused by: java.lang.NullPointerException     at org.hibernate.cfg.annotations.TableBinder.bindFk(TableBinder.java:396)     at org.hibernate.cfg.ToOneFkSecondPass.doSecondPass(ToOneFkSecondPass.java:117)     at org.hibernate.cfg.Configuration.processEndOfQueue(Configuration.java:1596)     at org.hibernate.cfg.Configuration.processFkSecondPassInOrder(Configuration.java:1519)     at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1420)     at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1844)     at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl$4.perform(EntityManagerFactoryBuilderImpl.java:850)     at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl$4.perform(EntityManagerFactoryBuilderImpl.java:843)     at org.hibernate.boot.registry.classloading.internal.ClassLoaderServiceImpl.withTccl(ClassLoaderServiceImpl.java:397)     at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:842)     at org.hibernate.jpa.HibernatePersistenceProvider.createContainerEntityManagerFactory(HibernatePersistenceProvider.java:150)     at org.hibernate.ejb.HibernatePersistence.createContainerEntityManagerFactory(HibernatePersistence.java:67)     at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:318)     at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:318)     at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1612)     at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1549)     ... 28 more  Sep 22, 2015 2:56:21 PM org.apache.catalina.core.StandardContext loadOnStartup SEVERE: Servlet [appServlet] in web application [/WebServer] threw load() exception java.lang.NullPointerException     at org.hibernate.cfg.annotations.TableBinder.bindFk(TableBinder.java:396)     at org.hibernate.cfg.ToOneFkSecondPass.doSecondPass(ToOneFkSecondPass.java:117)     at org.hibernate.cfg.Configuration.processEndOfQueue(Configuration.java:1596)     at org.hibernate.cfg.Configuration.processFkSecondPassInOrder(Configuration.java:1519)     at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1420)     at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1844)     at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl$4.perform(EntityManagerFactoryBuilderImpl.java:850)     at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl$4.perform(EntityManagerFactoryBuilderImpl.java:843)     at org.hibernate.boot.registry.classloading.internal.ClassLoaderServiceImpl.withTccl(ClassLoaderServiceImpl.java:397)     at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:842)     at org.hibernate.jpa.HibernatePersistenceProvider.createContainerEntityManagerFactory(HibernatePersistenceProvider.java:150)     at org.hibernate.ejb.HibernatePersistence.createContainerEntityManagerFactory(HibernatePersistence.java:67)     at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:318)     at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:318)     at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1612)     at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1549)     at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:539)     at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:475)     at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:304)     at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228)     at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)     at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:195)     at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:973)     at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:750)     at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:482)     at org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:643)     at org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:606)     at org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:657)     at org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:525)     at org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:466)     at org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:136)     at javax.servlet.GenericServlet.init(GenericServlet.java:158)     at org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1231)     at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1144)     at org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:1031)     at org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:4913)     at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5200)     at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)     at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1409)     at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1399)     at java.util.concurrent.FutureTask.run(FutureTask.java:262)     at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)     at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)     at java.lang.Thread.run(Thread.java:745) </code></pre>  <p><strong>EDIT2</strong></p>  <p>With the current model (without using <code>@PrimaryKeyJoinColumn</code> annotation, I get the following exception when adding my entity User to database:</p>  <pre><code>2015-09-22 15:18:16 ERROR SqlExceptionHelper:146 - Cannot add or update a child row: a foreign key constraint fails (`web_server`.`Teen`, CONSTRAINT `FK_f7kgbqek2wmptkcq2wvo56bcc` FOREIGN KEY (`user_email`) REFERENCES `User` (`email`)) Sep 22, 2015 3:18:16 PM org.apache.catalina.core.StandardWrapperValve invoke SEVERE: Servlet.service() for servlet [appServlet] in context with path [/WebServer] threw exception [Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement] with root cause com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Cannot add or update a child row: a foreign key constraint fails (`web_server`.`Teen`, CONSTRAINT `FK_f7kgbqek2wmptkcq2wvo56bcc` FOREIGN KEY (`user_email`) REFERENCES `User` (`email`))     at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)     at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)     at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)     at java.lang.reflect.Constructor.newInstance(Constructor.java:526)     at com.mysql.jdbc.Util.handleNewInstance(Util.java:411)     at com.mysql.jdbc.Util.getInstance(Util.java:386)     at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1041)     at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4237)     at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4169)     at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2617)     at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2778)     at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2834)     at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:2156)     at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2441)     at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2366)     at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2350)     at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:187)     at org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:62)     at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3124)     at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3581)     at org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:103)     at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:461)     at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:347)     at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:350)     at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:56)     at org.hibernate.internal.SessionImpl.flush(SessionImpl.java:1222)     at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:425)     at org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction.beforeTransactionCommit(JdbcTransaction.java:101)     at org.hibernate.engine.transaction.spi.AbstractTransactionImpl.commit(AbstractTransactionImpl.java:177)     at org.hibernate.jpa.internal.TransactionImpl.commit(TransactionImpl.java:77)     at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:515)     at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:757)     at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:726)     at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:478)     at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:272)     at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:95)     at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)     at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:207)     at com.sun.proxy.$Proxy36.persist(Unknown Source)     at com.capstone.server.controller.LoginController.registerFormSubmit(LoginController.java:119)     at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)     at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)     at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)     at java.lang.reflect.Method.invoke(Method.java:606)     at org.springframework.web.method.support.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:214)     at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:132)     at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104)     at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandleMethod(RequestMappingHandlerAdapter.java:748)     at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:689)     at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:83)     at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:945)     at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:876)     at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:931)     at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:833)     at javax.servlet.http.HttpServlet.service(HttpServlet.java:648)     at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:807)     at javax.servlet.http.HttpServlet.service(HttpServlet.java:729)     at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:291)     at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)     at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)     at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239)     at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)     at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:219)     at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:106)     at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)     at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:142)     at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)     at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:610)     at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:88)     at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:518)     at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1091)     at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:668)     at org.apache.coyote.http11.Http11NioProtocol$Http11ConnectionHandler.process(Http11NioProtocol.java:223)     at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1517)     at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1474)     at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)     at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)     at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)     at java.lang.Thread.run(Thread.java:745) </code></pre>  <p>And bellow is the code snipped when I call persist method:</p>  <pre><code>            // sets the User of the Teen since I get "Converting             // circular structure to JSON" exception in jQuery when             // I try to set the User for the Teen and vice-versa.             if (user.getType().equals(UserType.TEEN)) {                 Teen teen = user.getTeen();                 teen.setUser(user);             }              userDao.persist(user); </code></pre>