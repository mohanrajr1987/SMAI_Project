<p>I am using foreign keys, unfortunately in the case bellow I am not able to solve the mismatch... What am I missing? The tebles are created by:</p>  <pre><code>CREATE TABLE IF NOT EXISTS `devices` (     `guid`  BLOB NOT NULL,     `device_name`   TEXT NOT NULL,     `class` INTEGER NOT NULL );  CREATE TABLE IF NOT EXISTS `device_states` (     `guid_d`    BLOB NOT NULL,     `id_d`  TEXT DEFAULT NULL,     `tp`    INTEGER NOT NULL,     `state` INTEGER NOT NULL,     `note`  TEXT DEFAULT NULL,     `status`    INTEGER NOT NULL DEFAULT 0,     PRIMARY KEY(`guid_d`,`tp`),     FOREIGN KEY(`guid_d`) REFERENCES devices ( `guid` ) ON DELETE RESTRICT ); CREATE INDEX IF NOT EXISTS idx_ds_tp ON device_states(`tp`);  INSERT OR IGNORE INTO `devices` VALUES (x'438D6E77DC3946A4819617ADBA18ADB2','guid_door', 1); </code></pre>  <p>The select bellow works as expected:</p>  <pre><code>SELECT * FROM `devices` WHERE guid = x'438D6E77DC3946A4819617ADBA18ADB2'; </code></pre>  <blockquote>   <p>1 Rows returned from: SELECT * FROM <code>devices</code> WHERE guid = x'438D6E77DC3946A4819617ADBA18ADB2'; (took 1ms)</p> </blockquote>  <p>However, when I try to insert data to <em>devices</em> table, I get the error...</p>  <pre><code>INSERT INTO device_states (guid_d, id_d, tp, state, note, status)  VALUES (x'438D6E77DC3946A4819617ADBA18ADB2', "D", 132456, 1, "door open", 2); </code></pre>  <blockquote>   <p>foreign key mismatch - "device_states" referencing "devices": INSERT   INTO device_states (guid_d, id_d, tp, state, note, status) VALUES   (x'438D6E77DC3946A4819617ADBA18ADB2', "D", 132456, 1, "door open", 2);</p> </blockquote>  <p>Does anybody see the issue??? Thanks a lot!</p>