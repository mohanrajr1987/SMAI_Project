<pre><code>//This task copies the test Jars     task testJar(type: Jar, dependsOn: testClasses) {         from sourceSets.test.output         classifier = 'test'     }     String location     task testing(type: Copy) {         if (project.hasProperty('pdir')) {             if (pdir.equalsIgnoreCase("AMD64")) {                 location = "$destroot/$pdir/tests/win_x64/src/vfms/vcloudsuite/java/test/com/veritas/netbackup/vcloudsuite/tags/$pdir"             }             else if (pdir.equalsIgnoreCase("hpia64")) {                 location = "${destroot}_tests/hp_ia64/src/vfms/vcloudsuite/java/test/com/veritas/netbackup/vcloudsuite/tags/$pdir"             }             else {                 location = "${destroot}_tests/$pdir/src/vfms/vcloudsuite/java/test/com/veritas/netbackup/vcloudsuite/tags/$pdir"                 println "$location"             }         } else {             location = "$buildDir"             println "$location"         }         from libsDir         into location         //into libsDir     }      //This task copies the test Jars     task copyTestJarWithDependency(type: Copy) {         from configurations.testRuntime         into location         println "ankit location is : $location"         //into libsDir     } </code></pre>  <p>I have above task written in gradle to create all the test jars and the dependencies needed and put it in package location and running following command to run unit test</p>  <pre><code>/usr/openv/java/jre/bin/java -cp /usr/openv/nbu_test/linuxR_x86/src/java/test/linuxR_x86_2.6.18/lib/\*:/usr/openv/lib/java/\* -Dant.home=/usr/openv/nbu_test/linuxR_x86/src/java/test/linuxR_x86_2.6.18/lib org.apache.tools.ant.Main -f /usr/openv/nbu_test/linuxR_x86/junit.xml </code></pre>  <p>I got this error followed by other</p>  <pre><code>[junit] Running com.netbackup.nbfeds.controller.FedsControllerTest [junit] Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 0.075 sec [junit] Test com.netbackup.nbfeds.controller.FedsControllerTest FAILED [junit] Running com.netbackup.nbfeds.dao.FedsDaoJdbcTest [junit] Exception in thread "main" java.lang.ArrayStoreException: sun.reflect.annotation.TypeNotPresentExceptionProxy [junit]     at sun.reflect.annotation.AnnotationParser.parseClassArray(AnnotationParser.java:724) [junit]     at sun.reflect.annotation.AnnotationParser.parseArray(AnnotationParser.java:531) [junit]     at sun.reflect.annotation.AnnotationParser.parseMemberValue(AnnotationParser.java:355) [junit]     at sun.reflect.annotation.AnnotationParser.parseAnnotation2(AnnotationParser.java:286) [junit]     at sun.reflect.annotation.AnnotationParser.parseAnnotations2(AnnotationParser.java:120) [junit]     at sun.reflect.annotation.AnnotationParser.parseAnnotations(AnnotationParser.java:72) [junit]     at java.lang.Class.createAnnotationData(Class.java:3513) [junit]     at java.lang.Class.annotationData(Class.java:3502) [junit]     at java.lang.Class.getAnnotations(Class.java:3438) [junit]     at org.junit.runner.Description.createSuiteDescription(Description.java:124) [junit]     at org.junit.internal.runners.ErrorReportingRunner.getDescription(ErrorReportingRunner.java:28) [junit]     at org.junit.runner.Runner.testCount(Runner.java:41) [junit]     at junit.framework.JUnit4TestAdapter.countTestCases(JUnit4TestAdapter.java:34) [junit]     at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:534) [junit]     at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1182) [junit]     at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1033) </code></pre>