<p>I am running multiple JUnit tests in parallel classes using Maven. I have clean up tasks that need to happen after all JUnit tests run. To handle this clean up, I am adding a shut down hook to a few tests. The shut down hook correctly executes when I am <strong>not</strong> running parallel, but I don't see the output (see example) from the shut down hook when I run parallel. Is there something I am doing wrong? Does the JVM exit using <code>System.exit</code> when executing in JUnit tests in parallel?</p>  <p>According to the Surfire documentation documentation, the parallel threads are executed in the same process, so I would expect Runtime.getRuntime to be the same process even if it is called between different tests and threads.  <a href="https://maven.apache.org/surefire/maven-surefire-plugin/examples/fork-options-and-parallel-execution.html" rel="nofollow">Maven Surfire Plugin - Fork Options and Parallel Test Execution</a></p>  <blockquote>   <p>The important thing to remember with the parallel option is: the   concurrency happens within the same JVM process. That is efficient in   terms of memory and execution time, but you may be more vulnerable   towards race conditions or other unexpected and hard to reproduce   behavior.</p> </blockquote>  <p>Here is an example from my unit test:</p>  <pre><code>@Test public void test() {     Runtime.getRuntime().addShutdownHook(new Thread()     {         @Override         public void run()         {             System.out.println("Test clean up triggered");         }     }); } </code></pre>  <p>Here is the relevant portion of my pom:</p>  <pre><code>&lt;plugin&gt;     &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;     &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;     &lt;version&gt;2.18.1&lt;/version&gt;     &lt;configuration&gt;         &lt;parallel&gt;classes&lt;/parallel&gt;         &lt;threadCount&gt;10&lt;/threadCount&gt;     &lt;/configuration&gt; &lt;/plugin&gt; </code></pre>  <p><strong>Edited:</strong> The problem is fixed when I add my shut down hook in the <code>@BeforeClass</code> method. When I add it in the <code>@Test</code> method, I have the problem. I would like to be able to add the hook at any time.</p>