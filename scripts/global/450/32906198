<p>I'm porting to windows with visual studio 2015 some code that builds in linux with gcc. </p>  <p>In VS I get the error error C2059: syntax error: '+=' when using the macro DEFOP with the parameter "+=", the same with the other parameters. This is the code:</p>  <pre><code>#define DEFOP(OP) \     Matrix&amp; Matrix::operator OP (const double&amp; val) { \         for (int i = 0; i &lt; _n; i++) { \             _data[i] OP val; \         } \     return *this; \     } \     Matrix&amp; Matrix::operator OP (const Matrix&amp; that) { \     if (_rows != _rows || _cols != that._cols) { \             throw Exception (String ( \                 "Matrix size mismatch in operation '%s': " \         "(%d,%d) vs. (%d,%d).", \                 __STRING(OP), _rows, _cols, that._rows, that._cols)); \     } \         for (int i = 0; i &lt; _n; i++) { \             _data[i] OP that._data[i]; \         } \     return *this; \     } DEFOP(+=); DEFOP(-=); DEFOP(*=); DEFOP(/=); #undef DEFOP </code></pre>  <p>Does anybody know how to modify this code so that it builds in VS?</p>