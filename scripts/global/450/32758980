<p>I need a working MAX macros (without(!) declaring main function) which assign 'r' the maximum of numbers 'a' and 'b'. This code breaks in compilation. How can it be fixed?</p>  <pre><code>#define MAX(x, y, r) ((x) &gt; (y) ? (r = x) : (r = y))  int x = 10; int y = 20; int r;  MAX(x, y, r); </code></pre>  <p>Thanks for watching!</p>  <p>UPD: Some revision to clear the full task: </p>  <pre><code>#import &lt;iostream&gt; #define MAX(x, y, r) ((x) &gt; (y) ? (r = x) : (r = y))  int x = 1; int y = 1; int r = 1;  int main() {     MAX(x++, y, r);     std::cout &lt;&lt; r;     return 0; } </code></pre>  <p>The result of this code is 1, and need to be 2. So I need another logic in my macros to consider all postfix increments</p>