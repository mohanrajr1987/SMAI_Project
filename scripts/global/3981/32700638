<p>I was getting the following error upon running a certain function: </p>  <pre><code>django.contrib.contenttypes.models.DoesNotExist: ContentType matching query does not exist. </code></pre>  <p>Based upon <a href="http://stackoverflow.com/questions/11672976/contenttype-matching-query-does-not-exist-on-post-syncdb">ContentType matching query does not exist on post_syncdb</a> I tried doing</p>  <pre><code>from django.contrib.contenttypes.management import update_all_contenttypes  update_all_contenttypes() # make sure all content types exist </code></pre>  <p>at the beginning of that function.</p>  <p>Of course, as <a href="http://stackoverflow.com/questions/29550102/importerror-cannot-import-name-update-all-contenttypes">ImportError: cannot import name update_all_contenttypes</a> mentions, update_all_contenttypes appears to have been silently removed in Django 1.8 , so that didn't work. Next I tried removing the above snippet and instead adding the following to the beginning of that function:</p>  <pre><code>from django.apps import apps from django.contrib.contenttypes.management import update_contenttypes  def update_all_contenttypes(**kwargs):     for app_config in apps.get_app_configs():         update_contenttypes(app_config, **kwargs)  update_all_contenttypes() </code></pre>  <p>(Other than the last line, i.e. update_all_contenttypes(), the snippet directly above this comes from <a href="http://stackoverflow.com/a/29550255/805141">http://stackoverflow.com/a/29550255/805141</a> ).</p>  <p>However, I'm still getting <code>django.contrib.contenttypes.models.DoesNotExist: ContentType matching query does not exist.</code></p>  <p>The line I'm getting that error on is <code>SomeObject.objects.all().delete()</code> </p>  <p>Here's the full stack trace:</p>  <pre><code>some_function()  Traceback (most recent call last):   File "&lt;input&gt;", line 1, in &lt;module&gt;   File "/path/to/app/models.py", line XXXX, in some_function     SomeObject.objects.all().delete()   File "/path/to/virtualenv/lib/python3.4/site-packages/django/db/models/query.py", line 536, in delete     collector.collect(del_query)   File "/path/to/virtualenv/lib/python3.4/site-packages/django/db/models/deletion.py", line 197, in collect     reverse_dependency=reverse_dependency)   File "/path/to/virtualenv/lib/python3.4/site-packages/django/db/models/deletion.py", line 97, in add     if not objs:   File /path/to/virtualenv/lib/python3.4/site-packages/django/db/models/query.py", line 166, in __bool__     self._fetch_all()   File "/path/to/virtualenv/lib/python3.4/site-packages/django/db/models/query.py", line 965, in _fetch_all     self._result_cache = list(self.iterator())   File "/path/to/virtualenv/lib/python3.4/site-packages/polymorphic/query.py", line 296, in iterator     real_results = self._get_real_instances(base_result_objects)   File "/path/to/virtualenv/lib/python3.4/site-packages/polymorphic/query.py", line 199, in _get_real_instances     real_concrete_class = base_object.get_real_instance_class()   File "/path/to/virtualenv/lib/python3.4/site-packages/polymorphic/polymorphic_model.py", line 105, in get_real_instance_class     model = ContentType.objects.get_for_id(self.polymorphic_ctype_id).model_class()   File "/path/to/virtualenv/lib/python3.4/site-packages/django/contrib/contenttypes/models.py", line 136, in get_for_id     ct = self.get(pk=id)   File "/path/to/virtualenv/lib/python3.4/site-packages/django/db/models/manager.py", line 127, in manager_method     return getattr(self.get_queryset(), name)(*args, **kwargs)   File "/path/to/virtualenv/lib/python3.4/site-packages/django/db/models/query.py", line 334, in get     self.model._meta.object_name django.contrib.contenttypes.models.DoesNotExist: ContentType matching query does not exist. </code></pre>