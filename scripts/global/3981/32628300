<p>I have the following stored procedure, But seems like the <code>#Temp</code> table is creating troubles in it. I get following error </p>  <blockquote>   <p>There is already an object named '#Temp' in the database.</p> </blockquote>  <p>I guess somethings wrong with my IF ELSE </p>  <p>Here is the stored procedure:</p>  <pre><code>create procedure spGetHOSalesReport @DateFrom datetime,@DateTo datetime,@EmbossLine varchar(20),@CountryID int,@status char(2)       AS      Set @DateTo = @DateTo +1      if(@status = 'E1') begin      Select PT.[ID] 'TransactionID', PT.BatchNumber, PT.SequenceNumber, PT.TransactionDate,      PT.TerminalID, PT.TotalAmount, PT.TransactionTypeID, TT.TransactionType,PT.PAN 'EmbossLine',PT.PreBalanceAmount, PT.PostBalanceAmount, RefTxnID, SettlementDate,PaidCash, CreditAmount, DiscountAmount,         RefPAN, PT.Remarks, '&amp;nbsp; ' + CashierCard as 'SupervisorCard',St.StoreID         into #Temp         from TempPOS_Transactions PT inner join TransactionType TT on TT.TransactionTypeID = PT.TransactionTypeID          inner join Staff St on St.CardNumber=PT.CashierCard           where           PT.[ID] not in (Select distinct isnull(TransactionID,0) from Testcards)               and (PT.TransactionDate &gt;= @DateFrom) and (PT.TransactionDate &lt; @DateTo)         and (PT.TransactionTypeID = 6) and (PT.BatchNumber = 0) and (Pt.SequenceNumber =-1)         select T.*, '&amp;nbsp; '+  C.EmbossLine+'&amp;nbsp;' as 'EmbossLine',  C.EmbossLine as 'EmbossLine1',         isnull(C.FirstName,'') +' '+ isnull(C.LastName,'') 'EmbossName',C.FirstName,C.LastName,City.CityName,Country.CountryName,Country.CurrencyName, PM.MerchantID, PM.MerchantName1, C.AccountNumber, C.VehicleNumber, C.ExpiryDate ,     case C.Status when 'E0' then 'Authorized' when 'E1' then 'Pending' end 'Status'         from #Temp T           inner join Card C on C.EmbossLine= T.EmbossLine         inner join Terminal on Terminal.TerminalID = T.TerminalID         inner join Merchant PM on  PM.MerchantID = Terminal.MerchantID         inner join City on City.CityID = PM.CityID         inner join Country on Country.CountryID = PM.CountryID          where C.Status &lt;&gt;'E3'          and C.CardID not in (Select distinct isnull(CardID,0) from Testcards)          and (C.EmbossLine like '%'+@EmbossLine+'%' or @EmbossLine like '-999')           and (PM.CountryID = @CountryID or @CountryID ='-999')          and (C.Status = @status)         order by T.TransactionDate, MerchantName1, T.BatchNumber, T.SequenceNumber      End  Else Begin      Select PT.[ID] 'TransactionID', PT.BatchNumber, PT.SequenceNumber, PT.TransactionDate,      PT.TerminalID, PT.TotalAmount, PT.TransactionTypeID, TT.TransactionType,PT.PAN 'EmbossLine',PT.PreBalanceAmount, PT.PostBalanceAmount, RefTxnID, SettlementDate,PaidCash, CreditAmount, DiscountAmount,         RefPAN, PT.Remarks, '&amp;nbsp; ' + CashierCard as 'SupervisorCard',St.StoreID         into #Temp         from POS_Transactions PT inner join TransactionType TT on TT.TransactionTypeID = PT.TransactionTypeID          inner join Staff St on St.CardNumber=PT.CashierCard           where PT.[ID] not in (Select distinct isnull(TransactionID,0) from Testcards) and (PT.TransactionDate &gt;= @DateFrom) and (PT.TransactionDate &lt; @DateTo)         and (PT.TransactionTypeID = 6) and (PT.BatchNumber = 0) and (Pt.SequenceNumber =-1)       select T.*, '&amp;nbsp; '+  C.EmbossLine+'&amp;nbsp;' as 'EmbossLine',  C.EmbossLine as 'EmbossLine1',         isnull(C.FirstName,'') +' '+ isnull(C.LastName,'') 'EmbossName',C.FirstName,C.LastName,City.CityName,Country.CountryName,Country.CurrencyName, PM.MerchantID, PM.MerchantName1, C.AccountNumber, C.VehicleNumber, C.ExpiryDate ,     case C.Status when 'E0' then 'Authorized' when 'E1' then 'Pending' end 'Status'         from #Temp T           inner join Card C on C.EmbossLine= T.EmbossLine         inner join Terminal on Terminal.TerminalID = T.TerminalID         inner join Merchant PM on  PM.MerchantID = Terminal.MerchantID         inner join City on City.CityID = PM.CityID         inner join Country on Country.CountryID = PM.CountryID          where C.Status &lt;&gt;'E3'          and C.CardID not in (Select distinct isnull(CardID,0) from Testcards)          and (C.EmbossLine like '%'+@EmbossLine+'%' or @EmbossLine like '-999')           and (PM.CountryID = @CountryID or @CountryID ='-999')          and (C.Status = @status)         order by T.TransactionDate, MerchantName1, T.BatchNumber, T.SequenceNumber     End      drop table #Temp  </code></pre>