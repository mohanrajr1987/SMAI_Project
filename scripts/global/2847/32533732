<p>I want to run a command on multiple servers using net/ssh gem in Ruby. All the host names are saved in a file, from the saved file I am reading host names one by one and want to  execute the command by using NEXEC.</p>  <p>Eg: For single host I ran this command</p>  <pre><code>$NEXEC="/data/bladelogic-7.3/bin/nexec"  $INSTANCE=`#{$NEXEC} hostname ls -ltr mypath`  </code></pre>  <p>How can do it for multiple hostnames by using NEXEC</p>  <p><strong>Below is my code:</strong></p>  <pre><code>require 'rubygems' require 'net/ssh' require 'net/ssh/multi' puts "Enter the username" @username=gets.chomp  File.open("path for multiple host file names","r") do |s| s.each_line do |line| Net::SSH.start(line.chomp,@username) do |ssh| result=ssh.exec!("ls -ltr") result1=`#{$NEXEC} line ls -ltr` puts result end end end </code></pre>  <p><strong>Error:</strong></p>  <p>Error accessing host line: Remote host is unknown</p>