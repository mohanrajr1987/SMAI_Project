<p>I am passing arguments to a Lua script and retrieving them using:</p>  <pre><code>local arg1, arg2 = ... </code></pre>  <p>Now I'd like to use a different syntax, with free ordering, such that I can call:</p>  <pre><code>./myscript.lua arg1=val1 arg2=val2 </code></pre>  <p>so I'm trying something like:</p>  <pre><code>args = ... params = {}  for i, k in pairs(args) do   p, v = split(a, "=")   params[p] = v end </code></pre>  <p>which doesn't work because <code>args</code> only gets the value of the first argument.</p>  <p>How can I retrieve all the arguments passed to the script in one go?</p>  <p>Note: the script is executed from C using <code>lua_pcall</code>.</p>