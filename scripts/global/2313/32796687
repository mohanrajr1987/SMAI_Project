<p>I have data frames with several columns  used for splitting data (let's say 2 for now) in addition to "x" and "y" columns. I would like to perform function such as scatter plot or lm on "x" and "y" after subseting through the 2 columns. </p>  <p>I have been storing the "mini" data after each subset and calling further loops until I get the "x" and "y" I required, but it gets complicated after 3 or more loops. Recently, I tried to create a 'key' variable that stores all possible combinations.</p>  <p>Is there an easy way to split data first and call the function? perhaps an extension of apply or aggregate, but all factors to go through all combinations.</p>  <pre><code>country &lt;- rep(c("Australia","UK"), 2, each = 6) gender &lt;- rep(c("M","F"),1, each = 12) X_height  &lt;- rep(seq(150,200,10),4) Y_weight  &lt;- c(seq(70,95,5),                 seq(71,96,5),                seq(65,90,5),                seq(66,91,5))    df &lt;- data.frame(country, gender, X_height, Y_weight)  df[,"Key"] &lt;- paste(df$country, df$gender, sep="_")  keys &lt;- unique(df$Key) par(mfrow = c(2,2)) sapply(1:length(keys), function(i){   with(subset(df, Key == keys[i]),plot(x = X_height, Y_weight, main = keys[i])) }) </code></pre>  <p>Thanks</p>