<p>I have an XML file with information on movies. I want my expression to return the directors in the XML that have directed more than 1 movie.</p>  <p>What I have now is:</p>  <pre><code>for $director in //director where count($director) &gt; 1 return $director  This does not produce anything.  </code></pre>  <p>What I'm trying to do is:</p>  <pre><code>For every director in the XML:  return director's name IF the director's name occurs more than once in //director </code></pre>  <p>How would you solve this problem?</p>  <p>Sample of the XML:</p>  <pre><code>&lt;result&gt;     &lt;videos&gt;         &lt;video id="id1235AA0"&gt;             &lt;title&gt;The Fugitive&lt;/title&gt;             &lt;genre&gt;action&lt;/genre&gt;             &lt;rating&gt;PG-13&lt;/rating&gt;             &lt;summary&gt;Tommy Lee Jones and Harrison Ford are the hunter and the hunted in this fast-paced story of a falsely convicted man who escapes to find his wife's true killer.&lt;/summary&gt;             &lt;details&gt;Harrison Ford and Tommy Lee Jones race through the breathless manhunt movie based on the classic TV series. Ford is prison escapee Dr. Richard Kimble, a Chicago surgeon falsely convicted of killing his wife and determined to prove his innocence by leading his pursuers to the one-armed man who actually commited the crime.&lt;/details&gt;             &lt;year&gt;1997&lt;/year&gt;             &lt;director&gt;Andrew Davis&lt;/director&gt;             &lt;studio&gt;Warner&lt;/studio&gt;             &lt;user_rating&gt;4&lt;/user_rating&gt;             &lt;runtime&gt;110&lt;/runtime&gt;             &lt;actorRef&gt;00000003&lt;/actorRef&gt;             &lt;actorRef&gt;00000006&lt;/actorRef&gt;             &lt;vhs&gt;13.99&lt;/vhs&gt;             &lt;vhs_stock&gt;206&lt;/vhs_stock&gt;             &lt;dvd&gt;14.99&lt;/dvd&gt;             &lt;dvd_stock&gt;125&lt;/dvd_stock&gt;             &lt;beta&gt;1.03&lt;/beta&gt;             &lt;beta_stock&gt;12&lt;/beta_stock&gt;             &lt;LaserDisk&gt;12.00&lt;/LaserDisk&gt;             &lt;LaserDisk_stock&gt;10&lt;/LaserDisk_stock&gt;         &lt;/video&gt;     &lt;/videos&gt; &lt;/result&gt; </code></pre>