<p>I'm sure there is an answer out there somewhere but I can't seem to find anything. I am trying to make it so when the user clicks on an item on the app menu it will start an intent to the phone's gallery to choose an image of their choice to change the background of the app rather than the pre-set background image. Is there a way of doing this.</p>  <p>Here is what code I have but when I run it on my phone, the app crashes.</p>  <pre><code>@Override public boolean onOptionsItemSelected(MenuItem item) {     // Handle action bar item clicks here. The action bar will     // automatically handle clicks on the Home/Up button, so long     // as you specify a parent activity in AndroidManifest.xml.     int id = item.getItemId();      //noinspection SimplifiableIfStatement     Intent sendIntent = null;     if (id == R.id.action_settings) {           sendIntent = new Intent();         sendIntent.setAction(Intent.ACTION_SEND);         sendIntent.putExtra(Intent.EXTRA_TEXT, "Try Out this new app...");         sendIntent.setType("text/plain");         startActivity(sendIntent);     }       PackageManager packageManager = getPackageManager();     List&lt;ResolveInfo&gt; activities =                   packageManager.queryIntentActivities(sendIntent, 0);     boolean isIntentSafe = activities.size() &gt; 0;       String title = getResources().getString(R.string.chooser_title);      Intent chooser = Intent.createChooser(sendIntent, title);       if (sendIntent.resolveActivity(getPackageManager()) != null) {         startActivity(chooser);     }        //noinspection SimplifiableIfStatement      if (id == R.id.change_background){     Intent pictureIntent = new Intent();     pictureIntent.setType("image/*");     pictureIntent.setAction(Intent.ACTION_GET_CONTENT);     startActivityForResult(Intent.createChooser(pictureIntent,  </code></pre>  <p>"Select Picture"), 0);</p>  <pre><code>}      return true; </code></pre>  <p>}}</p>