<p>I have a custom UITabBarController and I'm trying to dynamically remove items from it, depending on the user's settings.</p>  <p>Here is the first attempt:</p>  <pre><code>-(void) updateTabs {     NSMutableArray *tabs = [NSMutableArray arrayWithArray:self.viewControllers];     [tabs removeObjectAtIndex:3];     [self setViewControllers:tabs animated:YES]; } </code></pre>  <p>With this attempt, tab bar also gets messy, with the spacing not updating as expected until you click on the icons a few times.</p>  <p>Here is the second attempt:</p>  <pre><code>-(void) updateTabs {      NSMutableArray *tabs = [NSMutableArray arrayWithArray:self.viewControllers];     [tabs removeObjectAtIndex:3];     [self.tabBar setItems:tabs animated:YES]; } </code></pre>  <p>This attempt, the app terminates, with the error: 'Directly modifying a tab bar managed by a tab bar controller is not allowed.'</p>  <p>I'm not sure if this is relevant or not, but the code is called on a notification received here:</p>  <pre><code>[[NSNotificationCenter defaultCenter] addObserver:self     selector:@selector(updateTabs) name:@"SettingsUpdated" object:nil]; </code></pre>  <p>There are a few similar questions on StackOverflow, which tend to point to my two attempts above. Does anybody have any suggestions on the best way to get this working?</p>