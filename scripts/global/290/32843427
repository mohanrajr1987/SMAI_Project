<p>I am new to Python + MongoDB and currently working on a query to search for tweets (twitter_message) from a variety of profiles (twitter_profile) which are included in a list as a part of my masters dissertation. </p>  <p>I had a DB that used the following format:</p>  <pre><code> "_id": ObjectId("557830f2b9ba7a2e7425d8db")    "create_at": "null"    "id": 1620930714    "friendships": Array [0]    "versions": Array [2] </code></pre>  <p>And my query with this DB structure would be:</p>  <pre><code>for profile in listProfiles:      profile_id = db.mongo.get_one(collection='twitter_profile', where={'versions.screen_name':profile}, select={'id':True, '_id':0})                 listProfilesId.append(profile_id['id'])         AllTweetsFromProfile = []         for iProfile in range(0,len(listProfilesId)):         profile_id = listProfilesId[iProfile]         tweets = db.mongo.get_all(collection='twitter_message', where={'profile':profile_id}, select={'text':True, '_id':0})               for tweet in tweets:             AllTweetsFromProfile.append(tweet['text'])         tweetsProfile[listProfile[iProfile]] = AllTweetsFromProfile </code></pre>  <p>And it worked very fine until I changed the DB structure for something like this:</p>  <pre><code>    "_id": 61884410        "_cls": TwitterProfile        "versions": Array [2]        "relationships": Array [0]        "_alias": male </code></pre>  <p>So, keeping in mind that in this new DB I don't have the <code>id</code> field, the question is: What changes should I make to this query in order for this to work with my new DB?</p>  <p>I tried using only <code>_id</code> as in:</p>  <pre><code>for profile in listProfiles:      profile_id = db.mongo.get_one(collection='twitter_profile', where={'versions.screen_name':profile}, select={'_id':True})                 listProfilesId.append(profile_id['_id'])   </code></pre>  <p>But it doesn't seen to be quite right as I get an error:</p>  <blockquote>   <p>TypeError: 'NoneType' object has no attribute '<strong>getitem</strong>'</p> </blockquote>  <p>Thanks in advance for everyone trying to help and best regards,</p>