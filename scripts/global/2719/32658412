<p>I'm trying to understand if I can use stl allocators (<a href="http://www.drdobbs.com/the-standard-librarian-what-are-allocato/184403759" rel="nofollow">http://www.drdobbs.com/the-standard-librarian-what-are-allocato/184403759</a>) or any other C++ mechanism for my purpose.</p>  <p>I have a large memory block that I allocated myself.</p>  <p>I want to create an stl container like say map such that the container, including the keys and values stored in the container, are stored inside this memory block.</p>  <p>To be clear, when I say "the container, including the keys and values", I mean all the bits of memory that is would typically by allocated on the heap by the code inside the container. E.g. the graph structure, and the copies of the keys and values.</p>  <p>The storing of the map object itself (excluding the above-mentioned bits) in my memory block will be handled by me. Obviously I can't get something else to do that for me.</p>  <p>I realise that some of the replies may be "don't", but please humour me and assume that I have a good reason for wanting to store everything inside a memory block pre-allocated by me.</p>