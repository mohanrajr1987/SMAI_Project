<p>I know there is a thread on this site for creating a directory when using <code>cp</code> but my question is a little different. I want to copy a file in a new destination in linux, but some part of the path might not exist and I wanted to know whether it is possible to create that path without separating directory name from file name, for example, imagine I have a variable that contains the prefix for new files <code>$prefixdir</code> and I want every file to be copied in that location.</p>  <pre><code>prefixdir=/home/akj/newpath list="$(ls /somelocation...)" for l in $list do    cp -v $l "$prefixdir$l" done </code></pre>  <p>From the example it is obvious that there can be some directories that don't exist under new location and because of file names I can't use <code>mkdir "$prefixdir$l"</code>. I know I can separate file name from directory name and then use <code>mkdir</code> but I was wondering if there were an elegant way to do that.</p>  <p>EDIT:</p>  <p>To just clarify my question imagine I want to copy <code>/lib/tt/test.so</code> and my <code>$prefixdir</code> is <code>/home/akj/</code>. Also imagine that <code>lib/tt</code> doesn't exist, so my <code>cp</code> command would fail. I also can't use <code>mkdir -p</code> because of <code>test.so</code> in the path.</p>  <p>Thanks.</p>