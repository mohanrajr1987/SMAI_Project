<p>I'm trying to fix a bug in <a href="https://github.com/memoz/acd-scripts/blob/master/packer.sh" rel="nofollow">this crude script</a> that chokes on directory names containing single quotes. There's a <a href="https://stackoverflow.com/questions/18672629/regex-for-single-quote-within-single-quotes">similar question</a>, but it only escapes one single quote.</p>  <p>The SQL queries look like these:</p>  <pre><code>SELECT arc_no, password, status FROM summary WHERE arc_no = (SELECT name FROM dir_tree WHERE node_id = (SELECT parent_id FROM dir_tree WHERE name = '${bash_args[0]}'))::BIGINT SELECT arc_no, password, status FROM summary WHERE descr = '${bash_args[0]}' INSERT INTO summary (arc_no, act_size, dirs, files, status, password, descr) VALUES ('$arc_no', '${s_d_f[0]}', '${s_d_f[1]}', '${s_d_f[2]}', 'packing', '$a_pwd', '${bash_args[0]}') </code></pre>  <p>So a directory named "A's files concerning B's work" would generate:</p>  <pre><code>SELECT arc_no, password, status FROM summary WHERE descr = 'A's files concerning B's work' </code></pre>  <p>That would raise a syntax error.</p>  <p>To get this:</p>  <pre><code>SELECT arc_no, password, status FROM summary WHERE descr = 'A''s files concerning B''s work' </code></pre>  <p>Can I use sed and possibly covering directory names beginning or ending with single quotes? Or am I better off with more sophisticated languages such as python?</p>