<p>Hello I am trying to get a url from my api using the ngResource and I have a service that returns the resource. However when I call it inside my controller is gives me an error of Cannot read property 'query' of undefined.</p>  <p>Why is this happening? </p>  <p>This is my service : </p>  <p><div class="snippet" data-lang="js" data-hide="false"> <div class="snippet-code"> <pre class="snippet-code-js lang-js prettyprint-override"><code>(function() {    var app = angular.module('test');    app.service('ContactResource', ['$resource', function($resource) {        return $resource('/contacts/:firstname', {firstname: '@firstname'},         {           'update': {method: 'PUT'}         }       );   }]);  }());</code></pre> </div> </div> </p>  <p>This is my controller </p>  <p><div class="snippet" data-lang="js" data-hide="false"> <div class="snippet-code"> <pre class="snippet-code-js lang-js prettyprint-override"><code>(function() {    var app = angular.module('test');    app.controller('contactsCtrl', ['ContactResource', function($scope, Contacts, ContactResource) {     $scope.contacts = ContactResource.query();   }]);  }());</code></pre> </div> </div> </p>  <p>And this is my HTML </p>  <p><div class="snippet" data-lang="js" data-hide="false"> <div class="snippet-code"> <pre class="snippet-code-html lang-html prettyprint-override"><code>&lt;table class="table table-bordered"&gt;   &lt;thead&gt;     &lt;th&gt;Firstname &lt;input type="search" class="pull-right"&gt;&lt;/th&gt;   &lt;/thead&gt;   &lt;tbody&gt;     &lt;tr ng-repeat="contact in contacts"&gt;       &lt;td&gt;         &lt;a ng-href="/{{ contact.firstname }}"&gt;{{ contact.firstname }}&lt;/a&gt;       &lt;/td&gt;     &lt;/tr&gt;   &lt;/tbody&gt; &lt;/table&gt;</code></pre> </div> </div> </p>