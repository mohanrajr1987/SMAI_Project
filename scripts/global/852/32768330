<p>Knowing a <code>HierarchicalDataTemplate</code> is defined somewhere in the resource tree (i.e. it could be defined at the app level, in a <code>style</code>, in the window's resources or somewhere in the hierarchy of controls on that window), programmatically, how can you determine which <code>HierarchicalDataTemplate</code> will be applied for a particular data type relative to a specific control?</p>  <p>For instance, in the following example, given that we have an object of type Foo, how can we get the <code>HierarchicalDataTemplate</code> for it--which happens to be defined at the window level here--relative to MainTreeView?</p>  <pre><code>&lt;Window ... &gt;      &lt;Window.Resources&gt;          &lt;HierarchicalDataTemplate DataType="{x:Type Foo}"             ItemsSource="{Binding Children}"&gt;             &lt;TextBlock Text={Binding Name}" /&gt;         &lt;/HierarchicalDataTemplate&gt;       &lt;/Window.Resources&gt;      &lt;TreeView x:Name="MainTreeView" /&gt;  &lt;/Window&gt; </code></pre>  <p>I've tried the following but it returns null:</p>  <pre><code>var hdt = (HierarchicalDataTemplate)MainTreeView.FindResource(typeof(Foo)); </code></pre>