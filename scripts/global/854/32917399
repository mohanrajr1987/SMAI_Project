<p>I have an array (1,8760) which represents hourly loads. The loads are the same for each year and i wan to perform calculations for 20 years. So i tried to use repmat, toeplitz and trill in order to have a matrix with the latest load for each time. My main objective is to calculate the moving average using a geometricall scheme basically just calculate each F in the code below. The problem is than i cant use toeplitz for such a big array. Is there any other way?    </p>  <pre><code>Q=rand(1,8760); QB=repmat(Q,1,20); QG=toeplitz(QB); QC=tril(QG); F49=mean(QC(50:175200,49:50),2); F50=mean(QC(54:175200,51:54),2); F51=mean(QB(62:175200,55:62),2); F52=mean(QB(78:175200,63:78),2); F53=mean(QB(110:175200,79:110),2); F54=mean(QB(174:175200,111:174),2); F55=mean(QB(302:175200,175:302),2); F56=mean(QB(558:175200,303:558),2); F57=mean(QB(1070:175200,559:1070),2); F58=mean(QB(2094:175200,1071:2094),2); F59=mean(QB(4142:175200,2095:4142),2); F60=mean(QB(8238:175200,4143:8238),2); F61=mean(QB(16430:175200,8239:16430),2); F62=mean(QB(32814:175200,16431:32814),2); F63=mean(QB(65582:175200,32815:65582),2); F64=mean(QB(131118:175200,65583:131118),2); </code></pre>