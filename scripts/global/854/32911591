<p>This <a href="http://stackoverflow.com/questions/10485294/how-to-replace-inf-and-nan-with-zero-using-built-in-function">post</a> expalins how to get rid of Infs using the logic indexing. The problem is that I don't have an array; Infs are generated by an anonymous function. I have tried to get rid of them using embedded conditions, but it does not work properly replacing Inf by NaN. Below is my example:</p>  <pre><code>fun = @(x) 1./x.*(x~=0)+10.*(x==0) </code></pre>  <p>It is supposed to get 10 when x=0, but the output is NaN in this case, because <code>Inf.*0=NaN</code>. I will appreciate any suggestions.</p>