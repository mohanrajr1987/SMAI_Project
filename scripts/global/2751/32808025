<p>I use the cuda-gdb to check values of dcost and find that no copying was done by cudaMemcpy even though it returns <code>cudaSuccess</code>.</p>  <p>Here is my code:</p>  <pre><code>#include&lt;stdint.h&gt;  int main(){ int64_t nvtx_scale = ((int64_t)1)&lt;&lt;14;  uint64_t* cost = (uint64_t*)malloc(sizeof(uint64_t)*nvtx_scale);  for(int64_t i=0; i &lt; nvtx_scale; i++)     cost[i] = uint64_t(-1);  uint64_t* dcost; cudaMalloc(&amp;dcost, nvtx_scale*sizeof(uint64_t));  cudaError_t err;  err = cudaMemcpy(dcost, cost, sizeof(uint64_t)*nvtx_scale, cudaMemcpyHostToDevice); return 0; } </code></pre>  <p>Has this got anything to do with the fact that I set <code>CUDA_DEBUGGER_SOFTWARE_PREEMPTION=1</code> as suggested in the cuda-gdb documentation to allow debugging with the same gpu without stopping the display manager?</p>