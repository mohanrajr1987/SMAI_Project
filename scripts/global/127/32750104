<p>I'm using the following code to compare a string store in a <code>gchar</code> to a <code>char</code> array read from a file:</p>  <pre><code>while (fgets(line, sizeof line, config) != NULL)   {     printf("line content is %s",line+5);     printf("size of comparison: %i\n",g_utf8_strlen(active_selection,-1));     if (g_ascii_strncasecmp(line+5,active_selection,g_utf8_strlen(active_selection,-1)+1)==1)     {       printf("success \n\n");     }     else       printf("failure\n");   } </code></pre>  <p>the config file values are:</p>  <pre><code>set "hello" button "hello" "some text" button "phone" "more text" set "pmrs" button "test" "test even more text" </code></pre>  <p><code>printf()</code> shows the following values:</p>  <blockquote>   <p><code>line+5</code> = hello"<br>   <code>line+5</code> (second iteration) = on "hello"<br>   <code>active_selection</code> = hello<br>   <code>g_utf8_strlen(active_selection,-1)</code> = 5</p> </blockquote>  <p>What I was expecting was that the first iteration (<code>hello"</code>) would return <code>true</code> and the second would return <code>false</code> (on <code>"hello"</code>), thinking only the first 5 characters would be compared.</p>  <p>Apparently that is not the case since I always get the <code>else</code> statement executed (I used <code>printf</code> to test).</p>