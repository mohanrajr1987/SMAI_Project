<p>I have a project with 4 modules that is built against 3 versions of Apache Spark, one of these modules doesn't work on Spark 1.3.1 (because the feature API hasn't frozen yet). To do this, I first try to use this method:</p>  <p><a href="http://stackoverflow.com/questions/5539348/how-to-exclude-a-module-from-a-maven-reactor-build">How to exclude a module from a Maven reactor build?</a></p>  <p>Which only add the dependency to profiles that use other versions of Spark. But its incompatible with my nexus-staging-maven-plugin: even under these other profiles, the extra module being added into the module list won't be published to nexus central. Is there a way to add/remove a module in profile that can be published when it is included?</p>