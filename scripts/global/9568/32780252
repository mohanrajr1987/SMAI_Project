<p>I have been struggling with getting Integrated Windows Authentication using NTLM working fully through a reverse proxy for internal domain users as well as external users. My question in short is </p>  <blockquote>   <p>Has anyone succesfully got NTLM working through a reverse proxy?</p> </blockquote>  <p>I have read many posts about it including:</p>  <p><a href="http://stackoverflow.com/questions/4368453/how-to-enable-windows-authentication-through-a-reverse-proxy">How to enable windows authentication through a reverse proxy?</a></p>  <p><a href="http://stackoverflow.com/questions/7336201/windows-authentication-through-a-reverse-proxy-problem">Windows authentication through a reverse proxy problem</a></p>  <p>But am unable to get it working properly. Everything works apart from when I POST certain files. </p>  <p>The failure seems to be that the TCP connection is closed after the first POST (the response is a 401, the challenge part of the NTLM negotiation). I can see in the response headers </p>  <pre><code>Connection: closed </code></pre>  <p>The browser then never sends the second part of the negotiation that would include the </p>  <pre><code>Authorization: 'NTLM TI....etc' </code></pre>  <p>I think that the proxy may be closing the connection for some reason.</p>  <p>I have a 72kb file that always fails.  I cutout a lot of the content to make a 5kb file and a 3kb file.  The 5kb file fails intermittently The 3kb file always posts succesfully.</p>  <p>We have tried Apache, Nginx and sqid with out success and are now setting up HAProxy to try that. </p>  <p>Any help or advice would be much appreciated.</p>