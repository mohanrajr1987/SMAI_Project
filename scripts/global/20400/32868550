<p>I have a big n-square diagonal matrix, in the scipy's sparse DIA format (let's says n = 100000) <code> D_sparse = sprs.diags(np.ones(100000),0) </code></p>  <p>I'd like to retrieve the diagonal as a vector (in the numpy array)</p>  <p>But if I do <code>np.diag(D_sparse.toarray())</code>, I have a <code>MemoryError</code> because <code>D_sparse.toarray()</code> generate an huge array quasi-full of 0.</p>  <p>I there a method or a function to get directly the diagonal of <code>D_sparse</code> as an numpy array ?</p>