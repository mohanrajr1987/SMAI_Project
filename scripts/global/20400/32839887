<p>I tried the following sniplet of code, unfortunately it fails because the rank of something not documented by the pydoc of <code>connected_components</code> is not 1.</p>    <pre class="lang-py prettyprint-override"><code>import numpy from scipy.sparse import csc_matrix from sklearn.utils.sparsetools import connected_components  connected_components(numpy.ones(shape=(3,3), dtype=numpy.bool)) </code></pre>  <p>This results in this error:</p>  <pre class="lang-py prettyprint-override"><code>Traceback (most recent call last):   File "&lt;string&gt;", line 1, in &lt;module&gt;   File "_traversal.pyx", line 75, in sklearn.utils.mst._traversal.connected_components (sklearn/utils/sparsetools/_traversal.c:1495)   File "/usr/local/lib/python3.4/dist-packages/sklearn/utils/sparsetools/_graph_validation.py", line 50, in validate_graph     nan_null=nan_null)   File "_graph_tools.pyx", line 166, in sklearn.utils._graph_tools.csgraph_from_dense (sklearn/utils/sparsetools/_graph_tools.c:2601)   File "_graph_tools.pyx", line 70, in sklearn.utils._graph_tools.csgraph_from_masked (sklearn/utils/sparsetools/_graph_tools.c:1816)   File "/usr/local/lib/python3.4/dist-packages/scipy/sparse/compressed.py", line 88, in __init__     self.check_format(full_check=False)   File "/usr/local/lib/python3.4/dist-packages/scipy/sparse/compressed.py", line 156, in check_format     raise ValueError('data, indices, and indptr should be 1-D') ValueError: data, indices, and indptr should be 1-D </code></pre>  <p>On the other hand, this works:</p>  <pre class="lang-py prettyprint-override"><code>connected_components(csc_matrix(numpy.ones(shape=(3,3), dtype=numpy.bool))) #output: (1, array([0, 0, 0], dtype=int32)) </code></pre>  <p>Similarly, this also works:</p>  <pre class="lang-py prettyprint-override"><code>connected_components(numpy.zeros(shape=(3,3), dtype=numpy.bool)) #output: (1, array([0, 1, 2], dtype=int32)) </code></pre>  <p>The pydoc of <code>connected_components</code> states:</p>  <pre class="lang-py prettyprint-override"><code>graph : array_like or sparse   The N x N matrix representation of a directed or undirected graph.   If dense, then non-edges are indicated by zeros or infinities. </code></pre>  <p>This suggests that numpy.matrix (which I consider array_like or dense) is a valid input. What does this error-message mean? what does it mean for data, indices, and indptr to not have rank 1? I'm assuming the dense-matrix is converted into a sparse matrix, to allow faster or easier edge traversal, and hence the data, indices, indptr are used. Yet I could not deduce what the meaning of a rank for these 3 1-D structures should be (other than 0 or 1).</p>  <p>What does this error mean? Is this a bug, or is this PEBKAC?</p>  <p>Cheers!</p>