<p>I'm trying to output a stored procedure from Sql Server into an output of a coldfusion page.  The coldfusion page calls the stored procedure correctly, but only part of the data is returned (xml is truncated).  When I call the stored procedure within sql server, it gives the entire XML document with no fails.  I'm wondering if Coldfusion has a limit, or am I not working the code correctly. </p>  <p>Here's the stored procedure:</p>  <pre><code>USE [myschema] GO /****** Object:  StoredProcedure [dbo].[GEOIDKMLZIP]    Script Date: 9/18/2015 10:28:40 PM ******/ SET ANSI_NULLS ON GO SET QUOTED_IDENTIFIER ON GO ALTER PROCEDURE [dbo].[GEOIDKMLZIP] @Zip int AS DECLARE @kml XML DECLARE @kmlout NVARCHAR(MAX)  SELECT @kml = CAST(concat('&lt;?xml version="1.0" encoding="utf-16" ?&gt;', '&lt;kml xmlns="http://www.opengis.net/kml/2.2"&gt;', '&lt;Document&gt;', '       &lt;Style id="Licensed"&gt;             &lt;LineStyle&gt;                 &lt;color&gt;ff000000&lt;/color&gt;                 &lt;width&gt;2&lt;/width&gt;             &lt;/LineStyle&gt;             &lt;PolyStyle&gt;                 &lt;color&gt;1e1400FF&lt;/color&gt;                 &lt;fill&gt;1&lt;/fill&gt;                 &lt;outline&gt;1&lt;/outline&gt;             &lt;/PolyStyle&gt;         &lt;/Style&gt;         &lt;Style id="NotLicensed"&gt;             &lt;LineStyle&gt;                 &lt;color&gt;ff000000&lt;/color&gt;                 &lt;width&gt;2&lt;/width&gt;             &lt;/LineStyle&gt;             &lt;PolyStyle&gt;                 &lt;color&gt;1e14F0FF&lt;/color&gt;                 &lt;fill&gt;1&lt;/fill&gt;                 &lt;outline&gt;1&lt;/outline&gt;             &lt;/PolyStyle&gt;         &lt;/Style&gt;         &lt;Style id="Other"&gt;             &lt;LineStyle&gt;                 &lt;color&gt;ff000000&lt;/color&gt;                 &lt;width&gt;2&lt;/width&gt;             &lt;/LineStyle&gt;             &lt;PolyStyle&gt;                 &lt;color&gt;1e007800&lt;/color&gt;                 &lt;fill&gt;1&lt;/fill&gt;                 &lt;outline&gt;1&lt;/outline&gt;             &lt;/PolyStyle&gt;         &lt;/Style&gt;' , (             select                   '&lt;![CDATA[{"Zip":"' + z.ZipCode + '", "GEOID": "'+ z.GEOID+'"}]]&gt;' as name,                 case t.IsLicensed                     when 2 then '#Licensed'                     when 1 then '#NotLicensed'                     else '#Other'                 end as styleUrl,                  polygons as Geometry         from ZipCodeGEOID z         join Tracts t on t.GEOID = z.GEOID         join census_county_ref c on t.GEOID = c.GEOID         where z.ZipCode = @Zip FOR XML PATH('Placemark'), ELEMENTS), '&lt;/Document&gt;&lt;/kml&gt;') AS XML) -- -- Perform replacement of &amp;lt; and &amp;gt; with &lt; and &gt; respectively -- SET @kmlout = REPLACE(REPLACE(REPLACE(REPLACE(CAST(@kml AS NVARCHAR(MAX)), '&amp;lt;', '&lt;'), '&amp;gt;', '&gt;'), '&lt;Geometry&gt;', ''), '&lt;/Geometry&gt;', '') SET @kmlout = REPLACE(@kmlout, 'utf-16', 'utf-8') -- -- Return kmlout -- SELECT @kmlout as kml </code></pre>  <p>and here's zip2tractkml.cfm</p>  <pre><code>&lt;cfsetting showdebugoutput="yes"&gt; &lt;cfheader name="Content-Type" value="application/xml"&gt; &lt;cfstoredproc procedure="GEOIDKMLZIP" datasource="buyerhero"&gt;     &lt;cfprocparam value="#URL.ZIP#" cfsqltype="CF_SQL_INTEGER"&gt;      &lt;!--- One resultset is returned called "qEmployees" ---&gt;     &lt;cfprocresult name="response" resultset="1"&gt; &lt;/cfstoredproc&gt; &lt;cfset kml = XmlParse(response.kml)&gt; &lt;cfoutput&gt;#kml#&lt;/cfoutput&gt; </code></pre>  <p>I also tried just outputing the result with out the cfset:</p>  <pre><code>&lt;cfsetting showdebugoutput="yes"&gt; &lt;cfheader name="Content-Type" value="application/xml"&gt;  &lt;cfstoredproc procedure="GEOIDKMLZIP" datasource="buyerhero"&gt;     &lt;cfprocparam value="#URL.ZIP#" cfsqltype="CF_SQL_INTEGER"&gt;      &lt;!--- One resultset is returned called "qEmployees" ---&gt;     &lt;cfprocresult name="kml" resultset="1"&gt; &lt;/cfstoredproc&gt;  &lt;cfoutput&gt;#kml.kmlout#&lt;/cfoutput&gt; </code></pre>  <p>but I got the same response (truncated xml).  again, when I run this in SQL Server using: </p>  <pre><code>EXEC    [dbo].[GEOIDKMLZIP]         @Zip = N'53554'   GO </code></pre>  <p>It works like a charm, and the XML is formatted properly. What am I missing? Thanks</p>