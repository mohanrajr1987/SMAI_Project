<p>I'm designing a database that has, amongst others, the following entities:</p>  <pre><code>create table Director(     ID integer not null,     YearsExperience integer not null,     StudioAffiliation varchar(30),     NetWorth REAL,     primary key (ID) );  create table Movie(     ID varchar(20) not null,     Title varchar(40) not null,     Genre char(1) not null,     ReleaseDate date not null,     Earning real not null,     primary key (ID) ); </code></pre>  <p>Now Director and Movie have 2 relationship: Direct and WonAward. The later is to record whether a director has won an award or more with the movie he/she directed:</p>  <pre><code>create table Directs(     DirectorID integer not null,     MovieID varchar(20) not null,     primary key (DirectorID, MovieID),     foreign key (DirectorID) references Director (ID) on delete cascade,     foreign key (MovieID) references Movie (ID) on delete cascade );  create table WonAward(     DirectorID integer not null,     MovieID varchar(20) not null,     AwardName varchar(30) not null,     Year integer not null,     Budget REAL not null,     primary key (DirectorID, MovieID),     foreign key (DirectorID) references Director (ID) on delete cascade,     foreign key (MovieID) references Movie (ID) on delete cascade ); </code></pre>  <p>I need to make sure that a Director gets awards for only movies he/she has directed. Now I have tried using Check to achieve that but it keeps giving me error for the following 2 condition at the end of the WonAward relationship:</p>  <pre><code>check (DirectorID = (SELECT DirectorID FROM Directs WHERE Directs.MovieID = MovieID)),  check (MovieID = (SELECT MovieID FROM Directs WHERE Directs.DirectorID = DirectorID)) </code></pre>  <p>This is the error I keep getting:</p>  <pre><code>DB21034E  The command was processed as an SQL statement because it was not a  valid Command Line Processor command.  During SQL processing it returned: SQL0548N  A check constraint or generated column that is defined with "SELECT"  is invalid.  SQLSTATE=42621 </code></pre>  <p>Without these constraints I found out that a user can enter into a database an award won for a director for a movie that wasn't directed by them. How can I make this happen? </p>