<p>I wrote a simple C program for counting the number of commas in a string. It is a simple console C application done in Visual Studio 2010 Professional.</p>  <p>The string is read from a text file but the answer I get is always wrong. </p>  <p>After spending too many hours trying this and that, I am finally posting it here, hoping someone can help me out. I am pasting the code here and the sample line from the text file. Please take a look at it.</p>  <pre><code>#include &lt;stdio.h&gt; #include &lt;stdlib.h&gt; #include &lt;malloc.h&gt;  int main() { char *myline; FILE *outputf; int line_len=4800; int ncomas=0; int i=0;     int coma_count=0;              outputf = fopen("c:\\tmp\\tmp.csv","r+");             if (outputf == NULL)             {                 printf("Couldn't open csv file for writing.\n");                             }             else             {                                                                myline=(char *)calloc(1,line_len);                 while(fgets(myline,line_len,outputf) != NULL)                 {                     ncomas=0;                     for(i=0;i&lt;line_len;i++)                     {                         if(myline[i]==',')                         {                             ncomas++;                         }                     }                     printf("\nNo of commas is %d\n",ncomas);                 }                                fclose(outputf);             }             return; } </code></pre>  <p>Here is the sample line from file. Actual count is 159 but I am getting 216.</p>  <blockquote>   <p>-1, , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , ,   , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , ,   , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , ,   , , , , , , , , , , , , , , , , , , , ,</p> </blockquote>