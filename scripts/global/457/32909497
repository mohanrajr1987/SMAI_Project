<p>I have read and tried many solutions and nothing solved my problem.</p>  <p>I am generating a dll out of c++ code and want to display the printf() or the std::cout inside of a console window. For testing I just create a .exe out of the c++ code but that is not solving the problem!</p>  <p>I know that system("Pause") is a bad habit, but this is just an easy way to get the same problem. Instead of calling system("Pause") I'm doing a system()-call that is calling the cl.exe and is compiling a dll out of a .c file(Like: system("cl...). The generation of the dll out of the other c file is working without any problems. But after I called the system function for compiling the dll file the printf and std::out are not displaying the right text in the console window.</p>  <p>here is my example code that is screwing up the display of the right characters:</p>  <pre><code>#include "stdafx.h" #include &lt;iostream&gt; #include &lt;windows.h&gt;  int _tmain(int argc, _TCHAR* argv[]) {     AllocConsole();     freopen("CONOUT$", "w", stdout);      std::cout &lt;&lt; "Everything works fine\n";     // Calling the cl.exe by cmd...     system("Pause");     std::cout &lt;&lt; "now its strewd up the newline is not working\n" &lt;&lt; std::endl;     FreeConsole();     return 0; } </code></pre>  <p>Here is a picture of the output:</p>  <p><a href="http://i.stack.imgur.com/LIvVf.png" rel="nofollow"><img src="http://i.stack.imgur.com/LIvVf.png" alt="Output of the std::cout"></a></p>  <p>I tried the fflush before and after calling the system().</p>  <p>So here are my further thoughts:</p>  <ul> <li>Could I call the cl.exe by a CreateProcess and would that solve my problem?And when yes, how will I do that and to implement the environment variables out of the batch vcvars32.bat. So I want to create a dll out of a .c located both in the same folder.</li> <li>Or could write a batch file that is calling the whole cl.exe and vcvars32.bat file process.</li> <li>Or is there another way to display the values out of a dll instead of calling AllocConsole()?</li> </ul>  <p>I hope you can help me maybe I'm missing something!</p>