<p>I want to track user session to check for multiple logins by same user</p>  <p>The execution of my web app is as follows</p>  <p>In the below <strong>ServletContextListener</strong> I am initializing a <strong>java.util.Set</strong> to store all the active users and I am setting it to a ServletContext object so that it should be available to the whole web app</p>  <pre><code>@WebListener public class InitilizationClass implements ServletContextListener {      /**      * Default constructor.       */     public InitilizationClass() {         // TODO Auto-generated constructor stub     }      /**      * @see ServletContextListener#contextDestroyed(ServletContextEvent)      */     public void contextDestroyed(ServletContextEvent arg0)  {           // TODO Auto-generated method stub     }      /**      * @see ServletContextListener#contextInitialized(ServletContextEvent)      */     public void contextInitialized(ServletContextEvent arg0)  {           // TODO Auto-generated method stub         System.out.println("Setting initialization parameters");         Set&lt;ActiveUser&gt; allusers = new HashSet&lt;ActiveUser&gt;();         ServletContext sc = arg0.getServletContext();         sc.setAttribute("logins", allusers);     }  } </code></pre>  <p>Below is my <strong>Servlet</strong> code. When user enters a username and password, the username is set to the <strong>ActiveUser</strong> class which is a <strong>HttpSessionBindingListener</strong>. A HttpSession is initialized to store the ActiveUser object in session.</p>  <pre><code>protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {         String username=request.getParameter("username");         String password=request.getParameter("pass");                               ActiveUser user = new ActiveUser();                              user.setUserName(username);                              HttpSession session = request.getSession();                              if(session.isNew())                              {                                  session.setAttribute("userlogged", user);                              }                              else                              {                                  session.setAttribute("userlogged", user);                              }      } </code></pre>  <p>Now the setAttribbute in the above <strong>Servlet</strong> will invoke the valueBound method in the below class. In this method if the Set is empty the ActiveUser object will be added to the Set. But if it is a second login by the same user with same credentials it should just display message as "User already logged in with name (its username)". </p>  <pre><code>public class ActiveUser implements HttpSessionBindingListener {      private String username = null;     private String password = null;      public void setUserName(String uname)     {         this.username = uname;     }      public String getUserName()     {         return this.username;     }      @Override     public void valueBound(HttpSessionBindingEvent arg0) {         // TODO Auto-generated method stub          ServletContext sc = arg0.getSession().getServletContext();         ActiveUser session = (ActiveUser) arg0.getSession().getAttribute("userlogged");         Set&lt;ActiveUser&gt; user = (Set&lt;ActiveUser&gt;) sc.getAttribute("logins");         if(user.isEmpty())         {             System.out.println("A user session has been created");             user.add(session);             sc.setAttribute("logins", user);         }         else         {              for(ActiveUser users : user)             {                 System.out.println("Names "+users.getUserName()); // Null Pointer Exception                 if(session.getUserName().equals(users.getUserName()))                 {                     user.remove(users);                     System.out.println("User already logged in with name "+users.getUserName());                 }             }         }     }      @Override     public void valueUnbound(HttpSessionBindingEvent arg0) {         // TODO Auto-generated method stub      }  } </code></pre>  <p>I am getting a null pointer exception on line</p>  <pre><code>System.out.println("Names "+users.getUserName()); </code></pre>  <p>on <strong>second login</strong></p>