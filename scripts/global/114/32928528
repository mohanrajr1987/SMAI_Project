<p>I'm having a problem with <code>str_replace</code> within a while loop.</p>  <p><strong>I've created a couple of variables before a while loop:</strong></p>  <pre><code>$c = 0; // This represents the first object within an array EG: array[0] $i = 1; // This represents the first [image#] tag within $articleContent </code></pre>  <p>What I'm trying to achieve is, when the user inputs '<code>[image1], [image2], [image3]</code>' etc into the <code>$articleContent</code>, to replace the <code>[image#]</code> tags with an <code>&lt;img src=""/&gt;</code> containing the file path located within the unserialized array.</p>  <p>The <code>$images[$c]</code> variable is pointing to the file path with the id of [0] within the array.</p>  <p><strong>The issue:</strong></p>  <p>My expectations were that the loop would naturally count through each <code>$c</code> and <code>$i</code>, labeling each <code>[image#]</code> and array object accordingly, then replacing the <code>[image#]</code> tag with the <code>&lt;img src='images/$imageSplit[$i]'/&gt;</code>, however this has not been the case.</p>  <p><strong>The current functionality:</strong></p>  <p>Say I have three articles being echo'd by the loop. each with three <code>[image#]</code> tags in <code>[image1], [image2] and [image3]</code>. The first article will <strong>ONLY</strong> show the first image, the second article will only show the second image, and the third article will only show the third.</p>  <p>If anyone could point me in the right direction for the script to replace the image tags accordingly then that'd be much appreciated.</p>  <p><strong>Here is my code so far:</strong></p>  <pre><code>$sql = "SELECT * FROM articles"; $res = mysql_query($sql);  $i = 1; // [image#] $c = 0; // Array object # echo "&lt;br/&gt;&lt;br/&gt;"; while($row = mysql_fetch_assoc($res)){ $title = $row['title']; // Grabs the title $articles = $row['articleContent']; // Grabs the article $images = unserialize(base64_decode($row['image'])); $imageSplit[$i] = $images[$c]; // [image1] = array[0]  $articles = str_replace("[image$i]","&lt;img src='images/$imageSplit[$i]' width='300px' height='auto'/&gt;","$articles");  // str_replace is only applied once per loop  echo "Title: $title&lt;br/&gt; Content: $articles&lt;br/&gt; c = $c&lt;br/&gt; i = $i&lt;hr/&gt;";  // All variables, including $c and $i are both echoing out correctly, however $i is only being applied correctly once every loop  $c++; $i++; } </code></pre>