<p>I am developing an MVC 5 app for my company, and I am stuck on how to customize my login style. Here we go...</p>  <pre><code>public async Task&lt;ActionResult&gt; Login(LoginViewModel model, string userType)     {         bool checkLDAP = AuthenticateUser("corp.mycorp.go.id", model.UserName, model.Password);         if (ModelState.IsValid)         {             try             {                 if (userType== "01")                 {                     AuthenticationManager.SignOut(DefaultAuthenticationTypes.ApplicationCookie);                     var externalUser = await SignInManager.PasswordSignInAsync(model.UserName, model.Password, false, false);                     if (externalUser==SignInStatus.Success)                     {                             string idUser = ValidationHelper.GetIdUser(User.Identity.Name);                                                 string idRole = ValidationHelper.GetRoleCode(idUser);                         SessionHelper.SetSessionObject("ActiveRole", idRole);                         return RedirectToAction("Index", "Home");                     }                     else                     {                         ModelState.AddModelError("", "User not registered.");                         return View(model);                     }                  }                 else if (userType== "02" &amp;&amp; checkLDAP == true)                 {                     AuthenticationManager.SignOut(DefaultAuthenticationTypes.ApplicationCookie);                     ApplicationUser internalUser = await UserManager.FindByNameAsync(model.UserName);                      if (internalUser != null)                     {                         await SignInManager.SignInAsync(internalUser, false,                          string idUser = ValidationHelper.GetIdUser(User.Identity.Name);                         string idRole = ValidationHelper.GetRoleCode(idUser);                         SessionHelper.SetSessionObject("ActiveRole", idRole);                         return RedirectToAction("Index", "Home");                     }                     else                     {                         ModelState.AddModelError("", "User not registered.");                         return View(model);                     }                 }                 else                 {                     ModelState.AddModelError("", "Login Failed");                     return View(model);                 }             }             catch (Exception ex)             {                 ModelState.AddModelError("", ex.Message.Replace(Environment.NewLine, " "));                 return View(model);             }         }         else         {             ModelState.AddModelError("", "Login Failed");             return View(model);         }     } </code></pre>  <p>As you can see, I want to get the User Id with parameter <code>User.Identity.Name</code></p>  <pre><code>string idUser = ValidationHelper.GetIdUser(User.Identity.Name); </code></pre>  <p>But all I get is null. How can I solve this?</p>  <p>Update : Here my <code>AuthenticateUser</code> for userType 02</p>  <pre><code>public static bool AuthenticateUser(string pDomainName, string pUserID, string pPassword)     {         bool result = false;         string pServerMessage = "";         DirectoryEntry dir = new DirectoryEntry(string.Format("LDAP://{0}", pDomainName), pUserID, pPassword);         try         {             DirectorySearcher search = new DirectorySearcher(dir);             search.Filter = "(SAMAccountName=" + pUserID + ")";             search.PropertiesToLoad.Add("cn");             search.FindOne();             result = true;         }         catch (Exception ex)         {             pServerMessage = ex.Message;         }          return result;     } </code></pre>  <p>For userType 01, I using default RTM authentication.</p>