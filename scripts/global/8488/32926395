<p>I am trying to parse some text sot hat I can urlize (wrap with  tags) links that are not formatted.  Here's some example text:</p>  <pre><code>text = '&lt;p&gt;This is a &lt;a href="https://google.com"&gt;link&lt;/a&gt;, this is also a link where the text is the same as the link: &lt;a href="https://google.com"&gt;https://google.com&lt;/a&gt;, and this is a link too but not formatted: https://google.com&lt;/p&gt;' </code></pre>  <p>Here's what I have so far from <a href="https://djangosnippets.org/snippets/2072/" rel="nofollow">here</a>:</p>  <pre><code>from django.utils.html import urlize from bs4 import BeautifulSoup  ...  def urlize_html(text):      soup = BeautifulSoup(text, "html.parser")      textNodes = soup.findAll(text=True)     for textNode in textNodes:         urlizedText = urlize(textNode)         textNode.replaceWith(urlizedText)      return = str(soup) </code></pre>  <p>But this will also catch the middle link in the example causing it to be doubly wrapped in <code>&lt;a&gt;</code> tags.  The result are something like this:</p>  <pre><code>&lt;p&gt;This is a &lt;a href="https://djangosnippets.org/snippets/2072/" target="_blank"&gt;link&lt;/a&gt;, this is also a link where the test is the same as the link: &lt;a href="https://djangosnippets.org/snippets/2072/" target="_blank"&gt;&amp;lt;a href="https://djangosnippets.org/snippets/2072/"&amp;gt;https://djangosnippets.org/snippets/2072/&amp;lt;/a&amp;gt;&lt;/a&gt;, and this is a link too but not formatted: &amp;lt;a href="https://djangosnippets.org/snippets/2072/"&amp;gt;https://djangosnippets.org/snippets/2072/&amp;lt;/a&amp;gt;&lt;/p&gt; </code></pre>  <p>What can I do to <code>textNodes = soup.findAll(text=True)</code> so that it only contains text nodes that are not already wrapped in <code>&lt;a&gt;</code> tags?</p>