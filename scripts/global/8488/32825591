<pre><code>from bs4 import BeautifulSoup, Comment import re id = 1  def makeformat(path): global id html = open(path, "r", encoding="utf-8") soup = BeautifulSoup(html.read(), "lxml", from_encoding="utf-8") html.close()      with open("document.txt", "a", encoding="utf-8") as f:         path = str(path.replace("./document/", "").replace("\\", "/"))         f.write("&lt;DOC&gt;\n&lt;ID&gt; " + str(id) + " &lt;/ID&gt;\n")         f.write("&lt;URL&gt; http://" + path + " &lt;/URL&gt;\n")          if not(soup.title is None):             f.write("&lt;TITLE&gt;" + str(soup.title.get_text(strip=True)) + "&lt;/TITLE&gt;\n")          [tag.extract() for tag in soup.find_all(['script', 'style', 'noscript'])]         [comment.extract() for comment in soup.findAll(text=lambda text: isinstance(text, Comment))]          f.write("&lt;BODY&gt;\n")             for line in soup.body.strings:             f.write(re.sub("\s\s+", "\n", repr(line).rstrip()).replace("\'", "") + "\n")          f.write("\n&lt;/BODY&gt;\n&lt;/DOC&gt;\n\n")     id += 1 </code></pre>  <p>I want to make an XML format that uses a string in a body tag that can remove style, script, and comments.</p>  <p>I tried to remove the tags using BeautifulSoup4, but I encountered the following error:</p>  <blockquote>   <p>AttributeError: 'NoneType' object has no attribute 'next_element'</p> </blockquote>  <p>Why am I getting this error, and how can I solve it?</p>  <p>The code works if I don't run <code>extract()</code> to remove the tags.</p>