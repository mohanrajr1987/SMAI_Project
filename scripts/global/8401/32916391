<p>Ansible 1.9.2/latest. OS: CentOS 6.7/later  JAVA_HOME, PATH variable and all other things are setup correctly.</p>  <p>I have the following playbook runs in my perf_tests/tasks/main.yml. To just run this playbook run only, I'm using Ansible tags.</p>  <pre><code># Run JMeter tests - name: Run JMeter test(s) #  command: "export PATH={{ jdk_install_dir }}/bin:$PATH &amp;&amp; export JAVA_HOME={{ jdk_install_dir }} &amp;&amp; {{ jmeter_install_dir }}/bin/jmeter -n -t {{ common_download_dir}}/perf_tests/ProjectTest1.jmx -l {{ common_download_dir}}/perf_tests/log_jmeter_ProjectTest1.jtl"   command: export PATH={{ jdk_install_dir }}/bin:$PATH &amp;&amp; export JAVA_HOME={{ jdk_install_dir }} &amp;&amp; /apps/jmeter/apache-jmeter-2.13/bin/jmeter -n -t /tmp/perf_tests/ProjectTest1.jmx -l /tmp/perf_tests/log_jmeter_ProjectTest1.jtl   become_user: "{{ common_user }}"   tags:      - giga </code></pre>  <p>Files required by JMeter executable are present on the target machine and I'm using "command" module in ansible to start JMeter.</p>  <pre><code>[appuser@jmeter01 ~]$ ls -l /apps/jmeter/apache-jmeter-2.13/bin/jmeter /tmp/perf_tests/ProjectTest1.jmx -rwxr-xr-x. 1 appuser appgroup  5589 Mar  8  2015 /apps/jmeter/apache-jmeter-2.13/bin/jmeter -rw-r--r--. 1 appuser appgroup 50194 Oct  2 12:19 /tmp/perf_tests/ProjectTest1.jmx [appuser@jmeter01 ~]$  [appuser@jmeter01 ~]$ which java /apps/jdk/jdk1.7.0_67/bin/java </code></pre>  <p>When I'm running the above playbook run jmeter on a .jmx file to generate a a result .jtl file (using ANSIBLE), it's errors out with an error code 2 (as shown below): <strong><em>msg: [Errno 2] No such file or directory</em></strong></p>  <p><strong>ANSIBLE output:</strong></p>  <pre><code>TASK: [perf_tests | Run JMeter test(s)] *************************************** &lt;jmeter01.perf.jenkins&gt; ESTABLISH CONNECTION FOR USER: confman on PORT 22 TO jmeter01.perf.jenkins &lt;jmeter01.perf.jenkins&gt; REMOTE_MODULE command export PATH=/apps/jdk/jdk1.7.0_67/bin:$PATH &amp;&amp; export JAVA_HOME=/apps/jdk/jdk1.7.0_67 &amp;&amp; /apps/jmeter/apache-jmeter-2.13/bin/jmeter -n -t /tmp/perf_tests/ProjectTest1.jmx -l /tmp/perf_tests/log_jmeter_ProjectTest1.jtl &lt;jmeter01.perf.jenkins&gt; EXEC /bin/sh -c 'mkdir -p /tmp/ansible-tmp-1443821195.89-232957509929426 &amp;&amp; chmod a+rx /tmp/ansible-tmp-1443821195.89-232957509929426 &amp;&amp; echo /tmp/ansible-tmp-1443821195.89-232957509929426' &lt;jmeter01.perf.jenkins&gt; PUT /tmp/tmp6fAr1W TO /tmp/ansible-tmp-1443821195.89-232957509929426/command &lt;jmeter01.perf.jenkins&gt; EXEC /bin/sh -c 'chmod a+r /tmp/ansible-tmp-1443821195.89-232957509929426/command' &lt;jmeter01.perf.jenkins&gt; EXEC /bin/sh -c 'sudo -k &amp;&amp; sudo -H -S -p "[sudo via ansible, key=pkivlaidiolrcxvyxxixeysvrfkpvroy] password: " -u appuser /bin/sh -c '"'"'echo BECOME-SUCCESS-pkivlaidiolrcxvyxxixeysvrfkpvroy; LANG=en_US.UTF-8 LC_CTYPE=en_US.UTF-8 /usr/bin/python /tmp/ansible-tmp-1443821195.89-232957509929426/command'"'"'' &lt;jmeter01.perf.jenkins&gt; EXEC /bin/sh -c 'rm -rf /tmp/ansible-tmp-1443821195.89-232957509929426/ &gt;/dev/null 2&gt;&amp;1' failed: [jmeter01.perf.jenkins] =&gt; {"cmd": "export PATH=/apps/jdk/jdk1.7.0_67/bin:/sbin:/bin:/usr/sbin:/usr/bin '&amp;&amp;' export JAVA_HOME=/apps/jdk/jdk1.7.0_67 '&amp;&amp;' /apps/jmeter/apache-jmeter-2.13/bin/jmeter -n -t /tmp/perf_tests/ProjectTest1.jmx -l /tmp/perf_tests/log_jmeter_ProjectTest1.jtl", "failed": true, "rc": 2} msg: [Errno 2] No such file or directory  FATAL: all hosts have already failed -- aborting  PLAY RECAP ******************************************************************** </code></pre>  <p>The <strong>"cmd"</strong> above in ansible's -vvvv verbose output shows, everything is getting passed/expanded successfully by Ansible for calling the jmeter command but it's failing.</p>  <p><strong>IF</strong> I go to the remote machine (jmeter01) and "appuser" and run the command, it works fine and successfully creates the -l option provided .jtl result file.</p>  <pre><code>[appuser@jmeter01 ~]$ /apps/jmeter/apache-jmeter-2.13/bin/jmeter -n -t /tmp/perf_tests/ProjectTest1.jmx -l /tmp/perf_tests/log_jmeter_ProjectTest1.jtl Creating summariser &lt;summary&gt; Created the tree successfully using /tmp/perf_tests/ProjectTest1.jmx Starting the test @ Fri Oct 02 17:23:50 EDT 2015 (1443821030343) Waiting for possible shutdown message on port 4445 summary =    240 in   4.4s =   54.0/s Avg:    82 Min:     2 Max:  1113 Err:     0 (0.00%) Tidying up ...    @ Fri Oct 02 17:23:55 EDT 2015 (1443821035009) ... end of run [appuser@jmeter01 ~]$ ls -l /tmp/perf_tests total 80 -rw-r--r--. 1 appuser appgroup 50194 Oct  2 12:19 ProjectTest1.jmx -rw-r--r--. 1 appuser appgroup 22412 Oct  2 17:23 log_jmeter_ProjectTest1.jtl drwxr-xr-x. 3 appuser appgroup  4096 Oct  2 12:19 META-INF [appuser@jmeter01 ~]$ </code></pre>  <p>I'm stumped why JMeter is erroring out with this error while running it with Ansible!!! ?</p>