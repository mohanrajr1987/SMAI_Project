<p>So this is another messaging UI in Swift. I have tried many ways but I just can't get the text to adjust to user input(expand it self to multiline) I have this inputAccessoryView to hold my input text view and a send button.</p>  <pre><code>override var inputAccessoryView: UIView! {     get {         if toolBar == nil {             toolBar = UIToolbar(frame: CGRectMake(0, 0, 0, 45))              textView = UITextView(frame: CGRectZero)             textView.delegate = self             textView.scrollsToTop = false             textView.textContainerInset = UIEdgeInsets(top: 4, left: 3, bottom: 3, right: 3)             toolBar.addSubview(textView)              sendButton = UIButton.init(type: .System) as UIButton             sendButton.contentEdgeInsets = UIEdgeInsets(top: 6, left: 6, bottom: 6, right: 6)             toolBar.addSubview(sendButton)              textView.translatesAutoresizingMaskIntoConstraints = false             sendButton.translatesAutoresizingMaskIntoConstraints = false             toolBar.addConstraint(NSLayoutConstraint(item: textView, attribute: .Left, relatedBy: .Equal, toItem: toolBar, attribute: .Left, multiplier: 1, constant: 8))             toolBar.addConstraint(NSLayoutConstraint(item: textView, attribute: .Top, relatedBy: .Equal, toItem: toolBar, attribute: .Top, multiplier: 1, constant: 7.5))             toolBar.addConstraint(NSLayoutConstraint(item: textView, attribute: .Right, relatedBy: .Equal, toItem: sendButton, attribute: .Left, multiplier: 1, constant: -5))             toolBar.addConstraint(NSLayoutConstraint(item: textView, attribute: .Bottom, relatedBy: .Equal, toItem: toolBar, attribute: .Bottom, multiplier: 1, constant: -8))             toolBar.addConstraint(NSLayoutConstraint(item: sendButton, attribute: .Right, relatedBy: .Equal, toItem: toolBar, attribute: .Right, multiplier: 1, constant: 0))             toolBar.addConstraint(NSLayoutConstraint(item: sendButton, attribute: .Bottom, relatedBy: .Equal, toItem: toolBar, attribute: .Bottom, multiplier: 1, constant: -4.5))         }         return toolBar     } } </code></pre>  <p>The tool bar and the containing textview and buttons are showing correctly. However, I am having trouble to make them grow as user type in more than one line Below is one method I tried but not working</p>  <pre><code>func textViewDidChange(textView: UITextView) {  var newHeight = textView.sizeThatFits(CGSize(width: textView.frame.width, height: CGFloat.max)).height  toolBar.frame.size.height = newHeight+8*2-0.5    } </code></pre>  <p>I also tried sizeToFit but not working either.</p>