<p>I have a UITextView subclass. In -insertText: and -deleteBackward I call registerUndoWithTarget:selector:object:. For insertText: this work fine. The undo button undos typing just as expected. But when I undo deleteBackward it undos the last delete and selects the restored text and shows the cut/copy/paste toolbar instead of undo/redo/paste. To undo the next delete I need to long press to clear the selection.</p>  <p>Any ideas why this is?</p>  <p>Here's the relevant code:</p>  <pre><code>- (void)insertText:(NSString *)text {     [super insertText:text];      [self.undoManager registerUndoWithTarget:self selector:@selector(handleUndo:) object:self.attributedText];     [self.undoManager setActionName:NSLocalizedString(@"DHSpokenTextView_Undo_Insert", @"DHSpokenTextView_Undo_Insert")]; }  - (void)deleteBackward {     [super deleteBackward];      [self.undoManager registerUndoWithTarget:self selector:@selector(handleUndo:) object:self.attributedText];     [self.undoManager setActionName:NSLocalizedString(@"DHSpokenTextView_Undo_Delete", @"DHSpokenTextView_Undo_Delete")]; }  -(void) handleUndo: (id) sender{ } </code></pre>