<p>I'm trying to invoke a WCF service (.NET) through PHP, and am running into issues. It's a little more complicated than just using a SoapClient since the service uses a 'WS2007FederationHttpBinding' to authenticate.</p>  <p>Here's the code I'm using at the moment. I haven't even added credentials as I'm not sure how, but regardless I'm not even at the point where I'm getting access denied errors. Seems to be other things keeping me from making progress:</p>  <pre><code>$wsdl = "https://slc.centershift.com/sandbox40/StoreService.svc?wsdl"; $client = new SoapClient($wsdl,array(          //'soap_version'=&gt;SOAP_1_2 // default 1.1, but this gives 'Uncaught SoapFault exception: [HTTP] Error Fetching http headers'         )); $params = array(); $params['SiteID'] = 123; $params['GetPromoData'] = false;  $ret = $client-&gt;GetSiteUnitData(array('GetSiteUnitData_Request'=&gt;$params)); print_r($ret); </code></pre>  <p>1) Which wsdl should I be pointing to?</p>  <ul> <li><a href="https://slc.centershift.com/Sandbox40/StoreService.svc" rel="nofollow">https://slc.centershift.com/Sandbox40/StoreService.svc</a><strong>?wsdl</strong> Seems to be very short, but includes a reference to (note the 'wsdl0')? <a href="https://slc.centershift.com/Sandbox40/StoreService.svc" rel="nofollow">https://slc.centershift.com/Sandbox40/StoreService.svc</a><strong>?wsdl=wsdl0</strong></li> <li>or <a href="https://slc.centershift.com/Sandbox40/StoreService.svc" rel="nofollow">https://slc.centershift.com/Sandbox40/StoreService.svc</a><strong>?singleWsdl</strong> seems to have everything in it.</li> </ul>  <p>2) Do I need to specify Soap1.2? When I do, I get a connection timeout (<em>[HTTP] Error Fetching http headers</em>). When I don't, and the default of Soap 1.1 is used, I get a <em>[HTTP] Cannot process the message because the content type 'text/xml; charset=utf-8' was not the expected type 'application/soap+xml; charset=utf-8</em>'. Is this because I'm not authenticated yet, or because I'm using the wrong Soap version?</p>  <p><strong>UPDATE on 1 and 2. If I call $client->__getFunctions(), using either WSDL, and either Soap version, I'm getting a valid list of all functions, so I'm assuming either of these is fine and my real issue is authentication below?</strong></p>  <p>3) How do I go about authenticating in PHP? Here's the corresponding .NET/C# code. Do I need to somehow put these as soap headers? Or am I thinking about it all wrong, and I need to do some kind of authentication before I even call the method (from what I read, I'm supposed to get a token back which I then use for all future method calls - I think I see an example of this in Answer #2 of <a href="http://stackoverflow.com/questions/24492352/the-binding-to-use-to-communicate-to-the-federation-service-at-url-is-not-specif">The binding to use to communicate to the federation service at url is not specified</a>). <a href="http://i.stack.imgur.com/oeRGE.png" rel="nofollow"><img src="http://i.stack.imgur.com/oeRGE.png" alt="enter image description here"></a></p>  <p>Note - some other programmers I've talked to have spent time trying to get this to work, but gave up and instead implemented a proxy in .net. They pass their parameters in PHP to their own unsecured .NET service, which in turn calls this secure service. It works, but seems crazy ineffecient to me, and counter-productive as the purpose of WCF is supposed to support all types of clients (even non-http!).</p>  <p>I've read MS docs, but seem to be no help: <a href="https://msdn.microsoft.com/en-us/library/aa347982(v=vs.110).aspx" rel="nofollow">How to: Create a WSFederationHttpBinding</a></p>  <p>Help, I'm stuck! Thanks in advance for everyone's tips.</p>