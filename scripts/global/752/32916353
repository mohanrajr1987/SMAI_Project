<p>I have a WCF service which provides an endpoint to dynamically generate a QR-Code image. The image is first written to a memory stream <code>tempStream</code>. I then have the following code in the endpoint:</p>  <pre><code>HttpResponse response = HttpContext.Current.Response; response.Clear(); response.ClearContent(); response.ClearHeaders();  response.Buffer = false; response.ContentType = "image/png"; response.CacheControl = "No-Cache";  response.AddHeader("Content-Length", tempStream.Length.ToString()) response.AddHeader("Accept-Ranges", "bytes");  tempStream.WriteTo(response.OutputStream);  response.Flush(); response.End(); </code></pre>  <p>It works fine in Firefox. The image is downloaded if I hit the endpoint manually and it loads inline if I reference the endpoint as the <code>src</code> attribute in an <code>img</code> tag. However, in IE, the image does not load inline in an <code>img</code> tag, and if I try to hit the endpoint manually, it loads the full image the first time but any subsequent refreshes (seemingly until the browser is restarted), it only loads part of the image.</p>  <p>Upon inspection of the network tab in the F12 window, it seems to be downloading exactly 1.00 KB of data (including headers) from the server, meaning it gets about 750 KB of image data. Then it makes another identical request to the server and gets only the headers back with no image data. The <code>Content-Length</code> header is set correctly to the size of the image; IE just doesn't download that much. Again, Firefox is fine.</p>  <p>My coworker recommended that I set <code>transferMode</code> to <code>Streamed</code> in <code>Web.config</code>, which I did, but that didn't work either. How can I get IE to download the entire image in one go?</p>  <p><strong>EDIT:</strong></p>  <p>I should note that when running the WCF service in Visual Studio's IIS Express server, Internet Explorer works fine. It is only when the application is deployed to IIS 7.5 that the problem occurs. Firefox works fine in both environments.</p>