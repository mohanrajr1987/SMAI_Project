<p>my app implements MKMapview which displays annotations and clusters annotations if there are a lot of annotations (I use <a href="https://github.com/infinum/FBAnnotationClustering/blob/master/README.md" rel="nofollow">FBAnnotations</a> ). The clustering of annotations works fine until, you drag an annotation on the edge of the screen. What happens is that sometimes: (1) my counter detects a 'location' in visibleMapRect but doesn't display any annotation (clustered or single annotation) (2) display all the annotation but the numbers (total) doesnt tally (the total number of annotations versus the number that my counter detects).  **NOTE: The value of my counter depends on the 'locations' that are inside the visibleMapRect.</p>  <p>Here's what I have so far: In my map class - </p>  <pre><code>(void)mapView:(MKMapView *)mapView regionDidChangeAnimated:(BOOL)animated {     visibleJobs = [[NSMutableArray alloc]init];     [[NSOperationQueue new] addOperationWithBlock:^{         double scale = self.bounds.size.width / self.visibleMapRect.size.width;         NSLog(@"Map Bounds width:%f", self.bounds.size.width);         NSLog(@"Visible map rect width:%f", self.visibleMapRect.size.width);         dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^{             NSArray *annotations = [clusteringManager clusteredAnnotationsWithinMapRect:mapView.visibleMapRect withZoomScale:scale];             [clusteringManager displayAnnotations:annotations onMapView:mapView];              //i use this for the counter             for(NSDictionary* loc in ar) {                 if([[loc objectForKey:@"sub_slots"] objectForKey:@"latitude"] == [NSNull null] || [[loc objectForKey:@"sub_slots"] objectForKey:@"longitude"] == [NSNull null]) {                     latitude = [NSNumber numberWithDouble:0.0f];                     longitude = [NSNumber numberWithDouble:0.0f];                 }                 else {                     latitude = [[loc objectForKey:@"sub_slots"] objectForKey:@"latitude"];                     longitude = [[loc objectForKey:@"sub_slots"] objectForKey:@"longitude"];                      CLLocationCoordinate2D coordinate;                     coordinate.latitude = [latitude doubleValue];                     coordinate.longitude = [longitude doubleValue];                      CLLocationDegrees Lat = coordinate.latitude;                     CLLocationDegrees longt = coordinate.longitude;                     CLLocationCoordinate2D point = CLLocationCoordinate2DMake(Lat, longt);                      MKMapPoint mkPoint = MKMapPointForCoordinate(point);                      if([latitude doubleValue] == 0.0f || [longitude doubleValue] == 0.0f) {                      }                     else {                         BOOL contains = MKMapRectContainsPoint(mapView.visibleMapRect, mkPoint);                         if(contains) {                             NSLog(@"Contains:1");                             [visibleJobs addObject:loc];                         }                         else {                             NSLog(@"Contains:0");                         }                     }                 }             }             dispatch_async(dispatch_get_main_queue(), ^(void) {                 //Stop your activity indicator or anything else with the GUI                 //Code here is run on the main thread                  if(visibleJobs.count != temp) {                     jobViewRef.title = [NSString stringWithFormat:@"Nearby Jobs (%ld/%lu)", (unsigned long)visibleJobs.count, (unsigned long)visibleLocation.count];                      temp = (unsigned long)visibleJobs.count;                 }                 else {                     jobViewRef.title = [NSString stringWithFormat:@"Nearby Jobs (%ld/%lu)", (unsigned long)visibleJobs.count, (unsigned long)visibleLocation.count];                 }                 NSMutableArray *copyVisibleJobs = [visibleJobs copy];                  [[NSUserDefaults standardUserDefaults]setObject:[NSKeyedArchiver archivedDataWithRootObject:copyVisibleJobs] forKey:@"locationInMKMap"];                 [[NSUserDefaults standardUserDefaults]synchronize];             });         });     }];    } } </code></pre>  <p>I have bangin' my head on the wall for a month now. Any help will be very much appreciated.</p>