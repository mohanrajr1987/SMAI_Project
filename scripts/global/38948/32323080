<p>I have a map that is displaying all restaurant objects. I'm trying to pass the restaurant object to the map annotation so that i can display a detail view with all the restaurant info. After researching,  I'm trying to create a class that conforms to  protocols, however I haven't been able to place the annotation in the map. Here is my code:</p>  <h1>RestaurantAnnotationClass.h (custom class):</h1>  <pre><code>#import &lt;Foundation/Foundation.h&gt; #import &lt;MapKit/MapKit.h&gt; #import "Restaurant.h"  static NSString *restaurantAnnotationIdentifier = @"restaurantAnnotationIdentifier";  @interface RestaurantAnnotation : NSObject &lt;MKAnnotation&gt;  @property (copy, nonatomic) NSString *title; @property (copy, nonatomic) NSString *subtitle; @property (nonatomic) CLLocationCoordinate2D coordinate; @property (nonatomic, strong) Restaurant *restaurant;   - (id)initWithTitle:(NSString *)newTitle subtitle:(NSString *)newSubtitle restaurant:(Restaurant *)newRestaurant location:(CLLocationCoordinate2D)location;  - (MKAnnotationView *)annotationView;  @end </code></pre>  <h1>RestaurantAnnotationClass.m</h1>  <pre><code>    #import "RestaurantAnnotation.h"  @implementation RestaurantAnnotation    - (id)initWithTitle:(NSString *)newTitle subtitle:(NSString *)newSubtitle restaurant:(Restaurant *)newRestaurant location:(CLLocationCoordinate2D)location {      self = [super init];     if (self) {         self.title = newTitle;         self.coordinate = location;         self.subtitle = newSubtitle;         self.restaurant = newRestaurant;      }      return self; }  - (MKAnnotationView *)annotationView {      MKAnnotationView *annotationView = [[MKAnnotationView alloc] initWithAnnotation:self reuseIdentifier:restaurantAnnotationIdentifier];     annotationView.enabled = YES;     annotationView.canShowCallout = YES;     annotationView.rightCalloutAccessoryView = [UIButton buttonWithType:UIButtonTypeDetailDisclosure];      return annotationView;  }  @end </code></pre>  <h1>My view Controller with the map</h1>  <pre><code>- (NSArray *)convertRestaurantToMKAnnotationsFromArray:(NSArray *)restaurantsArray {     NSMutableArray *mkPointAnnotations = [NSMutableArray new];      double mileToMeters = 1609.344;     CLLocation *userLocation = [[CLLocation alloc] initWithLatitude:self.userCurrentLocation.coordinate.latitude longitude:self.userCurrentLocation.coordinate.longitude];     for (Restaurant *restaurant in restaurantsArray) {         CLLocation *restaurantLocation = [[CLLocation alloc] initWithLatitude:restaurant.geoLocation.latitude longitude:restaurant.geoLocation.longitude];         RestaurantAnnotation *newRestaurantAnnotation = [[RestaurantAnnotation alloc] initWithTitle:restaurant.name subtitle:[NSString stringWithFormat:@"%.02f",[userLocation distanceFromLocation:restaurantLocation] / mileToMeters] restaurant:restaurant location:CLLocationCoordinate2DMake(restaurant.geoLocation.latitude, restaurant.geoLocation.longitude)];          [mkPointAnnotations addObject: newRestaurantAnnotation];      }     return mkPointAnnotations; } </code></pre>  <p>here im implementing the vuewforannotation method</p>  <pre><code>- (MKAnnotationView *)mapView:(MKMapView *)mapView viewForAnnotation:(id&lt;MKAnnotation&gt;)annotation {       if ([annotation isKindOfClass:[MKUserLocation class]])         return nil;      if ([annotation isKindOfClass:[RestaurantAnnotation class]]) {         RestaurantAnnotation *restaurant = (RestaurantAnnotation *)annotation;         MKAnnotationView *restaurantAnnotationView = [mapView dequeueReusableAnnotationViewWithIdentifier:restaurantAnnotationIdentifier];          if (restaurantAnnotationView == nil)             restaurantAnnotationView = restaurant.annotationView;         else             restaurantAnnotationView.annotation = annotation;          return restaurantAnnotationView;     } else         return nil;  } </code></pre>  <p>thank you in advance</p>