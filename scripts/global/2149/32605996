<p>I wrote an agent for Java which does nothing just exports two methods, just to check if it loaded on JVM start or not. Built it with mingw-w64 4.8.4 (using JetBrains CLion). Windows 7 x64.</p>  <pre><code>JNIEXPORT jint JNICALL Agent_OnLoad(JavaVM *jvm, char *options, void *reserved){   return JNI_OK; }  JNIEXPORT void JNICALL Agent_OnUnload(JavaVM *vm){} </code></pre>  <p>Got an error running</p>  <pre><code>java -agentlib:"C:\JMVAgent\agent.dll"  Error occurred during initialization of VM Could not find agent library libSampleAgent.dll on the library path,  with error: Can't find dependent libraries </code></pre>  <p>Also I placed agent.dll into c:\windows\System32 and run java w/o agent full path with the same result.</p>  <p>DependencyWalker shows no dependency error <a href="http://i.stack.imgur.com/wVXm1.png" rel="nofollow"><img src="http://i.stack.imgur.com/wVXm1.png" alt="enter image description here"></a></p>  <p>Please help to find what I'm doing wrong</p>