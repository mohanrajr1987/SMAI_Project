<p>Migration:</p>  <pre><code>class Preference &lt; ActiveRecord::Migration    def change     enable_extension 'hstore'      create_table :preferences do |t|       t.hstore :prefs     end   end end </code></pre>  <p>Model:</p>  <pre><code>class Preference &lt; ActiveRecord::Base   store_accessor :prefs end </code></pre>  <p>This seems to work if prefs is a hash such as <code>{ email:'yes' }</code>, but does not work for a hash with an array inside: <code>{ email:[ 'monday', 'tuesday' ]}</code>.</p>  <p>When pulling the hash out, the array is saved as JSON.</p>  <p>Is there a good way to use hstore with nested hashes and arrays?</p>  <p>I did try adding <code>array:true</code> to the migration, but this just seemed to allow the saving of an array instead of a hash.</p>  <p>How to use Rails PostgreSQL hstore with nested hashes and arrays?</p>  <p>Rails 4.2.4, PostgreSQL 9.3.5</p>