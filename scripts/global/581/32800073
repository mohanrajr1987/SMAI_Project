<p>I have the following snippet which should check for the hash and if there is a hash open bootstrap modal. My modals markups are generated dynamically with handlebars. On hashchange event is working fine but on page load with hash modal do not open.</p>  <pre><code>    //Render Handlebars     var iniCycles = function() {              var r = $.Deferred();             var data = [];             if ($('ul.cycle-slideshow').length) {                 $('ul.cycle-slideshow').map(function() {                     var hash = $(this).data('id');                     var source = $("#" + hash).html();                     data.push( {'image': $(this).find('img').prop('src') });                     var template = Handlebars.compile(source);                     $('body').append(template(data));                 }).get();             }             return r;     };      var modalOpen = function (hashtag) {          $(hashtag).modal('toggle');          $(hashtag).on('hidden.bs.modal', function () {          history.pushState("", document.title, window.location.pathname);             });     };   $(document).ready(function () {      //This part is working     $(window).on('hashchange', function() {         var modal_hash = window.location.hash;          modalOpen(modal_hash);     });      //on page load check for the hash, if there is a hash call modalOpen. This one in function is empty is something to do with handlebars I think     if(window.location.hash) {         var modal_url = window.location.hash;          iniCycles().done( modalOpen(modal_url) );      } }); </code></pre>