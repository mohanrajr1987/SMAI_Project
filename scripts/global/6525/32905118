<p>First off I understand there are sftp wrapper for Clojure and I am using one however; this is a very specific use case which can't use such wrapper.</p>  <p>I want to execute the following command from Clojure (tested manually the command works in the terminal) </p>  <pre><code>sshpass -p &lt;password&gt; sftp &lt;user&gt;@&lt;host&gt; &lt;&lt;&lt; $'cd &lt;dir&gt;\n put &lt;file&gt;\n bye' </code></pre>  <p>with anything is <code>&lt;&gt;</code> swapped with real data.</p>  <p>I am using the <code>clojure.java.shell</code> wrapper and have tried the following:</p>  <pre><code>(shell/sh "sshpass" (str " -p " password) "sftp" (str username "@" host "&lt;&lt;&lt; $\'cd" path "\nput" file "\nbye\'"))) </code></pre>  <p>But it doesn't work. I assume my syntax is incorrect but im using a ns reloaded so the error isnt throw the namespace just constantly reloads which is a pain.</p>  <p>I need to avoid using a batch file, I need to inline the command, but as I said if I run the command manually it works.</p>  <p>Is my syntax incorrect?</p>  <p>update:</p>  <p>In the repl this is returned:</p>  <pre><code>{:exit 0, :out "", :err "Connected to &lt;host&gt;.\n"} </code></pre>