<p>I got a query that works fine in PMA and I'm trying to convert it to Eloquent, but I must be missing something. Here the SQL query:</p>  <pre><code>SELECT t1.* FROM ppr__child_absence t1  LEFT JOIN ppr__children t3 ON t3.idcode=t1.child_idcode  WHERE t1.id = (SELECT t2.id FROM ppr__child_absence t2      WHERE t2.child_idcode = t1.child_idcode      ORDER BY t2.id DESC LIMIT 1)  AND t3.deleted_at IS NULL  AND $input BETWEEN start AND stop; </code></pre>  <p>and hes is my eloquent query:</p>  <pre><code>$input = Request::all(); $pprs =     DB::table('ppr__child_absence')     -&gt;join('ppr__children', function($join) {         $join-&gt;on('ppr__children.idcode', '=', 'ppr_children_absence.child_idcode')             -&gt;where('ppr__child_absence.child_idcode', '=', DB::raw('SELECT t2.id FROM ppr__child_absence t2               WHERE t2.child_idcode = ppr__child_absence.child_idcode               ORDER BY t2.id DESC LIMIT 1'));})             -&gt;whereNull('ppr__children.deleted_at')             -&gt;whereBetween($input, array('ppr_children_absence.start','ppr_children_absence.stop'))-&gt;get(); </code></pre>  <p>I'm keep getting error: ErrorException in Grammar.php line 58: strtolower() expects parameter 1 to be string, array given.</p>  <p>Can anyone here lead me to right direction? Basically user has 1 date input with datepicker and submit button to get result according to the date chosen.</p>  <p>working query here with out errors but no results</p>  <pre><code>$input = Request::all();     $pprs = DB::table('ppr__child_absence')             -&gt;select('ppr__child_absence.*')             -&gt;join('ppr__children', function($join) {             $join-&gt;on('ppr__children.idcode', '=', 'ppr__child_absence.child_idcode')                 -&gt;where('ppr__child_absence.id', '=', DB::raw('SELECT t2.id FROM ppr__child_absence t2                   WHERE t2.child_idcode = ppr__child_absence.child_idcode                   ORDER BY t2.id DESC LIMIT 1'));})                 -&gt;whereNull('ppr__children.deleted_at')                 -&gt;where('ppr__child_absence.start', '&lt;', $input['ppr_day'])                 -&gt;where('ppr__child_absence.stop', '&gt;', $input['ppr_day'])-&gt;get(); </code></pre>