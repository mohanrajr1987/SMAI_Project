<p>I have below scenario, where I have to split two files based on two different patterns.. </p>  <p>Pls. consider I have below text file:</p>  <pre><code>$cat file1 </code></pre>  <pre> ====S abcd efgh ijkl mnop ====G qrst uvwX yzab </pre>  <p>for this I have a script like <code>awk '/====/{x="S"++i;next}{print &gt; x;}'</code> - which is splitting two files like S,S1. </p>  <p>There are few exception files which don't have first pattern ====S</p>  <p>It looks like</p>  <pre> ====G qrst uvwX yzab </pre>  <p>If I run the above script for this kind of file, I get the file name S , which is adding these records to the first pattern ====S. But,  here  I want the file name S1. That means if I have only ====G in the file, I need these values to be put in S1 file.</p>  <p>How can I achieve this? Request your time and provide any solution for this.</p>  <p>Thanks,</p>