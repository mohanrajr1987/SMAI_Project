<p>I would like the entire original file with the last column being the file name (without the path name).  It seems simple, but every attempt has failed to deliver. My aim to do this as a loop where FLD0037 becomes FLD0${ID}.</p>  <p>I have tried the following:</p>  <pre><code>cat FLD0037.txt | awk '{print $0, FILENAME;}' &gt;FLD0037.test1.txt </code></pre>  <p>test.1 gives - in the final column.</p>  <pre><code>cat FLD0037.txt | awk '{print $0, basename(FILENAME);}' &gt;FLD0037.test2.txt </code></pre>  <p>test.2 is an empty file</p>  <pre><code>cat FLD0037.txt | awk '{print $0, basename;}' &gt;FLD0037.test3.txt cat FLD0037.txt | awk -F"/" '{print $0, $NF;}' &gt;FLD0037.test4.txt cat FLD0037.txt | awk -F"/" '{print $NF;}' &gt;FLD0037.test5.txt cat FLD0037.txt | awk '{print basename $0;}' &gt;FLD0037.test6.txt </code></pre>  <p>test.3, test.5 and test.6 look like the original file, nothing written in the final column.</p>  <p>test.4 is the original file with the data duplicated in new columns.</p>  <p>Thanks,</p>