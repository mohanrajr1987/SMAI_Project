<p>I'm building a website and I want to retrieve the user type that is defined on the database and redirect the logged in user to a specific page. For example, if the user is admin, it will redirect that person to administration page, if the user type is X, it will redirect that user to the specific page for user type X.</p>  <p>For now, I'm trying a temporary solution since I don't have enough time until deadline (tomorrow). And I'm trying to get the user type from the database by running a database and php query, which is as follows:</p>  <pre><code>             $_SESSION['login'] = true;              $_SESSION['username']=$username;              $query="select user_type from ".$table_name." where username='$username'";              $result=mysqli_query($con,$query) or die('error');              if(mysqli_num_rows($result))              {                 $_SESSION['user_type']=$user_type;              }               echo json_encode( array('result'=&gt;1)); </code></pre>  <p>I can get the username and login status but when Im trying to get the user type, I get an empty result on the _SESSIONS array.</p>  <p>Whole php code is as follows:</p>  <pre><code>&lt;?php session_start();     include("db.php");     $con=mysqli_connect($server, $db_user, $db_pwd,$db_name) //connect to the database server     or die ("Could not connect to mysql because ".mysqli_error());      mysqli_select_db($con,$db_name)  //select the database     or die ("Could not select to mysql because ".mysqli_error());      //prevent sql injection     $username=mysqli_real_escape_string($con,$_POST["username"]);     $password=mysqli_real_escape_string($con,$_POST["password"]);     //$user_type=mysqli_real_escape_string($con,$_POST["user_type"]);         //decrypt password       //check if user exist already     $query="select * from ".$table_name." where username='$username'";     $result=mysqli_query($con,$query) or die('error');     if (mysqli_num_rows($result)) //if exist then check for password         {          //Pickup password to compare with encrypted password         $query="select password from ".$table_name." where username='$username'";         $result=mysqli_query($con,$query) or die('error');         $db_field = mysqli_fetch_assoc($result);         $hashed_password=crypt($password,$db_field['password']);           $query="select * from ".$table_name." where username='$username' and password='$hashed_password'";          $result=mysqli_query($con,$query) or die('error');          if (mysqli_num_rows($result))  //if passwords match then check actvation status          {              $query="select * from ".$table_name." where username='$username' and password='$hashed_password' and activ_status in(1)";              $result=mysqli_query($con,$query) or die('error');              if(mysqli_num_rows($result))              {                      $_SESSION['login'] = true;                  $_SESSION['username']=$username;                  $query="select user_type from ".$table_name." where username='$username'";                  $result=mysqli_query($con,$query) or die('error');                  if(mysqli_num_rows($result))                  {                     $_SESSION['user_type']=$user_type;                  }                   echo json_encode( array('result'=&gt;1));              }              else              {              echo json_encode( array('result'=&gt;"$msg_email_1 &lt;br /&gt;&lt;a href=\"".$url."\\resend_key.php?user=".$username."\"&gt;$msg_email_2&lt;/a&gt;."));                 // echo "User Account not yet activated.Check your mail for activation details.";              }           }          else          {          echo json_encode( array('result'=&gt;$msg_pwd_error));         //   echo trim("password incorrect");          }         }        else     {     echo json_encode( array('result'=&gt;$msg_un_error));     //  die("Username Doesn't exist");     die();     }  ?&gt; </code></pre>  <p>If you can help me with this, I'd really appreciate it.</p>  <p>Thank you very much.</p>