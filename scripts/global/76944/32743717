<p>i am tryin to show menu contents on the action bar "the horizontal black bar". i wrote the below code and the menu contains some items as shown in the  xml file belwo, but the problem is at run time , all the items appears when the setting button pressed and none of them appears on the action bar!</p>  <p>I am using android studio with the build.gradle file posted below.</p>  <p>please let me know how to force the menu item to appear on the actionbar?</p>  <p><strong>code</strong>:</p>  <pre><code>@Override public boolean onCreateOptionsMenu(Menu menu) {     Log.w(TAG, SubTag.msg("onCreateOptionsMenu"));      MenuInflater inflater = getMenuInflater();     inflater.inflate(R.menu.menu, menu);      if (!this.mScanning) {         Log.d(TAG, SubTag.msg("onCreateOptionsMenu", "no scanning"));          menu.findItem(R.id.menu_cancel).setVisible(false);         menu.findItem(R.id.menu_scan).setVisible(true);         menu.findItem(R.id.menu_refresh).setActionView(null);      } else {         Log.d(TAG, SubTag.msg("onCreateOptionsMenu", "scanning"));          menu.findItem(R.id.menu_cancel).setVisible(true);         menu.findItem(R.id.menu_scan).setVisible(false);         menu.findItem(R.id.menu_refresh).setActionView(R.layout.actionbar_indeterminate_progress);     }      return super.onCreateOptionsMenu(menu); } </code></pre>  <p><strong>menu.xml</strong>:</p>  <pre><code>&lt;?xml version="1.0" encoding="utf-8"?&gt; &lt;menu xmlns:android="http://schemas.android.com/apk/res/android" xmlns:app="http://schemas.android.com/apk/res-auto" xmlns:tools="http://schemas.android.com/tools" tools:context=".actMain"&gt;  &lt;item     android:id="@+id/menu_refresh"     android:orderInCategory="1"     android:title="refresh"     app:showAsAction="always"/&gt; &lt;item     android:id="@+id/menu_scan"     android:checkable="true"     android:orderInCategory="2"     android:title="@string/menu_scan"     app:showAsAction="always"/&gt; &lt;item     android:id="@+id/menu_cancel"     android:title="@string/menu_cancel"     android:orderInCategory="100"     app:showAsAction="ifRoom|withText"/&gt; &lt;item     android:id="@+id/menu_exit"     android:title="@string/menu_exit"     android:orderInCategory="101"     app:showAsAction="never"/&gt; </code></pre>  <p></p>  <p><strong>gradle.build</strong>:</p>  <pre><code>apply plugin: 'com.android.application'  android {     compileSdkVersion 21     buildToolsVersion "21.1.2"      defaultConfig {         applicationId "com.example.com.bt_11"         minSdkVersion 19         targetSdkVersion 21         versionCode 1         versionName "1.0"     }      buildTypes {         release {             minifyEnabled false             proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'         }     } }  dependencies {     compile fileTree(dir: 'libs', include: ['*.jar'])     compile 'com.android.support:appcompat-v7:21.+' } </code></pre>  <p><strong>style.xml</strong></p>  <pre><code>&lt;!-- Base application theme. --&gt;      &lt;style name="AppTheme"         parent="@android:style/Theme.Holo.Light.DarkActionBar"&gt;     &lt;!-- Customize your theme here. --&gt; &lt;/style&gt; </code></pre>