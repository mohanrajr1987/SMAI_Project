<p>I want use search view in a fragment's action bar , and my code in fragment is like</p>  <hr>  <pre><code>    @Override public void onCreateOptionsMenu(Menu menu, MenuInflater inflater) {       menu.clear();     getActivity().getMenuInflater().inflate(R.menu.menu_search, menu);     SearchView searchView = (SearchView) MenuItemCompat.getActionView(menu.findItem(R.id.action_search));         searchView.setIconifiedByDefault(true);     super.onCreateOptionsMenu(menu, inflater); } </code></pre>  <p>menu_search</p>  <hr>  <pre><code>&lt;menu xmlns:android="http://schemas.android.com/apk/res/android" xmlns:app="http://schemas.android.com/apk/res-auto" xmlns:tools="http://schemas.android.com/tools" tools:context="com.example.sinyuk.zhihu.Search.SearchResultActivity"&gt; &lt;item     android:id="@+id/action_search"     android:orderInCategory="90"     android:title="@string/action_search"     android:actionViewClass="android.support.v7.widget.SearchView"     app:showAsAction="ifRoom"/&gt; </code></pre>  <p></p>  <hr>  <p>and my code in activity is:</p>  <hr>  <pre><code>    @Override public boolean onCreateOptionsMenu(Menu menu) {     getMenuInflater().inflate(R.menu.menu_main, menu);     ...     return true; } </code></pre>  <hr>  <p>menu_main</p>  <pre><code>&lt;menu xmlns:android="http://schemas.android.com/apk/res/android" xmlns:app="http://schemas.android.com/apk/res-auto" xmlns:tools="http://schemas.android.com/tools" tools:context=".MainActivity"&gt; ... &lt;item     android:id="@+id/action_settings"     android:orderInCategory="83"     android:title="@string/action_settings"     app:showAsAction="never" /&gt; </code></pre>  <h2></h2>  <p>The problem is I can't get the search view , it turns out to be  a null object. But the menu view in fragment is actually re-created, it seems the new Menu didn't pass to the  </p>  <hr>  <pre><code> MenuItemCompat.getActionView(menu.findItem(R.id.action_search)); </code></pre>  <hr>  <p>so please help me :P</p>