<p>The code below represents dialog containing 3 items (that appear in the form of a list) when I click a button. How do I prevent a specific dialog list item from appearing if the device they are using is not capable of sending SMS messages?</p>  <pre><code>AlertDialog.Builder builder = new AlertDialog.Builder(getActivity());                     builder.setTitle("Title")                             .setItems(R.array.items_array, new DialogInterface.OnClickListener() {                             });                     builder.setNegativeButton("Cancel",                             new DialogInterface.OnClickListener() {                                  @Override                                 public void onClick(DialogInterface dialog, int which) {                                     dialog.dismiss();                                 }                             });                     builder.show(); </code></pre>  <p><strong>Java code - if the device cannot send SMS</strong></p>  <pre><code>if (((TelephonyManager) getContext().getSystemService(Context.TELEPHONY_SERVICE)).getLine1Number()                                                     == null) {                                                 // disable list item                                             } </code></pre>