<p>I'm trying to simulate "gcc -c program.c -o program.o" in automake Makefile.am to then be used in a shared library.</p>  <p>I have something like</p>  <pre><code>lib_LTLIBRARIES = libsomething.la libsomething_la_CPPFLAGS = -I/dir/ include_Headers = dir/neededHeader.h libsomething_la_SOURCES = src/program.c </code></pre>  <p>But this seems to go farther than the just creating a .o file and putting it in the library. The reason I'm trying to do this is I have c functions but do not give prototypes for them. They are declared externally in another file that links to the library trying to be created. Which if given prototypes in both locations would cause an error. I can do this from terminal commands and with making my own custom Makefile but want the portability of using automake.</p>