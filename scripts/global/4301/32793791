<p>I made a simple makefile to compile AVR code. I have a rule as follows:</p>  <pre><code>%.o: %.c     $(CC) -c -o $@ $&lt;     $(CC) -M $(FLAGS) $*.c &gt; $*.d | sed -e ':?:? avr.rules ?' </code></pre>  <p>I'm trying to make it so that in say test.d, it will say </p>  <pre><code>test.o: test.c test.h avr.rules </code></pre>  <p>I've done it before with a similar sed command but can't seem to get it now. Can someone give me a pointer here?</p>