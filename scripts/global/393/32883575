<p>I'm developping a JavaScript <strong>Chrome App</strong> that tries to control a USB Smart Card Reader.</p>  <p>Using the Chrome API, I can detect (using <code>usb.findDevices</code>) and connect to (using <code>usb.claimInterface</code>) the device, and even receive some interrupts when a card is inserted or removed (using <code>usb.interruptTransfer</code>).</p>  <p>When the card is inserted I call <code>iccPowerOn</code> (which implements the <strong>PC_to_RDR_IccPowerOn</strong> CCID command) but it fails with message <em>Transfer failed.</em>.</p>  <p>I've followed the first basic example of the <strong>CCID</strong> <a href="http://www.usb.org/developers/docs/.../DWG_Smart-Card_CCID_Rev110.pdf" rel="nofollow">specification</a> (ยง7.1 page 59) but without success:</p>  <pre><code>//h is the handle to the device function iccPowerOn () {   //PC_to_RDR_IccPowerOn / Slot 0 / Seq 8  / Power 3V   var data = new Uint8Array( [0x62, 0, 0, 0, 0, 0x0, 0x8, 0x2, 0, 0] ).buffer   var info = {     direction: "out",     endpoint: 2,  //as found in the Configuration Descriptor     data: data   }   try   {     chrome.usb.bulkTransfer( h, info, function ( usbEv )     {       if ( chrome.runtime.lastError )         console.error( chrome.runtime.lastError )       console.log( JSON.stringify( usbEv ) )     } )   }    catch ( ex )   {     console.warn( ex.message )   } } </code></pre>  <p>I don't know if my 10-bytes message header is incorrect or well formatted.</p>  <p>I'm using the WinUSB driver (on Windows 7) with an OmniKey 3121 device, but I've also tried with the libusbK driver with the same results. I've found no example implementing CCID with JavaScript on Internet.</p>  <p>Can someone knowing USB and/or CCID help me?</p>  <p>EDIT</p>  <p>I've downloaded a USB analyser and realized that nothing is sent to the USB bus when sending a CCID command via <code>bulkTransfer</code>. The error "<em>Transfer failed.</em>" occurs before sending anything. I'm investigating about <code>controlTransfer</code> operations now...</p>