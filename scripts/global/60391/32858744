<p>I'm trying to write a small code that allows me to send picture directly after taking it from the camera, i want to send pict from capture in camera but never sucess, i'm always get message "Something went wrong" There is the code</p>  <pre><code>public void loadImagefromGallery(View view) {         CharSequence colors[] = new CharSequence[] {"Galery", "Foto"};             AlertDialog.Builder builder = new AlertDialog.Builder(UserProfileActivity.this);             builder.setTitle("Pilih");             builder.setItems(colors, new DialogInterface.OnClickListener() {                 @Override                 public void onClick(DialogInterface dialog, int which) {                     if (which == 0) {                         Intent galleryIntent = new Intent(Intent.ACTION_PICK,                                 android.provider.MediaStore.Images.Media.EXTERNAL_CONTENT_URI);                         startActivityForResult(galleryIntent, RESULT_LOAD_IMG);                      } else if (which == 1) {                         Intent intent = new Intent("android.media.action.IMAGE_CAPTURE");                         //intent.putExtra(MediaStore.EXTRA_OUTPUT, fileUri);                         startActivityForResult(intent, CAMERA_REQUEST);                     }                 }             });         builder.show();     }      @Override     protected void onActivityResult(int requestCode, int resultCode, Intent data) {         super.onActivityResult(requestCode, resultCode, data);         try {             if(requestCode == CAMERA_REQUEST){                 Bitmap photo = (Bitmap) data.getExtras().get("data");                 RoundedImageViewUtil imgView = (RoundedImageViewUtil) findViewById(R.id.profile);                 imgView.setImageBitmap(photo);                  Uri selectedImage = data.getData();                 String[] filePathColumn = { MediaStore.Images.Media.DATA };                  Cursor cursor = getContentResolver().query(selectedImage,                         filePathColumn, null, null, null);                 cursor.moveToFirst();                  int columnIndex = cursor.getColumnIndex(filePathColumn[0]);                 imgPath = cursor.getString(columnIndex);                 cursor.close();                  imgView.setImageBitmap(BitmapFactory                         .decodeFile(imgPath));                 String fileNameSegments[] = imgPath.split("/");                 fileName = fileNameSegments[fileNameSegments.length - 1];                 params.put("filename", fileName);              } else if (requestCode == RESULT_LOAD_IMG &amp;&amp; resultCode == RESULT_OK                     &amp;&amp; null != data) {                  Uri selectedImage = data.getData();                 String[] filePathColumn = { MediaStore.Images.Media.DATA };                  Cursor cursor = getContentResolver().query(selectedImage,                         filePathColumn, null, null, null);                 cursor.moveToFirst();                  int columnIndex = cursor.getColumnIndex(filePathColumn[0]);                 imgPath = cursor.getString(columnIndex);                 cursor.close();                 RoundedImageViewUtil imgView = (RoundedImageViewUtil) findViewById(R.id.profile);                 imgView.setImageBitmap(BitmapFactory                         .decodeFile(imgPath));                 String fileNameSegments[] = imgPath.split("/");                 fileName = fileNameSegments[fileNameSegments.length - 1];                 params.put("filename", fileName);              } else {                 Toast.makeText(this, "You haven't picked Image",                         Toast.LENGTH_LONG).show();             }         } catch (Exception e) {             Toast.makeText(this, "Something went wrong", Toast.LENGTH_LONG)                     .show();         }      } </code></pre>