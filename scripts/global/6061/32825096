<p>I'm always getting an error after my app is deployed to the production server. In my test environment everything works fine. </p>  <p>Here is the stacktrace from the glassfish log:</p>  <pre><code>[2015-09-28T15:57:56.857+0200] [glassfish 4.1] [WARNING] [] [javax.enterprise.web] [tid: _ThreadID=36 _ThreadName=http-listener-2(2)] [timeMillis: 1443448676857] [levelValue: 900] [[   StandardWrapperValve[Faces Servlet]: Servlet.service() for servlet Faces Servlet threw exception java.lang.NullPointerException     at org.primefaces.context.PrimeFacesContext.release(PrimeFacesContext.java:26)     at org.primefaces.context.PrimeFacesContext.release(PrimeFacesContext.java:28)     at javax.faces.webapp.FacesServlet.service(FacesServlet.java:665)     at org.apache.catalina.core.StandardWrapper.service(StandardWrapper.java:1682)     at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:344)     at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:214)     at org.ocpsoft.rewrite.servlet.RewriteFilter.doFilter(RewriteFilter.java:205)     at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:256)     at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:214)     at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:316)     at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:160)     at org.apache.catalina.core.StandardPipeline.doInvoke(StandardPipeline.java:734)     at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:673)     at com.sun.enterprise.web.WebPipeline.invoke(WebPipeline.java:99)     at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:174)     at org.apache.catalina.connector.CoyoteAdapter.doService(CoyoteAdapter.java:415)     at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:282)     at com.sun.enterprise.v3.services.impl.ContainerMapper$HttpHandlerCallable.call(ContainerMapper.java:459)     at com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:167)     at org.glassfish.grizzly.http.server.HttpHandler.runService(HttpHandler.java:201)     at org.glassfish.grizzly.http.server.HttpHandler.doHandle(HttpHandler.java:175)     at org.glassfish.grizzly.http.server.HttpServerFilter.handleRead(HttpServerFilter.java:235)     at org.glassfish.grizzly.filterchain.ExecutorResolver$9.execute(ExecutorResolver.java:119)     at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeFilter(DefaultFilterChain.java:284)     at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeChainPart(DefaultFilterChain.java:201)     at org.glassfish.grizzly.filterchain.DefaultFilterChain.execute(DefaultFilterChain.java:133)     at org.glassfish.grizzly.filterchain.DefaultFilterChain.process(DefaultFilterChain.java:112)     at org.glassfish.grizzly.ProcessorExecutor.execute(ProcessorExecutor.java:77)     at org.glassfish.grizzly.nio.transport.TCPNIOTransport.fireIOEvent(TCPNIOTransport.java:561)     at org.glassfish.grizzly.strategies.AbstractIOStrategy.fireIOEvent(AbstractIOStrategy.java:112)     at org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.run0(WorkerThreadIOStrategy.java:117)     at org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.access$100(WorkerThreadIOStrategy.java:56)     at org.glassfish.grizzly.strategies.WorkerThreadIOStrategy$WorkerThreadRunnable.run(WorkerThreadIOStrategy.java:137)     at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:565)     at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:545)     at java.lang.Thread.run(Unknown Source) ]] </code></pre>  <p>web.xml:</p>  <pre><code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; &lt;web-app xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"   xmlns="http://java.sun.com/xml/ns/javaee" xmlns:web="http://java.sun.com/xml/ns/javaee"     xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd"    version="3.0"&gt;  &lt;servlet&gt;     &lt;servlet-name&gt;Faces Servlet&lt;/servlet-name&gt;     &lt;servlet-class&gt;javax.faces.webapp.FacesServlet&lt;/servlet-class&gt;     &lt;load-on-startup&gt;1&lt;/load-on-startup&gt; &lt;/servlet&gt; &lt;servlet-mapping&gt;     &lt;servlet-name&gt;Faces Servlet&lt;/servlet-name&gt;     &lt;url-pattern&gt;*.xhtml&lt;/url-pattern&gt; &lt;/servlet-mapping&gt; &lt;servlet-mapping&gt;     &lt;servlet-name&gt;Faces Servlet&lt;/servlet-name&gt;     &lt;url-pattern&gt;*.do&lt;/url-pattern&gt; &lt;/servlet-mapping&gt;  &lt;session-config&gt;     &lt;session-timeout&gt;15&lt;/session-timeout&gt; &lt;/session-config&gt;  &lt;welcome-file-list&gt;     &lt;welcome-file&gt;index.xhtml&lt;/welcome-file&gt; &lt;/welcome-file-list&gt;  &lt;error-page&gt;     &lt;exception-type&gt;javax.faces.application.ViewExpiredException&lt;/exception-type&gt;     &lt;location&gt;/index.xhtml&lt;/location&gt; &lt;/error-page&gt;  &lt;context-param&gt;     &lt;param-name&gt;javax.faces.FACELETS_SKIP_COMMENTS&lt;/param-name&gt;     &lt;param-value&gt;true&lt;/param-value&gt; &lt;/context-param&gt; &lt;context-param&gt;   &lt;param-name&gt;javax.faces.PROJECT_STAGE&lt;/param-name&gt;   &lt;param-value&gt;Production&lt;/param-value&gt; &lt;/context-param&gt; &lt;context-param&gt;     &lt;param-name&gt;javax.faces.FACELETS_REFRESH_PERIOD&lt;/param-name&gt;     &lt;param-value&gt;-1&lt;/param-value&gt; &lt;/context-param&gt; &lt;context-param&gt;     &lt;param-name&gt;org.apache.myfaces.CHECK_ID_PRODUCTION_MODE&lt;/param-name&gt;     &lt;param-value&gt;false&lt;/param-value&gt; &lt;/context-param&gt; &lt;context-param&gt;     &lt;param-name&gt;org.apache.myfaces.VIEW_UNIQUE_IDS_CACHE_ENABLED&lt;/param-name&gt;     &lt;param-value&gt;true&lt;/param-value&gt; &lt;/context-param&gt; &lt;context-param&gt;     &lt;param-name&gt;org.apache.myfaces.SAVE_STATE_WITH_VISIT_TREE_ON_PSS&lt;/param-name&gt;     &lt;param-value&gt;false&lt;/param-value&gt; &lt;/context-param&gt; &lt;context-param&gt;     &lt;param-name&gt;primefaces.THEME&lt;/param-name&gt;     &lt;param-value&gt;pepper-grinder&lt;/param-value&gt; &lt;/context-param&gt; &lt;context-param&gt;     &lt;param-name&gt;javax.faces.DATETIMECONVERTER_DEFAULT_TIMEZONE_IS_SYSTEM_TIMEZONE&lt;/param-name&gt;     &lt;param-value&gt;true&lt;/param-value&gt; &lt;/context-param&gt; &lt;context-param&gt;     &lt;param-name&gt;javax.faces.STATE_SAVING_METHOD&lt;/param-name&gt;     &lt;param-value&gt;client&lt;/param-value&gt; &lt;/context-param&gt; </code></pre>  <p></p>  <p>I'm using JSF 2.2 with Primefaces 4.0. Thanks for your tips!</p>