<p>I am trying to decrypt programmatically encrypted file using OpenSSL. OpenSSL was used to encrypt the file and I know both the function and the key that was used:</p>  <pre class="lang-c prettyprint-override"><code>//This declaration is just figurative const char keybuf = "12345678"; // Prepare the key for use with DES_cfb64_encrypt DES_cblock key2; DES_key_schedule schedule; // keybuf is the string key used as password memcpy(key2, keybuf, 8); DES_set_odd_parity(&amp;key2); DES_set_key_checked(&amp;key2, &amp;schedule); int n = 0; DES_cfb64_encrypt( ..., ..., length, &amp;schedule, &amp;key2, &amp;n, DES_ENCRYPT ); </code></pre>  <p>First I converted the file to binary from base64 (which is how it's packed):</p>  <pre><code>cat data.b64 | base64 --decode &gt; data.cr </code></pre>  <p>Now when I run command line on encrypted data (assuming des-cfb is algorighm I need):</p>  <pre><code>openssl enc -d -des-cfb -in data.cr -out data.decr -k 12345678 </code></pre>  <p>this is what I get:</p>  <pre><code>bad magic number </code></pre>  <p>So what I'm doing wrong here? Maybe I converted the file wrongly from base64?</p>