<p>Here is short flow of my form:</p>  <ol> <li>You click Submit button</li> <li>Submit button gets disabled</li> <li>AJAX request is sent to API.</li> <li>AJAX response is received.</li> <li>Button is clickable again.</li> </ol>  <blockquote> <pre><code>scenario 'user can not resubmit form before API response' do   expect(find_button('Submit')[:disabled]).to be_falsey   click_button 'Submit'   expect(find_button('Submit')[:disabled]).not_to be_falsey   ## Here ajax response is received   expect(find_button('Submit')[:disabled]).to be_falsey end </code></pre> </blockquote>  <p>This test actually passes but I feel I have no control over it and I'm not concerned if it really test what I intended.</p>  <p>Is there any way to have more control over AJAX responses? Does this test actually test feature I described?</p>  <h3>edit:</h3>  <p>this test actually randomly fails/passes. I guess it is caused by executing <code>expect(find_button('Submit')[:disabled]).not_to be_falsey</code> after AJAX call</p>