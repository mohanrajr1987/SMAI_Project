<p>Hi I am trying to setup saving files on heroku using <code>paperclip</code> and <code>aws-sdk</code> and am running into a problem. I was reading around online and saw that <code>paperclip</code> is having issue with <code>aws-sdk</code> gem so following the advice of others I updated my <code>Gemfile</code> to read <code>gem 'aws-sdk', '&lt; 2.0' </code> from just <code>gem 'aws-sdk'</code>. Now when I try to start my rails server I get the following error</p>  <pre><code>/home/ameya/.rvm/gems/ruby-2.1.5@parth_soni/gems/aws-sdk-v1-1.66.0/lib/aws/core/configuration.rb:276:in `with': undefined method `inject' for #&lt;String:0x00000003db7d58&gt; (NoMethodError)     from /home/ameya/.rvm/gems/ruby-2.1.5@parth_soni/gems/aws-sdk-v1-1.66.0/lib/aws/core.rb:472:in `config'     from /home/ameya/.rvm/gems/ruby-2.1.5@parth_soni/gems/aws-sdk-v1-1.66.0/lib/aws/rails.rb:112:in `load_yaml_config'     from /home/ameya/.rvm/gems/ruby-2.1.5@parth_soni/gems/aws-sdk-v1-1.66.0/lib/aws/rails.rb:54:in `setup'     from /home/ameya/.rvm/gems/ruby-2.1.5@parth_soni/gems/aws-sdk-v1-1.66.0/lib/aws/rails.rb:26:in `block in &lt;class:Railtie&gt;'     from /home/ameya/.rvm/gems/ruby-2.1.5@parth_soni/gems/railties-4.2.1/lib/rails/initializable.rb:30:in `instance_exec'     from /home/ameya/.rvm/gems/ruby-2.1.5@parth_soni/gems/railties-4.2.1/lib/rails/initializable.rb:30:in `run'     from /home/ameya/.rvm/gems/ruby-2.1.5@parth_soni/gems/railties-4.2.1/lib/rails/initializable.rb:55:in `block in run_initializers'     from /home/ameya/.rvm/rubies/ruby-2.1.5/lib/ruby/2.1.0/tsort.rb:226:in `block in tsort_each'     from /home/ameya/.rvm/rubies/ruby-2.1.5/lib/ruby/2.1.0/tsort.rb:348:in `block (2 levels) in each_strongly_connected_component'     from /home/ameya/.rvm/rubies/ruby-2.1.5/lib/ruby/2.1.0/tsort.rb:427:in `each_strongly_connected_component_from'     from /home/ameya/.rvm/rubies/ruby-2.1.5/lib/ruby/2.1.0/tsort.rb:347:in `block in each_strongly_connected_component'     from /home/ameya/.rvm/rubies/ruby-2.1.5/lib/ruby/2.1.0/tsort.rb:345:in `each'     from /home/ameya/.rvm/rubies/ruby-2.1.5/lib/ruby/2.1.0/tsort.rb:345:in `call'     from /home/ameya/.rvm/rubies/ruby-2.1.5/lib/ruby/2.1.0/tsort.rb:345:in `each_strongly_connected_component'     from /home/ameya/.rvm/rubies/ruby-2.1.5/lib/ruby/2.1.0/tsort.rb:224:in `tsort_each'     from /home/ameya/.rvm/rubies/ruby-2.1.5/lib/ruby/2.1.0/tsort.rb:205:in `tsort_each'     from /home/ameya/.rvm/gems/ruby-2.1.5@parth_soni/gems/railties-4.2.1/lib/rails/initializable.rb:54:in `run_initializers'     from /home/ameya/.rvm/gems/ruby-2.1.5@parth_soni/gems/railties-4.2.1/lib/rails/application.rb:352:in `initialize!'     from /home/ameya/dev/contract/parth_soni/web/gold_site/config/environment.rb:5:in `&lt;top (required)&gt;'     from /home/ameya/dev/contract/parth_soni/web/gold_site/config.ru:3:in `require'     from /home/ameya/dev/contract/parth_soni/web/gold_site/config.ru:3:in `block in &lt;main&gt;'     from /home/ameya/.rvm/gems/ruby-2.1.5@parth_soni/gems/rack-1.6.0/lib/rack/builder.rb:55:in `instance_eval'     from /home/ameya/.rvm/gems/ruby-2.1.5@parth_soni/gems/rack-1.6.0/lib/rack/builder.rb:55:in `initialize'     from /home/ameya/dev/contract/parth_soni/web/gold_site/config.ru:in `new'     from /home/ameya/dev/contract/parth_soni/web/gold_site/config.ru:in `&lt;main&gt;'     from /home/ameya/.rvm/gems/ruby-2.1.5@parth_soni/gems/rack-1.6.0/lib/rack/builder.rb:49:in `eval'     from /home/ameya/.rvm/gems/ruby-2.1.5@parth_soni/gems/rack-1.6.0/lib/rack/builder.rb:49:in `new_from_string'     from /home/ameya/.rvm/gems/ruby-2.1.5@parth_soni/gems/rack-1.6.0/lib/rack/builder.rb:40:in `parse_file'     from /home/ameya/.rvm/gems/ruby-2.1.5@parth_soni/gems/rack-1.6.0/lib/rack/server.rb:299:in `build_app_and_options_from_config'     from /home/ameya/.rvm/gems/ruby-2.1.5@parth_soni/gems/rack-1.6.0/lib/rack/server.rb:208:in `app'     from /home/ameya/.rvm/gems/ruby-2.1.5@parth_soni/gems/railties-4.2.1/lib/rails/commands/server.rb:61:in `app'     from /home/ameya/.rvm/gems/ruby-2.1.5@parth_soni/gems/rack-1.6.0/lib/rack/server.rb:336:in `wrapped_app'     from /home/ameya/.rvm/gems/ruby-2.1.5@parth_soni/gems/railties-4.2.1/lib/rails/commands/server.rb:139:in `log_to_stdout'     from /home/ameya/.rvm/gems/ruby-2.1.5@parth_soni/gems/railties-4.2.1/lib/rails/commands/server.rb:78:in `start'     from /home/ameya/.rvm/gems/ruby-2.1.5@parth_soni/gems/railties-4.2.1/lib/rails/commands/commands_tasks.rb:80:in `block in server'     from /home/ameya/.rvm/gems/ruby-2.1.5@parth_soni/gems/railties-4.2.1/lib/rails/commands/commands_tasks.rb:75:in `tap'     from /home/ameya/.rvm/gems/ruby-2.1.5@parth_soni/gems/railties-4.2.1/lib/rails/commands/commands_tasks.rb:75:in `server'     from /home/ameya/.rvm/gems/ruby-2.1.5@parth_soni/gems/railties-4.2.1/lib/rails/commands/commands_tasks.rb:39:in `run_command!'     from /home/ameya/.rvm/gems/ruby-2.1.5@parth_soni/gems/railties-4.2.1/lib/rails/commands.rb:17:in `&lt;top (required)&gt;'     from /home/ameya/dev/contract/parth_soni/web/gold_site/bin/rails:8:in `require'     from /home/ameya/dev/contract/parth_soni/web/gold_site/bin/rails:8:in `&lt;top (required)&gt;'     from /home/ameya/.rvm/gems/ruby-2.1.5@parth_soni/gems/spring-1.3.4/lib/spring/client/rails.rb:28:in `load'     from /home/ameya/.rvm/gems/ruby-2.1.5@parth_soni/gems/spring-1.3.4/lib/spring/client/rails.rb:28:in `call'     from /home/ameya/.rvm/gems/ruby-2.1.5@parth_soni/gems/spring-1.3.4/lib/spring/client/command.rb:7:in `call'     from /home/ameya/.rvm/gems/ruby-2.1.5@parth_soni/gems/spring-1.3.4/lib/spring/client.rb:26:in `run'     from /home/ameya/.rvm/gems/ruby-2.1.5@parth_soni/gems/spring-1.3.4/bin/spring:48:in `&lt;top (required)&gt;'     from /home/ameya/.rvm/gems/ruby-2.1.5@parth_soni/gems/spring-1.3.4/lib/spring/binstub.rb:11:in `load'     from /home/ameya/.rvm/gems/ruby-2.1.5@parth_soni/gems/spring-1.3.4/lib/spring/binstub.rb:11:in `&lt;top (required)&gt;'     from /home/ameya/dev/contract/parth_soni/web/gold_site/bin/spring:13:in `require'     from /home/ameya/dev/contract/parth_soni/web/gold_site/bin/spring:13:in `&lt;top (required)&gt;'     from bin/rails:3:in `load'     from bin/rails:3:in `&lt;main&gt;' </code></pre>  <p>Has anyone run into this error, and if so how did you go about solving it. I could not find a solution after searching around online. The <code>paperclip</code> version I am using is 4.2.1 and the <code>aws-sdk</code> version I am using is 1.66, <code>rails</code> version is 4.2.1.</p>  <p>Thanks </p>