<p>I have following model. This works but when I don't fill in a rep or a weight I keep getting the error: <strong>undefined method `*' for nil:NilClass</strong></p>  <p>And this in the <strong>calculate_tonnage</strong> method.</p>  <p>Is there a way so I can check for presence of reps or weight, then calculate_tonnage en <em>then</em> check if the tonnage is unique.</p>  <p>I assume that this is the solution but I cannot find how to do this. Does anybody have a  clue what is the best way to solve this problem?</p>  <pre><code>class Submission &lt; ActiveRecord::Base   belongs_to :user   belongs_to :contest    validates_presence_of :user_id, :reps, :weight   validates_uniqueness_of :tonnage, scope: [:user_id, :contest_id]    after_validation :calculate_tonnage    # model helpers   def calculate_tonnage     self.tonnage = self.weight * self.reps   end  end </code></pre>