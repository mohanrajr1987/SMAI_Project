<p>I was wondering how to extract various numbers from a string. I understand that strtol works, however it appears to only work for the first digit.</p>  <p>Here is my code</p>  <pre><code>#include &lt;stdio.h&gt; #include &lt;stdlib.h&gt; #include &lt;string.h&gt; #include &lt;unistd.h&gt;  int main(){     long v1, v2, v3;     char str[20] = "16,23";     char *d;    v1 = strtol(str, &amp;d, 10);    v2 = strtol(str, &amp;d, 10);    printf("string is %s\nv1 is:%i\nv2 is:%d\n",str , v1,v2);    return 0; } </code></pre>  <p>In this example I would like to output v1 = 16 and v2 = 23.</p>  <p>Another example, if the str was "12,23,34", I would like v3= 34</p>  <p>Thanks in advance :)</p>