<p>Given an input of a perfect cube of a number which denotes number of nodes of a network, I want to be able to return the neighbors of all nodes as they would be connected in a 3d grid. For example if I am given 27 nodes I want to write a program to return all neighbors of all nodes. 0 will have neighbors 1,9,4 as it is a corner node. But an internal node will have one edge extra so 2 will have 0,3,11,5. Any mathematical way of formulating this? It is quite clear that number of node +(Or -) square of cuberoot of total number of nodes will give me a neighbour. For example 0 has 9, 1 has 10 and so on. Any way of finding out which nodes are corner and which are middle nodes? So that we can find out if a node has 3 neighbours or 4.</p>