<p>I have an NGINX server running NodeJS and it keeps throwing <code>502 Bad Gateway</code> every time there are 2+ users accessing the same API endpoint at the same time.</p>  <p>The error log shows</p>  <pre><code>*2 connect() failed (111: Connection refused) while connecting to upstream, client: 212.243.230.218, server: simplyask, request: "GET /favicon.ico HTTP/1.1", upstream: "http://127.0.0.1:3000/favicon.ico" </code></pre>  <p>The app is just basically a client sending POST requests every few seconds and when I do a GET request via the browser at the same time it throws that error, any other time it works fine.</p>  <p>Is there a setting on a config file I'm not aware of that is not allowing this or am I just killing it with too many request (not that many actually, just 1 every 5 or so seconds)?</p>  <p>This is what my app.js looks like:</p>  <pre><code>var express = require('express'); var path = require('path'); var favicon = require('static-favicon'); var logger = require('morgan'); var cookieParser = require('cookie-parser'); var bodyParser = require('body-parser'); var mongoose = require('mongoose'); mongoose.connect('mongodb://localhost/myApp', function(err) {     if(err) {         console.log('connection error', err);     } else {         console.log('connection successful');     } });  var app = express();  app.set('views', path.join(__dirname, 'views')); app.set('view engine', 'ejs');  app.use(favicon()); app.use(logger('dev')); app.use(bodyParser.json()); app.use(bodyParser.urlencoded()); app.use(cookieParser()); app.use(express.static(path.join(__dirname, 'public')));  ... </code></pre>  <p>and my NGINX config file:</p>  <pre><code>user www-data; worker_processes 1; pid /run/nginx.pid;  events {     worker_connections 1024;     # multi_accept on; }  http {      ##     # Basic Settings     ##      sendfile on;     tcp_nopush on;     tcp_nodelay on;     keepalive_timeout 65;     types_hash_max_size 2048;     # server_tokens off;      # server_names_hash_bucket_size 64;     # server_name_in_redirect off;      include /etc/nginx/mime.types;     default_type application/octet-stream;     ... </code></pre>