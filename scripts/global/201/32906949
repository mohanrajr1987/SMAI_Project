<p>I have written a program to easily manage products on a webshop. Unfortunately the webshop's api is a bit wonky, this results in crashes.</p>  <p>The program needs to create and update stock on a daily bases, this takes thousands of api calls because nothing can be done in one step. For example, creating a product, adding a picture and a category takes three calls. Updating a product takes two calls.</p>  <hr>  <p><strong>Current solution</strong></p>  <p><code>time.sleep()</code> is used to control the amount of calls, there is a maximum of 100 calls per minute.</p>  <p>To retry calls a loop with a try block is used. After a few tries the call gets skipped.</p>  <p>The current solution is okay but not good enough, it sometimes crashes. The error is given by <a href="http://docs.python-requests.org/en/latest/" rel="nofollow">requests</a> (I use it to call the webshop api.)</p>  <pre><code>ConnectionError: ('Connection aborted.', error(104, 'Connection reset by peer')) </code></pre>  <hr>  <p>I'm looking for a way to make the api calls without crashing and skipping as few calls as possible.</p>