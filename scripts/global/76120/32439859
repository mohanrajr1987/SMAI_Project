<p>I have two models: Category and Subcategory, related like this:</p>  <pre><code>class Category   has_many :subcategories   has_many :groups end  class Subcategory   belongs_to :category   has_many :groups end  </code></pre>  <p>Subcategory groups must be inherited from category.</p>  <p>I did it like this:</p>  <pre><code>class Category   has_many :subcategories   has_many :groups   after_save :pass_to_subcategories    private   def pass_to_subcategories     subcategories.map do |sc|        sc.groups = groups     end   end  end </code></pre>  <p>But during callback groups are empty. Apparently, i'm doing it wrong. How i can do it correctly? Thanks.</p>