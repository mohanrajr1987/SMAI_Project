<p>I am using counter_cache for counting the votes. A user can able to do one upvote and downvote.</p>  <p>My model</p>  <p>vote.rb</p>  <pre><code>attr_accessible :celebrity_id, :user_id, :vote_dvote belongs_to :user belongs_to :celebrity, counter_cache: true </code></pre>  <p>celebrity.rb</p>  <pre><code>attr_accessible :name, :gender, :category_id, :votes_count   belongs_to :user belongs_to :category has_many :votes  def total_upvotes     Vote.where('vote_dvote = ?', true).count end  def percentage_of_votes     (self.votes_count.to_f / self.total_upvotes.to_f * 100.0).round(2) end      </code></pre>  <p>Controller</p>  <pre><code>def show_ranking                 @celebrities = Celebrity.includes(:category).order(votes_count: :desc)         @celebrities.each do |celeb|     celeb["votes_count"] = celeb.percentage_of_votes                   end end </code></pre>  <p>both upvote and downvote saved in votes table, for upvote 'vote_dvote=1'and for downvote 'vote_dvote=0', votes_count for each celebrity is saved in celebrities table. what happening in my case is votes count is more than the total upvote count. So I can't able to get the exact percentage.</p>  <p>But I need only upvote count. Can anyone please help me out here</p>