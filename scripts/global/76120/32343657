<p>I'm looking multiple arrays but having trouble with aligning them in a table based on year. At the moment the data doesn't line up with the corresponding year, if data exists in any year it just places the data at the first row, then places '0' data for the rest, ie. not aligning with the year.</p>  <p>View</p>  <pre><code>&lt;table&gt; &lt;% @a.zip(@b, @c, @d) do |a, b, c, d| %&gt;  &lt;tr&gt;   &lt;td&gt;&lt;%= a.year %&gt;&lt;/td&gt;   &lt;% if a.blank? %&gt;     &lt;td&gt;0&lt;/td&gt;     &lt;td&gt;0&lt;/td&gt;   &lt;% else %&gt;     &lt;td&gt;&lt;%= a.id %&gt;&lt;/td&gt;     &lt;td&gt;&lt;%= a.data %&gt;&lt;/td&gt;   &lt;% end %&gt;   &lt;% if b.blank? %&gt;     &lt;td&gt;0&lt;/td&gt;     &lt;td&gt;0&lt;/td&gt;   &lt;% else %&gt;     &lt;td&gt;&lt;%= b.id %&gt;&lt;/td&gt;     &lt;td&gt;&lt;%= b.data %&gt;&lt;/td&gt;   &lt;% end %&gt;   &lt;% if c.blank? %&gt;     &lt;td&gt;0&lt;/td&gt;     &lt;td&gt;0&lt;/td&gt;   &lt;% else %&gt;     &lt;td&gt;&lt;%= c.id %&gt;&lt;/td&gt;     &lt;td&gt;&lt;%= c.data %&gt;&lt;/td&gt;   &lt;% end %&gt;   &lt;% if d.blank? %&gt;     &lt;td&gt;0&lt;/td&gt;     &lt;td&gt;0&lt;/td&gt;   &lt;% else %&gt;     &lt;td&gt;&lt;%= d.id %&gt;&lt;/td&gt;     &lt;td&gt;&lt;%= d.data %&gt;&lt;/td&gt;   &lt;% end %&gt;  &lt;/tr&gt; &lt;/table&gt; </code></pre>  <p>Controller</p>  <pre><code>@a = Result.where(id: params[:id_select]).group('year').where('data &gt; 0').select('AVG(data) AS data, year as year, COUNT(id) AS id').order('year ASC')  @b = Result.where(id: params[:id_select]).group('year').where('data &gt; 0').select('AVG(data) AS data, year as year, COUNT(id) AS id').where('id = ?', '0').order('year ASC')  @c = Result.where(id: params[:id_select]).group('year').where('data &gt; 0').select('AVG(data) AS data, year as year, COUNT(id) AS id').where('id = ?', '1').order('year ASC')  @d = Result.where(id: params[:id_select]).group('year').where('data &gt; 0').select('AVG(data) AS data, year as year, COUNT(id) AS id').where('id = ?', '2').order('year ASC') </code></pre>