<p>I have multiple variables which I'm having issues lining up in a table. I have each grouping by year, but when the table is generated if there is only one results for one of the columns it puts it in the first row, instead of the corresponding year. </p>  <p>Here is an image of what it's doing. The Drylands column should be in the year 2006.</p>  <p><a href="http://i.stack.imgur.com/jIvry.png" rel="nofollow"><img src="http://i.stack.imgur.com/jIvry.png" alt="enter image description here"></a></p>  <p>View</p>  <pre><code>&lt;% @all.zip(@irrigated, @semi, @dryland) do |a, b, c, d| %&gt;  &lt;tr&gt;   &lt;td&gt;&lt;%= a.year %&gt;&lt;/td&gt;   &lt;td&gt;&lt;% if a.nil? %&gt;0&lt;% else %&gt;&lt;%= a.trial_id %&gt;&lt;% end %&gt;&lt;/td&gt;   &lt;td&gt;&lt;% if a.nil? %&gt;0&lt;% else %&gt;&lt;%= "%.2f" % (a.lint/227) %&gt;&lt;% end %&gt;&lt;/td&gt;   &lt;td&gt;&lt;% if b.nil? %&gt;0&lt;% else %&gt;&lt;%= b.trial_id %&gt;&lt;% end %&gt;&lt;/td&gt;   &lt;td&gt;&lt;% if b.nil? %&gt;0&lt;% else %&gt;&lt;%= "%.2f" % (b.lint/227) %&gt;&lt;% end %&gt;&lt;/td&gt;   &lt;td&gt;&lt;% if c.nil? %&gt;0&lt;% else %&gt;&lt;%= c.trial_id %&gt;&lt;% end %&gt;&lt;/td&gt;   &lt;td&gt;&lt;% if c.nil? %&gt;0&lt;% else %&gt;&lt;%= "%.2f" % (c.lint/227) %&gt;&lt;% end %&gt;&lt;/td&gt;   &lt;td&gt;&lt;% if d.nil? %&gt;0&lt;% else %&gt;&lt;%= d.trial_id %&gt;&lt;% end %&gt;&lt;/td&gt;   &lt;td&gt;&lt;% if d.nil? %&gt;0&lt;% else %&gt;&lt;%= "%.2f" % (d.lint/227) %&gt;&lt;% end %&gt;&lt;/td&gt;   &lt;/tr&gt; &lt;% end %&gt; </code></pre>  <p>Controller</p>  <pre><code>@variety = Variety.where(variety_id: params[:variety_select]).group('variety_name')  @all = Result.where(variety_id: params[:variety_select]).group('results.year').where('results.lint &gt; 0').select('AVG(results.lint) AS lint, results.year as year, COUNT(results.trial_id) AS trial_id').joins(:trial)  @irrigated = Result.where(variety_id: params[:variety_select]).group('results.year').where('results.lint &gt; 0').select('AVG(results.lint) AS lint, results.year as year, COUNT(results.trial_id) AS trial_id').joins(:trial).where('trials.irrigated = ?', '1')  @dryland = Result.where(variety_id: params[:variety_select]).group('results.year').where('results.lint &gt; 0').select('AVG(results.lint) AS lint, results.year as year, COUNT(results.trial_id) AS trial_id').joins(:trial).where('trials.irrigated = ?', '0')  @semi = Result.where(variety_id: params[:variety_select]).group('results.year').where('results.lint &gt; 0').select('AVG(results.lint) AS lint, results.year as year, COUNT(results.trial_id) AS trial_id').joins(:trial).where('trials.irrigated = ?', '2') </code></pre>