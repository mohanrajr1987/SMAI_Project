<p>I have a core code in MATLAB, and it need to be run many times. </p>  <ol> <li><p>I first compile the MATLAB code with MATLAB mcc to a standalone executable. and the executable can be run from a shell script. The shell script contains: </p>  <ul> <li>setup MATLAB runtime environment </li> <li>run the standalone executable. </li> </ul></li> <li><p>I am trying to use Hadoop Streaming to execute the shell, Hadoop Streaming success. The MATLAB is not executed, since the MATLAB code will write result to a  file.  and the file is not exist. </p></li> </ol>  <p>The command to run hadoop streaming is:</p>  <pre><code>hadoop jar ~/hadoop-1.2.1/contrib/streaming/hadoop-streaming-1.2.1.jar -input DTI/cmind_hadoop.txt -output DTI/test -file calc_p_value_sh.sh -mapper calc_p_value_sh.sh </code></pre>  <p>The shell script to run MATLAB executable is:</p>  <pre><code>#!/bin/sh # script for execution of deployed applications # # Sets up the MCR environment for the current $ARCH and executes  # the specified command. #  # echo Setting up environment variables MCRROOT="/home/s/matlab2013" # echo --- LD_LIBRARY_PATH=.:${MCRROOT}/runtime/glnxa64 ; LD_LIBRARY_PATH=${LD_LIBRARY_PATH}:${MCRROOT}/bin/glnxa64 ; LD_LIBRARY_PATH=${LD_LIBRARY_PATH}:${MCRROOT}/sys/os/glnxa64; MCRJRE=${MCRROOT}/sys/java/jre/glnxa64/jre/lib/amd64 ; LD_LIBRARY_PATH=${LD_LIBRARY_PATH}:${MCRJRE}/native_threads ;  LD_LIBRARY_PATH=${LD_LIBRARY_PATH}:${MCRJRE}/server ; LD_LIBRARY_PATH=${LD_LIBRARY_PATH}:${MCRJRE}/client ; LD_LIBRARY_PATH=${LD_LIBRARY_PATH}:${MCRJRE} ;    XAPPLRESDIR=${MCRROOT}/X11/app-defaults ; export LD_LIBRARY_PATH; export XAPPLRESDIR; echo LD_LIBRARY_PATH is ${LD_LIBRARY_PATH};  exe_dir=/home/s/absolute_path  while read LINE; do # eval "${exe_dir}"/calc_p_value_backup cmind_age_gender.mat $LINE 2 # echo "${exe_dir}"/calc_p_value_backup cmind_age_gender.mat $LINE 2  done  exit </code></pre>  <p>Does anyone know how to make it work?</p>