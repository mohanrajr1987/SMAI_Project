<p>I've got a problem regarding the following code in WP. It is supposed to copy original comment to a different section and edit the original comment into "TEST".</p>  <p>It works, but it doesn't stop. Somehow it creates an endless loop and I've been sitting here for quite some and I still can't figure it out.</p>  <p>Thanks in advance</p>  <pre><code>public function copy_and_rewrite_original( $comment_content )  { global $comment; $answer = $_POST['ans'];   if ($answer == "ans1") {               $screen = get_current_screen();     $comment_post_ID = 681;     $comment_ID = (int) $_POST['comment_ID'];     $data1 = get_comment( $comment_ID );         $data = array(           'comment_post_ID' =&gt; 681,           'comment_author' =&gt; $data1-&gt;comment_author,           'comment_author_email' =&gt; $data1-&gt;comment_author_email,           'comment_author_url' =&gt; $data1-&gt;comment_author_url,           'comment_content' =&gt; $data1-&gt;comment_content,           'comment_type' =&gt; $data1-&gt;comment_type,           'comment_parent' =&gt; $data1-&gt;comment_parent,           'user_id' =&gt; $data1-&gt;user_id,           'comment_agent' =&gt; $data1-&gt;comment_agent,           'comment_date' =&gt; $data1-&gt;comment_date,           'comment_approved' =&gt; $data1-&gt;comment_approved,           );      wp_insert_comment($data);   // Here comes the problem, editing the original comment         $commentarr = array();     $commentarr['comment_ID'] = 1;     $commentarr['comment_content'] = 'TEST';     wp_update_comment( $commentarr );     }      wp_update_comment_count( $comment_post_ID );     return $comment_content; }    </code></pre>