<p>I'm trying to use angular with requirejs. Here is my <code>index.html</code> file</p>  <pre><code>&lt;!DOCTYPE html&gt; &lt;html&gt;     &lt;head&gt;         &lt;script data-main="/js/app.js" src="/bower_components/requirejs/require.js"&gt;&lt;/script&gt;     &lt;/head&gt;     &lt;body &gt;     &lt;div ng-view ng-controller="accountController"&gt;&lt;/div&gt;     &lt;/body&gt; &lt;/html&gt; </code></pre>  <p>app.js file</p>  <pre><code>require.config (             {             appDir  : '',             baseUrl : '/js/',             paths   :             {                 // Configure alias to full paths                 'angular': '/bower_components/angular/angular.min',                 'ngRoute': '/bower_components/angular-route/angular-route.min',                 'main': 'main'              },             shim    :             {                 'main':{                     deps: ["angular", 'ngRoute']                 },                 'ngRoute':{                     deps: ["angular"]                 }             }         });   require( [ "main" ], function( app )         {             // Application has bootstrapped and started...         }); </code></pre>  <p><code>main.js</code> file</p>  <pre><code>define([     'common/RouteManager'     ], function(RouteManager){     var appName = 'elara',         depends = ['ngRoute'],         app = angular.module(appName, depends).config(RouteManager)          angular.bootstrap(document.getElementsByTagName('body')[0], [ ]);          return app; }); </code></pre>  <p>RouterManager.js</p>  <pre><code>(function ( define ) {     define([         'controllers/account'         ], function(){         var RouteManager = $routeProvider.when("/", angularAMD.route({             templateUrl: '/html/tmpl/test.html', controller: 'registerController',             controllerUrl: 'controllers/account.js'         })).otherwise({redirectTo: "/"});          return ["$routeProvider", RouteManager ];     }) }); </code></pre>  <p>And finally my controller:</p>  <pre><code>define(['common/settings'], function(settings){     var accountController = function($scope, $http){         $scope.username = "";         $scope.password = "";          $scope.register = function(){             $http.post(config.apiAddress + "account/login/", {username: $scope.username, password: $scope.password}).then(                 function(data){                     console.log(data);                 }, function(response){                     console.log(response);                 })         }     };      return accountController; }); </code></pre>  <p>I'm getting </p>  <blockquote>   <p>Argument 'accountController' is not a function, got undefined</p> </blockquote>  <p>exception. When i check network tab, my <code>account.js</code> file is not loaded. So angular don't know anything about <code>accountController</code></p>