<p>I am trying to create an interface, with same methods, that do same things depending on the device where my web app is running. I would like to create a module empty, and depending on the device, owerwrite that value (I donÂ´t want to load any module that is not neccessary). Currently, I have 3 modules.</p>  <p>First one, once everything is loaded execute the method init from module main:</p>  <pre><code>require( [ "browser", "valueDynamic" ], function( browser, valueDynamic ) {      switch ( browser ) {          case "android":             require( [ "android", "main" ], function( android, main ) {                 valueDynamic = android;                 main.init();             } );             break;          case "pc":             require( [ "pc", "main" ], function( pc, main ) {                 valueDynamic = pc;                 main.init();             } );             break;      }   } ); </code></pre>  <p>Module valueDynamic, just and empty object that I will overwrite in time execution in previous module:</p>  <pre><code>define(function() {      return {};  } ); </code></pre>  <p>And finally module main, with init method:</p>  <pre><code>define( [ "valueDynamic" ],      function( valueDynamic ) {         var main = {};          main.init = function() {             console.log(valueDynamic); // Object empty         };          return main;     } ); </code></pre>  <p>Why valueDinamyc is empty? What am I doing wrong?</p>  <p>Thanks a lot, best regards.</p>