<p>I apologise if this post's title is cryptic. </p>  <p>I have a data frame with a nested data structure: multiple rows pertaining to the same unique identifier, i.e. repeated observations of the same people. Each row, for each person, has a date when the observations was taken. For instance, </p>  <pre><code>    data = data.frame(id=c(1,1,1,2,2,2,3,3,3),                date= c("1/9/13", "3/9/13", "4/9/13", "18/6/13", "19/6/13", "22/6/13", "5/8/13", "6/8/13", "7/8/13"),               observation = c(1,1,2,2,1,2,3,4,1))        id    date    observation       1     1/9/13   1       1     3/9/13   1       1     4/9/13   2       2     18/6/13  2       2     19/6/13  1       2     22/6/13  2       3     5/8/13   3       3     6/8/13   4       3     7/8/13   1 </code></pre>  <p>What I would like is to create a separate vector called 'Obs_day' that denotes on which day since the first observation was an observation taken, like this:</p>  <pre><code>      id    date    observation   obs_day       1     1/9/13   1             1       1     3/9/13   1             3       1     4/9/13   2             4       2     18/6/13  2             1       2     19/6/13  1             2       2     22/6/13  2             5       3     5/8/13   3             1       3     6/8/13   4             2       3     7/8/13   1             3 </code></pre>  <p>I'm struggling to get started with this, although envisage having to use the seq_along function. </p>  <p>I am most unsure about specifying to R to apply a function to all rows of each unique identifier/person. </p>  <p>Does anyone have some ideas or advice?</p>  <p>Thanks in advance. </p>