<p>This problem has 2 level Level 1.  I have a 64 bit bitmap and I know only few of them are on or set to 1. Is there a way to get which bits are set without using branching ?</p>  <p>e.g.___(0)___________________________________________________________(63)</p>  <p>BMP = 000000001000010000000000010000000000000000000000011000000000000 </p>  <p>f(BMP) = {9, 14, 26, 51, 52}</p>  <p>Level 2.</p>  <p>Now I have 2 64 bit bitmaps and I need combination of set bits in 2. </p>  <p>e.g.____(0)___________________________________________________________(63)</p>  <p>BMP1 = 000000001000000000000000000000000000000000000000011000000000000 </p>  <p>BMP2 = 000000000000010000000000010000000000000000000000000000000000000</p>  <p>f(BMP1, BMP2) = {(9,14), (9, 26), (51, 14), (51, 26), (52, 14), (52, 26)}</p>  <ol> <li>I know that the bitmap almost always is sparse. </li> <li>It would be great if the solution suggested can be expanded to more than 2 bitmaps at a time but I would rather have a method which works extremely fast for upto 2 and then a little slower for more than that.</li> <li>Even if solution without branching is not possible then please suggest what will be fastest possible method with branching. </li> </ol>  <p>(Sorry for bad formatting)</p>