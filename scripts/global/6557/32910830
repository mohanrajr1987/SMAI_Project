<p>I am using a custom class RounedImageView to display some bitmap that i received from either a database, or localy.</p>  <pre><code>public class RoundedImageView extends ImageView {  public RoundedImageView(Context ctx, AttributeSet attrs) {     super(ctx, attrs); }  @Override protected void onDraw(Canvas canvas) {      Drawable drawable = getDrawable();     Log.d("ROUND", "drawable value :  " + drawable);     if (drawable == null) {         return;     }      if (getWidth() == 0 || getHeight() == 0) {         return;     }     Bitmap b = ((BitmapDrawable) drawable).getBitmap();     if (b != null)     {         Log.d("ROUND", "bitmap b value : " + b);         Bitmap bitmap = b.copy(Bitmap.Config.ARGB_8888, true);          int w = getWidth(), h = getHeight();         Bitmap roundBitmap = getRoundedCroppedBitmap(bitmap, w);         canvas.drawBitmap(roundBitmap, 0, 0, null);     } }  public static Bitmap getRoundedCroppedBitmap(Bitmap bitmap, int radius) {     Bitmap finalBitmap;     if (bitmap.getWidth() != radius || bitmap.getHeight() != radius)         finalBitmap = Bitmap.createScaledBitmap(bitmap, radius, radius,                 false);     else         finalBitmap = bitmap;     Bitmap output = Bitmap.createBitmap(finalBitmap.getWidth(),             finalBitmap.getHeight(), Config.ARGB_8888);     Canvas canvas = new Canvas(output);      final Paint paint = new Paint();     final Rect rect = new Rect(0, 0, finalBitmap.getWidth(),             finalBitmap.getHeight());      paint.setAntiAlias(true);     paint.setFilterBitmap(true);     paint.setDither(true);     canvas.drawARGB(0, 0, 0, 0);     paint.setColor(Color.parseColor("#BAB399"));     canvas.drawCircle(finalBitmap.getWidth() / 2 + 0.7f,             finalBitmap.getHeight() / 2 + 0.7f,             finalBitmap.getWidth() / 2 + 0.1f, paint);     paint.setXfermode(new PorterDuffXfermode(Mode.SRC_IN));     canvas.drawBitmap(finalBitmap, rect, rect, paint);      return output; } </code></pre>  <p>}</p>  <p>This code worked perfectly untile some days ago, but sometimes drawable is null and then i have en empty view displayed.</p>  <p>This behavior started a few days ago.</p>  <p>Is it possible that it is due to the deprecation of <code>getDrawable()</code> since API 22 ?</p>  <p>Any idea otherwise?</p>  <p>Regards,</p>