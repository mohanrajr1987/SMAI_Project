<p>I have a NSURLconnection implementation and am trying to migrate to NSURlsession for IOS-9.  </p>  <p>NSURLconnection implementation:  </p>  <pre><code>@property (nonatomic, strong, readwrite) NSURLConnection *  connection;     </code></pre>  <p>Custom delegate methods:  </p>  <pre><code>-(BOOL)connection:(NSURLConnection *)connection ---canAuthenticateAgainstProtectionSpace:(NSURLProtectionSpace*)protectionSpace    -(void)connection:(NSURLConnection *)connection  didReceiveAuthenticationChallenge:(NSURLAuthenticationChallenge *)challenge   - (void)connection:(NSURLConnection *)conn didReceiveResponse:(NSURLResponse *)aresponse   -(void)connection:(NSURLConnection *)conn didReceiveData:(NSData *)data   - (void)connectionDidFinishLoading:(NSURLConnection *)conn - (void)connection:(NSURLConnection *)theConnection didFailWithError:(NSError*)error    self.connection = [NSURLConnection connectionWithRequest:request delegate:self]; </code></pre>  <p>Now when i modified the above impl to NSURLsession based impl, i now have  </p>  <pre><code>@property (nonatomic, strong, readwrite) NSURLSession *session;   </code></pre>  <p>Custom delegate Method :  </p>  <pre><code>- (BOOL)URLSession:(NSURLSession *)session task:(NSURLSessionTask *)task canAuthenticateAgainstProtectionSpace:(NSURLProtectionSpace*)protectionSpace   - (void)URLSession:(NSURLSession *)session task:(NSURLSessionTask *)task didReceiveAuthenticationChallenge:(NSURLAuthenticationChallenge *)challenge   - (void)URLSession:(NSURLSession *)session task:(NSURLSessionTask *)task didReceiveResponse:(NSURLResponse *)aresponse   - (void)URLSession:(NSURLSession *)session task:(NSURLSessionTask *)task didReceiveData:(NSData *)data    - (void)URLSession:(NSURLSession *)session task:(NSURLSessionTask *)task connectionDidFinishLoading:(NSURLConnection *)conn   - (void)URLSession:(NSURLSession *)session task:(NSURLSessionTask *)task didFailWithError:(NSError *)error     NSURLSessionConfiguration *configuration = [NSURLSessionConfiguration    defaultSessionConfiguration]; self.session = [NSURLSession sessionWithConfiguration:configuration                                                                  delegate:self                                                                    delegateQueue: nil]; NSURLSessionDataTask *task = [self.session dataTaskWithRequest:request]; [task resume];  </code></pre>  <p>After this , i am getting compilation error as below:  </p>  <pre><code>./../source/smmacosx/smplt.m:663:33: error: sending     'SmHttpsAuthenticationHandler *' to parameter of incompatible type 'id&lt;NSURLSessionDelegate&gt; _Nullable' [-Werror]                                                                                                                             delegate: self                                                                                                                                     ^~~~   /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS9.0.sdk/System/Library/Frameworks/Foundation.framework/Headers/NSURLSession.h:135:132: note:         passing argument to parameter 'delegate' here   + (NSURLSession *)sessionWithConfiguration:(NSURLSessionConfiguration   *)configuration delegate:(nullable id &lt;NSURLSessionDelegate&gt;)delegate delegateQueue:(nullable NSOperati... </code></pre>  <p>I am not able to understand why delegate=self in NSURLSession Impl is throwing such an error? SmHttpsAuthenticationHandler is an interface defined as</p>  <pre><code> @interface SmHttpsAuthenticationHandler: NSObject{....} and then   @implementation SmHttpsAuthenticationHandler </code></pre>  <p>Please help.Please give any pointers on NSURLSession implementation.  Thanks a lot.    </p>