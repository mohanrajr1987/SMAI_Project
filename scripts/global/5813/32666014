<pre><code>#include&lt;stdio.h&gt;  main() {     int count;     fprintf(stderr, "Starting program.\n");     scanf("%d", &amp;count);     fprintf(stderr, "Read: %d\n", count);  } </code></pre>  <p>I am simply trying to read a number from stdin and repeating it on stderr, when i compile and run I see the first stderr print and then the code blocks as expected, but when i pipe input to the program I never see the stderr prints and the program exits immediately.</p>  <p>I tried to add a sleep(5) after the last print to stderr but the program just exits immediately without any output.</p>  <pre><code>gcc pipetest.c -o b echo '2'  &gt; ./b </code></pre>