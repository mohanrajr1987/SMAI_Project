<p>I have REST API with JAX-RS, and I need to add encryption to the responses, so I added a servlet filter:</p>  <pre><code>public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain)         throws IOException, ServletException {      ServletRequestWrapper request = new ServletRequestWrapper((HttpServletRequest) servletRequest);     ServletResponseWrapper response = new ServletResponseWrapper((HttpServletResponse) servletResponse);     PrintWriter out = response.getWriter();      filterChain.doFilter(request, response);      response.getResponse().resetBuffer();     String servletResponseString = response.toString();     out.write("Hola"); // Here you can change the response     out.flush();     out.close();      logger.info("AFTER filter, original response: "             + servletResponseString); } </code></pre>  <p>But I get <code>java.lang.IllegalStateException: Response already committed</code></p>  <p>Is there any problem using JAX-RS and servlet filters? Is there any way to retain the response from being send?</p>  <p>Thanks.</p>