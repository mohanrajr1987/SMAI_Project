<p>I get the user name in my JAX-RS resource with <code>SecurityContextHolder</code> and that works: </p>  <pre><code>@Path("/myresource") public class MyResoure {       @Get      public String getUserName() {           return SecurityContextHolder.getContext().getAuthentication().getName();      } } </code></pre>  <p>But I want to inject the SecurityContext into a class field (to write JUnit tests). I tried some documented ways:</p>  <p>With <code>javax.ws.rs.core.SecurityContext</code> I get a <code>NullPointerException</code>, because the <code>securityContext</code> is always <code>null</code>. </p>  <pre><code>@Path("/myresource") public class MyResoure {      @Context     private javax.ws.rs.core.SecurityContext securityContext;      @Get     public String getUserName() {         return securityContext.getUserPrincipal().getName();     } } </code></pre>  <p>With <code>org.apache.cxf.security.SecurityContext</code> (see <a href="http://cxf.apache.org/docs/jax-rs-and-jax-ws.html#JAX-RSandJAX-WS-Dealingwithcontexts" rel="nofollow">Apache CXF documentation</a>) I get a <code>NullPointerException</code>, because the <code>securityContext.getUserPrincipal()</code> is always <code>null</code>. </p>  <pre><code>@Path("/myresource") public class MyResoure {      @Context     private org.apache.cxf.security.SecurityContext securityContext;      @Get     public String getUserName() {         return securityContext.getUserPrincipal().getName();     } } </code></pre>  <p>With <code>org.apache.cxf.jaxrs.ext.MessageContext</code> (see <a href="http://cxf.apache.org/docs/jax-rs-and-jax-ws.html#JAX-RSandJAX-WS-Dealingwithcontexts" rel="nofollow">Apache CXF documentation</a>) I get a <code>NullPointerException</code>, because the <code>messageContext.getSecurityContext().getUserPrincipal()</code> is always <code>null</code>. </p>  <pre><code>@Path("/myresource") public class MyResoure {      @Context     private org.apache.cxf.jaxrs.ext.MessageContext messageContext;      @Get     public String getUserName() {         return messageContext.getSecurityContext().getUserPrincipal().getName();     } } </code></pre>  <p>With <code>javax.servlet.http.HttpServletRequest</code> I get a <code>NullPointerException</code>, because the <code>httpServletRequest.getUserPrincipal()</code> is always <code>null</code>. </p>  <pre><code>@Path("/myresource") public class MyResoure {      @Context     private javax.servlet.http.HttpServletRequest httpServletRequest;      @Get     public String getUserName() {         return httpServletRequest.getUserPrincipal().getName();     } </code></pre>