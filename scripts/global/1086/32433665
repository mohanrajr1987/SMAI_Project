<p>I have an application which on launch does this ugly thing:</p>  <pre><code>                Ext.lang = function (langId) {                     if (Ext.local[langId]) {                         return Ext.local[langId];                     }                     if (!localStorage.getItem('localLangBackup')) {                         delete window.localStorage.localLang;                         localStorage.setItem('localLangBackup', true);                     }                     return langId;                 } </code></pre>  <p>I would love to refactor the thing to: </p>  <pre><code>Ext.define('Ext.lang',{whatever gous in here...}) </code></pre>  <p>But so far no luck because when I try:</p>  <pre><code> Ext.define('Ext.lang', function (langId) {         if (Ext.local[langId]) {             return Ext.local[langId];         }         if (!localStorage.getItem('localLangBackup')) {             delete window.localStorage.localLang;             localStorage.setItem('localLangBackup', true);         }         return langId;     }); </code></pre>  <p>I get </p>  <blockquote>   <p>Class.extend is not a function</p> </blockquote>