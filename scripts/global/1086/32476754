<p>I'm currently writing a C# Web Api in Visual Studio 2015. I'm actually copy pasting quite a lot of code.</p>  <pre><code>public class APIController : ApiController {     [HttpGet]     [Route("api/drones")]     public HttpResponseMessage getDrones()     {         var drones = db.drones.Select(d =&gt; new DroneDTO         {             iddrones = d.iddrones,             //more stuff         });         HttpResponseMessage res = Request.CreateResponse(HttpStatusCode.OK, drones);         return res;     }      [HttpGet]     [Route("api/drones/{id}")]     public HttpResponseMessage getDrones(int id)     {         var drone = db.drones.Select(d =&gt; new DroneDTO         {             iddrones = d.iddrones,             //more stuff         }).Where(drones =&gt; drones.iddrones == id);         HttpResponseMessage res = Request.CreateResponse(HttpStatusCode.OK, drone);         return res;     } } </code></pre>  <p>How should I refactor that? At first I thought about moving the var to a class member, but that doesn't seem to be allowed.</p>