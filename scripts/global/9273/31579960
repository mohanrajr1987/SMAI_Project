<p>I have following classes</p>  <pre><code>public class Books {     public Books()     {         BookList = new List&lt;Book&gt;();     }     public Customer Customer { get; set; }     public List&lt;Book&gt; BookList { get; set; }     public bool ShouldSerializeBookList(){         -- serialize only when the particular book selected property is true--     } }  public class Book {     public string Title { get; set; }     public bool Selected { get; set; } } </code></pre>  <p>Consider I have three books with title t1,t2,t3. But only t1 and t3 are selected. </p>  <p>So how can I serialize this class into the following xml based on Selected property of each book?</p>  <p><code>&lt;Books&gt;      &lt;Book Title="t1" /&gt;      &lt;Book Title="t3" /&gt;  &lt;/Books&gt;</code></p>