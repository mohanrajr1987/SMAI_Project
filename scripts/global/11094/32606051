<p>I have this dataset:</p>  <pre><code>        V1  V2  V3  V4  SN [1]     a   t1  Q1  1   001 [2]     a   t1  Q2  2   001 [3]     a   t1  Q1  3   002 [4]     a   t1  Q2  4   002 [5]     a   t2  Q1  5   003 [6]     a   t2  Q2  6   003 [7]     b   t1  Q1  7   004 [8]     b   t3  Q1  8   005 [9]     b   t3  Q2  9   005 ...     ..  ..  ..    .. </code></pre>  <p>V1 is the customer, V2 is the product type, V3 is the quarter and V4 is the value of an economic variable.SN is the serial number, unique for each product because they are different one from each other.</p>  <p>I would like to create a new table that contains:</p>  <pre><code>      V1    V2       V5   V6  V7 [1]   a     t1  1+2+3+4   2    2 [2]   a     t2      5+6   1    2      [3]   b     t1        7   1    1 [4]   b     t3      8+9   1    2 ...    ..    ...    ...   ..   .. </code></pre>  <p>where V5 is the sum of the values contained in V4 (i would like to have 10, not 1+2+3+4); V6 is the number of the same product owned by the same customer; V7 is how many quarter are reported.</p>  <p>So basically I would like to have the total sum of the values contained in V4 grouped by customer and by product type. </p>  <p>I thought about a for or a tapply cycle but I do not know how to write it with R.</p>  <p>In alternative I would like to identify the rows that have same V1 and same V2 and then sum all the other variables together. </p>  <p>Thanks in advance for your help!</p>  <p>AR</p>