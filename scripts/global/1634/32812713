<p>I test webapp on AWS Elastic Beanstalk (Tomcat 8).</p>  <p>I would like to rewrite third level domain requests to specific urls.</p>  <p>For example:<br>   request <em>aaa.example.com</em> rewrite to <em>example.com/#!aaa</em><br>   request <em>bbb.example.com</em> rewrite to <em>example.com/#!bbb</em><br> etc...  </p>  <p>This is Elastic Beanstalk /etc/httpd/conf.d/elasticbeanstalk.conf</p>  <pre><code>&lt;VirtualHost *:80&gt;   &lt;Proxy *&gt;     Order deny,allow     Allow from all   &lt;/Proxy&gt;    ProxyPass / http://localhost:8080/ retry=0   ProxyPassReverse / http://localhost:8080/   ProxyPreserveHost on    RewriteEngine on    RewriteCond %{HTTP_HOST} ^aaa.example.com [NC]   RewriteCond %{HTTP_HOST} ^www.aaa.mydomain.com [NC]   RewriteRule ^(.*)$ http://www.example.com/#!aaa$1 [L]    RewriteCond %{HTTP_HOST} ^bbb.example.com [NC]   RewriteCond %{HTTP_HOST} ^www.bbb.example.com [NC]   RewriteRule ^(.*)$ http://www.example.com/#!bbb$1 [L]    RewriteCond %{HTTP_HOST} ^ccc.example.com [NC]   RewriteCond %{HTTP_HOST} ^www.ccc.example.com [NC]   RewriteRule ^(.*)$ http://www.example.com/#!ccc$1 [L]    ErrorLog /var/log/httpd/elasticbeanstalk-error_log  &lt;/VirtualHost&gt; </code></pre>  <p>But rewrite don't work.<br> Hope it's clear enough, can you point me in the right direction?</p>