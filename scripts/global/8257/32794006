<p>I'm trying to composite multiple images into a single stream that will be piped as a response.  I'm using Node.js and GraphicsMagick for Node at <a href="https://github.com/aheckmann/gm" rel="nofollow">https://github.com/aheckmann/gm</a>.  </p>  <p>If I'm compositing two images into a stream it works fine and for this example it shows two/thirds of the final composite as expected. Here is my code:</p>  <pre><code>app.get('/call_2image_stream', function(req, res){      res.writeHead(200, {'Content-Type' : 'image/png'});     var path = (__dirname + '/test_folder/happy_right.png');     var path2 = (__dirname + '/test_folder/happy_left.png');     gm(path)       .composite(path2)       .stream('png')       .pipe(res); }) </code></pre>  <p>This works great in Postman <a href="http://i.stack.imgur.com/V6Bx0.png" rel="nofollow"><img src="http://i.stack.imgur.com/V6Bx0.png" alt="Have a great day"></a></p>  <p>But when I try and composite three images it doesn't fill in the bottom part of the picture correctly as intended.  The code is this:</p>  <pre><code>app.get('/call_3image_stream', function(req, res){      res.writeHead(200, {'Content-Type' : 'image/png'});     var path = (__dirname + '/test_folder/happy_bottom.png');     var path2 = (__dirname + '/test_folder/happy_right.png');     var path3 = (__dirname + '/test_folder/happy_left.png');     gm(path)       .composite(path2)       .composite(path3)       .stream('png')       .pipe(res); }) </code></pre>  <p>I can't figure out why the output is this: <a href="http://i.stack.imgur.com/iugmQ.png" rel="nofollow"><img src="http://i.stack.imgur.com/iugmQ.png" alt="not having the best day anymore"></a></p>