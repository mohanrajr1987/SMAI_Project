<p>I'm trying to unit test some functionality I've built with Gulp, using Mocha my testing framework. I'm new to unit testing, and have been using the <code>gulp-concat</code> <a href="https://github.com/contra/gulp-concat/blob/master/test/main.js" rel="nofollow">testing</a> as an example.</p>  <p>However, I'm running into an issue where <code>gulp.src</code> isn't finding anything when run with <code>mocha</code>. I've tried running the exact code from <code>it</code> separately, and it worked fine. Run with <code>mocha</code>, <code>gulp.src</code> isn't entering anything into the stream.</p>  <pre><code>var sample = Path.join(__dirname, 'sample.html'); describe('feature', function() {    it('should do something', function() {       gulp.src(sample)          .pipe((function() {             var stream = through.obj(function(file, enc, callback) {                console.log(file.path);                this.push(file);                callback();             });             return stream;          })());    }); }); </code></pre>