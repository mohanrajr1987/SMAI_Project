<p>I have Basler camera acA2000-165nmNIR and my OpenCV project. I have problem with streaming image AND converting it to cv::Mat. </p>  <p>Here is the sample code:</p>  <pre><code>int main(int argc, char* argv[]){ // The exit code of the sample application. int exitCode = 0;  // Automagically call PylonInitialize and PylonTerminate to ensure the pylon runtime system // is initialized during the lifetime of this object. Pylon::PylonAutoInitTerm autoInitTerm;  try {     // Create an instant camera object with the camera device found first.     CInstantCamera camera( CTlFactory::GetInstance().CreateFirstDevice());      // Print the model name of the camera.     cout &lt;&lt; "Using device " &lt;&lt; camera.GetDeviceInfo().GetModelName() &lt;&lt; endl;      // The parameter MaxNumBuffer can be used to control the count of buffers     // allocated for grabbing. The default value of this parameter is 10.     camera.MaxNumBuffer = 5;      // Start the grabbing of c_countOfImagesToGrab images.     // The camera device is parameterized with a default configuration which     // sets up free-running continuous acquisition.     camera.StartGrabbing( c_countOfImagesToGrab);      // This smart pointer will receive the grab result data.     CGrabResultPtr ptrGrabResult;      // Camera.StopGrabbing() is called automatically by the RetrieveResult() method     // when c_countOfImagesToGrab images have been retrieved.     while ( camera.IsGrabbing())     {         // Wait for an image and then retrieve it. A timeout of 5000 ms is used.         camera.RetrieveResult( 5000, ptrGrabResult, TimeoutHandling_ThrowException);          // Image grabbed successfully?         if (ptrGrabResult-&gt;GrabSucceeded())         {             // Access the image data.             cout &lt;&lt; "SizeX: " &lt;&lt; ptrGrabResult-&gt;GetWidth() &lt;&lt; endl;             cout &lt;&lt; "SizeY: " &lt;&lt; ptrGrabResult-&gt;GetHeight() &lt;&lt; endl;             const uint8_t *pImageBuffer = (uint8_t *) ptrGrabResult-&gt;GetBuffer();             cout &lt;&lt; "Gray value of first pixel: " &lt;&lt; (uint32_t) pImageBuffer[0] &lt;&lt; endl &lt;&lt; endl;              // Display the grabbed image.             Pylon::DisplayImage(1, ptrGrabResult);         }         else         {             cout &lt;&lt; "Error: " &lt;&lt; ptrGrabResult-&gt;GetErrorCode() &lt;&lt; " " &lt;&lt; ptrGrabResult-&gt;GetErrorDescription() &lt;&lt; endl;         }     } } catch (GenICam::GenericException &amp;e) {     // Error handling.     cerr &lt;&lt; "An exception occurred." &lt;&lt; endl     &lt;&lt; e.GetDescription() &lt;&lt; endl;     exitCode = 1; }  // Comment the following two lines to disable waiting on exit. cerr &lt;&lt; endl &lt;&lt; "Press Enter to exit." &lt;&lt; endl; while( cin.get() != '\n');  return exitCode;} </code></pre>  <p>As soon as I declare anything inside the <code>if(ptrGrabResult-&gt;grabSucceeded())</code> loop I get somekind of lagging in image streaming. To be specific image in <code>Pylon::DisplayImage(1, ptrGrabResult)</code> has some lag.</p>  <p>For example if I add right after <code>Pylon::DisplayImage(1, ptrGrabResult)</code></p>  <pre><code>// image convert //                  Pylon::CPylonImage image;                 Pylon::CImageFormatConverter converter;                  // OutputPixelFormat must be PixelType_BGRA8packed for image proccessing in OpenCV //                  converter.OutputPixelFormat = Pylon::PixelType_BGRA8packed;                 converter.OutputBitAlignment = Pylon::OutputBitAlignment_MsbAligned;                 converter.Convert(image, ptrGrabResult); </code></pre>  <p>my image streaming starts to have some lag(video stream is not smooth).</p>  <p>I also get an error (from time to time - i think it writes this error in moment when stream starts to lag)</p>  <p>Error: 3791651346 Payload data has been discarded. Payload data can be discarded by the camera device if the available bandwidth is insufficient.</p>  <p>If i try this example: <a href="http://stackoverflow.com/questions/25180881/basler-pylon-4-sdk-and-opencv-2-4-8-linux-simple-viewer">Basler Pylon 4 SDK and OPENCV 2.4.8, Linux simple viewer</a> I get same results.</p>  <p>Can anyone help somehow?</p>