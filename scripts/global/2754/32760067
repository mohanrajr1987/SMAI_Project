<p>I try to make a yearly country import matrix out of a yearly <code>list</code> using the <code>cast</code> function in the <code>reshape-package</code>. As I try this for a single year everything works fine. See code (test-dataset below!) : </p>  <p><code>OCTC2011 &lt;- cast(OC ~ TC, data =Import_Year[["2011"]], value = "Value")</code></p>  <p>The result is a matrix containing the import-values of the year 2011 from the origin-country (OC) (rows) to the target-country (TC) (columns).</p>  <p>However, as I use a large dataset consisting of different products for different years, I want to put this procedure in a loop. I tried following:   </p>  <pre><code>library(reshape) OCTC &lt;- 0 for(i in 1:length(unique(Import_Year)))  {   OCTC[i] &lt;- cast(OC ~ TC, data =Import_Year[[i]], value = "Value") } </code></pre>  <p>Which delivers the warning: <code>number of items to replace is not a multiple of replacement length</code>, probably due to a wrong indexing as I'am hardly familiar with loops.</p>  <p>Here I produced a simple dataset for my problem:</p>  <pre><code>OC &lt;- c("A", "A", "B", "B", "C", "C", "D", "D") TC &lt;- c("Z", "Z", "Y", "Y", "X", "X", "W", "W") Value &lt;- c(1,2,3,4,5,6,7,8) Year &lt;- c(2010,2011) df_import &lt;- data.frame(OC,TC,Value, Year) Import_Year &lt;- split(df_import, df_import$Year) </code></pre>  <p>I appreciate every comment on this. Thanks</p>