<p>I have two files - one is a large file containing variants in genes, with multiple columns separated by tab. The column containing the gene names may contain a single name, or multiple names separated by commas (gene name in example is SAMD11 and NOC2L):</p>  <pre><code>1   874816  874816  -   T   rs200996316 SAMD11  exonic  ENSG00000187634 frameshift insertion 1   878331  878331  C   T   rs148327885 SAMD11  exonic  ENSG00000187634 nonsynonymous SNV 1   879676  879676  G   A   rs6605067   NOC2L,SAMD11    UTR3    ENSG00000187634,ENSG00000188976 1   879687  879687  T   C   rs2839  NOC2L,SAMD11    UTR3    ENSG00000187634,ENSG00000188976 1   881918  881918  G   A   rs35471880  NOC2L   exonic  ENSG00000188976 nonsynonymous SNV 1   888659  888659  T   C   rs3748597   NOC2L   exonic  ENSG00000188976 nonsynonymous SNV </code></pre>  <p>The second file is a single column list of gene names, such as this:</p>  <pre><code>EVC2 SAMD11 COMT </code></pre>  <p>I want to match the gene names in the second file with those in the first file. I am currently using awk:</p>  <pre><code>awk -F $'\t' 'BEGIN { while(getline &lt;"secondfile.txt") gene[$0]=1; } gene[$7]' firstfile.txt &gt; newfile.txt </code></pre>  <p>However, this only prints exact matches so doesn't print the lines with NOC2L,SAMD11. From the above example, the expected output would be the first four lines of the first file:</p>  <pre><code>1   874816  874816  -   T   rs200996316 SAMD11  exonic  ENSG00000187634 frameshift insertion 1   878331  878331  C   T   rs148327885 SAMD11  exonic  ENSG00000187634 nonsynonymous SNV 1   879676  879676  G   A   rs6605067   NOC2L,SAMD11    UTR3    ENSG00000187634,ENSG00000188976 1   879687  879687  T   C   rs2839  NOC2L,SAMD11    UTR3    ENSG00000187634,ENSG00000188976 </code></pre>  <p>I want it to still do exact matches, as some of the gene names can be similar - eg there may be a gene called SAMD1, and if I did a fuzzy match for that then I would get SAMD1, SAMD11 and so on. So I need something that does an exact match but ignores the comma in the gene name column, or treats it as a field delimiter or similar.</p>  <p>Thanks in advance.</p>