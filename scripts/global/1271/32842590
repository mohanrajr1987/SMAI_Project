<p>I have a file containing strings like </p>  <pre><code>xxxbbxxxbxbx xxxbxxxxbxxx xxbxxxbxxbxx bbbbxxxxxxxx bxxxxxxxxxxx xxxxbxxxxxxx xxxxbbxxbbxx xxxxbbbbxxxx xxxxbbbbbxxx </code></pre>  <p>In reality the file <code>x</code> is really a variety of uninteresting alphabetical characters. I want to use grep to print out all the lines where <code>b</code> occurs <em>exactly</em> four times. </p>  <p>If I use <code>grep -e "[^b]b[^b]\{0,4\}b[^b]\{0,4\}b[^b]\{0,4\}b[^b]\{1,4\}" test.txt</code> it excludes the last line (I want), but also excludes line 4 (I don't want) where the line starts with <code>b</code>.</p>  <p>If I use <code>grep -e "b[^b]\{0,4\}b[^b]\{0,4\}b[^b]\{0,4\}b[^b]\{1,4\}" test.txt</code>, it catches line 4 (I want) but also the last line (I don't want).</p>