<p>I'm writing a brainfuck interpreter in AT&amp;T x64 assembly, on a Linux VM. The interpreter is finished, but my assignment says that it has to take the bf program from a file, and that's the problem.</p>  <p>The current code for this purpose is</p>  <pre><code>movq    $2, %rax movq    $filename, %rdi movq    $0, %rsi # open in readonly mode movq    $0, %rdx # the default for the mode argument syscall  movq    %rax, %rdi movq    $0, %rax movq    $buffer, %rsi movq    $30000, %rdx syscall </code></pre>  <p>But nothing happens. No errors. No I/O. I've been searching for a solution for about 3 hours, but unfortunately there's waaay too little documentation on this specific branch of Assembly.</p>  <p><strong>EDIT</strong> Apparently the opening syscall returns -2?? When I execute</p>  <pre><code>cmpw    $-2, %ax je      end </code></pre>  <p>immediately after the previous code block (end is the end routine), the program terminates after opening the file. Otherwise, it will do some other stuff and then terminate.</p>