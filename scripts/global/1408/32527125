<p>I have two tables.First is CompetitionUsers and Competitionpoints. There is foreign key relationship between tables with ParticipateID. In CompetitionPoints Table there are points  different points for multiple participateID.So I want to fetch Total Points and the Rank based on total points.So if there is multiple same total points for one participateID, the rank for that participateid should be same  .Its same like student Total marks and Rank from that Mark. Here is my code.</p>  <pre><code>var competitionusers = (from c in db.CompetitionUsers group c by new { c.ParicipateId, c.CompetitionPoints.FirstOrDefault().Points }                                        into g orderby g.Key.Points descending select    new { Points = db.CompetitionPoints.Where           (x =&gt; x.ParticiapteId == g.FirstOrDefault().ParicipateId).Sum(x =&gt; x.Points),     Rank = (from o in db.CompetitionUsers     group o by o.CompetitionPoints.FirstOrDefault().Points into l                                                     select l).Count(s =&gt; s.Key &gt; db.CompetitionPoints.    Where(x =&gt; x.ParticiapteId == g.FirstOrDefault().ParicipateId).Sum(x =&gt; x.Points)) + 1,   }).Where(x =&gt; x.Points != null).OrderByDescending(x =&gt; x.Points).AsQueryable(); </code></pre>