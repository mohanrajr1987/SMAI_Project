<p>I have a server with 3.75GB of memory and 2 core processor. I setup the server with NGINX server and  php5-fpm. Assume NGINX uses about 400MB of mem and the ubuntu system uses around 200MB of mem. I will have 3.75GB - 400MB - 200MB = 3240MB left for php5-fpm</p>  <p>I setup pm.max_children = 16 and pm.max_spare_server=10.</p>  <p>I ran full load on the server. It still have about 1.2GB memory left but the cpu usage is already around 95.5%.</p>  <p>Just wondering what is the best setting to utilize the CPU and the memory. Also right now the request is quite slow as it runs longer.</p>  <p>So just wondering what is the relationship between number of cpu cores and php5-fpm? (I guess the problem is that it runs out of CPU to process the request so it gets slower). </p>