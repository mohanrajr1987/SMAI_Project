<p>I have the following weird behaviour on a machine with 40 cores: calling <code>System.Environment.ProcessorCount</code> in <code>fsi</code> (12.0.30815.0) and <code>fsianycpu</code> (12.0.30815.0) leads to different results. </p>  <p>In <code>fsi</code> I get <code>System.Environment.ProcessorCount = 32</code> in fsianycpu I get <code>System.Environment.ProcessorCount = 40</code>. This also seems to affect the task parallel library which only uses 80% of all available cores when a simple test code is run from <code>fsi</code> (which has the wrong processor count).</p>  <p>What could be the reason?</p>