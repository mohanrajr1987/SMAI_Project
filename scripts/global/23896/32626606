<p>I am using fancybox to show an iFrame containing a form. When the form is submitted I close fancybox like so:</p>  <p><code>parent.jQuery.fancybox.close();</code></p>  <p>I then do some AJAX stuff on the <code>afterClose</code> event. </p>  <p>The problem I'm having is that if someone closes fancybox by clicking the close button or clicking the dimmer outside the fancybox then it still calls the AJAX function in the <code>afterClose</code> function.</p>  <p>How do I detect how fancybox has been closed and only run the <code>afterClose</code> function if fancybox has been closed like this:</p>  <p><code>parent.jQuery.fancybox.close();</code></p>  <p>I still need to give my users the option to close the fancybox so I cannot disable the close button.</p>  <p><strong>UPDATE</strong></p>  <p>Looking at the fancybox object I can see the <code>afterClose</code> function has a number of values:</p>  <p><a href="http://i.stack.imgur.com/N6Pie.jpg" rel="nofollow"><img src="http://i.stack.imgur.com/N6Pie.jpg" alt="enter image description here"></a></p>  <p>Is it possible to update the <code>caller</code> value to something I can check once the <code>afterClose</code> function has fired? How would I do this?</p>