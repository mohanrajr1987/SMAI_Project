<p>After upgrading our codebase to Swift2 I've encountered unusual problem. Set is not substracting nor unioning as expected.</p>  <pre><code>class A: NSObject {     let h: Int      init(h: Int) {         self.h = h     }      override var hashValue: Int {         return h     } }  func ==(lhs: A, rhs: A) -&gt; Bool {     return lhs.hashValue == rhs.hashValue }  let a = A(h: 1) let b = A(h: 1)  var sa = Set([a]) let sb = Set([b])  sa.subtract(sb).count // Swift1.2 prints 0, Swift 2 prints 1  sa.contains(a) // Swift1.2 true, Swift 2 true sa.contains(b) // Swift1.2 true, Swift 2 false </code></pre>  <p>It looks like new Set is not using hashValue for internal operations. Any idea is that a bug, or a way to workaround this issue?</p>