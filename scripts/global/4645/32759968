<p>I want to change a LDAP directory user's password using PHP. </p>  <p>After I bind to LDAP, I look for the desired user's dn with the <code>samaccount</code> name and retrieve the <code>dn</code>:</p>  <pre><code>$filter="(samaccountname=desiredname.desiredname)";  $result = ldap_search($lh, $personnel_base, $filter) or die(ldap_error($lh)); //$data = ldap_get_entries($lh, $result); $entry = ldap_first_entry($lh, $result); $atribute = ldap_get_attributes($lh, $entry); </code></pre>  <p>Then I use ldap_mode_replace to change the password:</p>  <pre><code>    $newpass = "Cevadetest123#!";      ldap_mod_replace($lh, $dn, array('userpassword' =&gt; "{MD5}".base64_encode(pack("H*",md5($newpass) ) ) ) ) or die(ldap_error($lh));      echo "Password changed!"; </code></pre>  <p>Though I get <code>Password changed!</code> output, the password remains unchanged.</p>  <p>Any suggestions?</p>  <p>EDIT: I just noticed that the attribute <code>userpassword</code> <strong>does</strong> change, but to login via LDAP I have to use the OLD password! What soccerry is this?</p>