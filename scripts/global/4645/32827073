<p>Trying to use this package: <a href="https://www.npmjs.com/package/passport-ldapauth" rel="nofollow">https://www.npmjs.com/package/passport-ldapauth</a></p>  <p>I managed to find the ldap-settings for my company in a medawikiserver (php)</p>  <pre><code>$wgLDAPDomainNames               = array("COMPANY"); $wgLDAPGroupBaseDNs              = array("COMPANY"=&gt;"dc=company,dc=se"); $wgLDAPAutoAuthDomain            = "COMPANY"; $wgLDAPGroupUseFullDN            = array("COMPANY"=&gt;true ); $wgLDAPServerNames               = array("COMPANY"=&gt;"dcst.company.se"); $wgLDAPSearchStrings             = array("COMPANY" =&gt; "COMPANY\\USER-NAME" ); $wgLDAPSearchAttributes          = array("COMPANY"=&gt;"sAMAccountName"); $wgLDAPBaseDNs                   = array("COMPANY"=&gt;"dc=company,dc=se"); $wgLDAPEncryptionType            = array("COMPANY" =&gt; "ssl" ); $wgMinimalPasswordLength         = 1; </code></pre>  <p>I need to map this to the node-package. I tried this:</p>  <pre><code>var opts = {   server: {     url: 'ldaps://dcst.company.se',     bindDn: 'dc=company,dc=se',     //bindCredentials: 'secret',     searchBase: 'dc=company,dc=se',     searchFilter: '(&amp;(objectcategory=person)(objectclass=user)(|(samaccountname={{username}})(mail={{username}})))',     searchAttributes: ['displayName', 'mail'],   } }; </code></pre>  <p>I get "Bad request". This is from the docs:</p>  <pre><code>badRequestMessage flash message for missing username/password (default: 'Missing credentials') </code></pre>  <p>What have I done wrong?</p>