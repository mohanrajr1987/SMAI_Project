<p>I am using minimagic gem, ImageMagic is installed and using jruby 1.7.15 and rails 3.2.13</p>  <p>whenever I try to do  </p>  <pre><code> MiniMagick::Image.open('my-file.jpg') </code></pre>  <p>I get the following errors</p>  <pre><code>MiniMagick::Invalid: `identify /tmp/mini_magick20150914-6587-1k3r5zx.jpg` failed with error: identify.im6: unable to open image `{}': No such file or directory @ error/blob.c/OpenBlob/2638 identify.im6: no decode delegate for this image format `{}' @ error/constitute.c/ReadImage/544. </code></pre>  <p>I have checked the delegate is present</p>  <pre><code> $ convert -list configure | grep DELEGATES </code></pre>  <p>gives</p>  <pre><code>DELEGATES     bzlib djvu fftw fontconfig freetype jbig jpeg jng jp2 lcms2 lqr lzma openexr pango png rsvg tiff x11 xml wmf zlib </code></pre>  <p>and I can make it work by putting</p>  <pre><code>MiniMagick.configure do |config| config.validate_on_create = false end </code></pre>  <p>in my initialisers. Presumably ImageMagic is working out the format from the content. Also ImageMagic works fine outside of my rails environment and the behaviour seems the same for files/urls and streams of all formats.</p>  <p>does anyone know how I can stop this error being thrown ?</p>  <p>thanks for any help</p>