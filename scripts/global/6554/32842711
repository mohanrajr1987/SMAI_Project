<h2>Versions:</h2>  <ul> <li>Ruby 2.2.3</li> <li>Rails 4.2.4</li> <li>mini_magick: 4.2.10</li> <li>Carrierwave 0.10.0</li> </ul>  <h2>Description</h2>  <p>I am trying to create a watermarker for a small gallery using CarrierWave as uploader.</p>  <p>I want the watermark to be sized compared to the current image. Therefore I am trying to use a .svg-file with different opacities and a transparent background.</p>  <p>I am using a watermarker based on <a href="http://stackoverflow.com/questions/9184768/carrierwave-add-a-watermark-to-processed-images">Carrierwave add a watermark to processed images</a></p>  <pre><code>require 'mini_magick'  class Watermarker   def initialize(original_path, watermark_path)     @original_path = original_path.to_s     @watermark_path = watermark_path.to_s   end        def watermark!(options = {})     options[:gravity] ||= 'SouthEast'      image = MiniMagick::Image.open(@original_path)     watermark = MiniMagick::Image.open(@watermark_path)      result = image.composite(watermark, 'png') do |c|       c.gravity options[:gravity]     end     result.write @original_path   end end </code></pre>  <p>And calling this as a <code>process</code> from my uploader.</p>  <h1>My problems:</h1>  <ol> <li><p>I cannot get the watermarker to input the picture with transparent background. I played around with:</p>  <ul> <li><a href="https://github.com/minimagick/minimagick#composite" rel="nofollow">https://github.com/minimagick/minimagick#composite</a></li> <li><a href="http://www.imagemagick.org/script/composite.php" rel="nofollow">http://www.imagemagick.org/script/composite.php</a></li> </ul>  <p>But no progress.</p></li> <li><p>I cannot adjust the size of the overlay image properly. There is a lot of settings for the <a href="http://www.imagemagick.org/script/command-line-options.php#geometry" rel="nofollow"><code>geometry</code></a> command but I'm stuck.</p></li> </ol>  <p>Any ideas and help would be great.</p>