<p>I switched to CakePHP 3.1 and want to use Cake Smtp to send mails via my mail server for e.g. register confirmation mails.</p>  <p>In Cake 2.X everything worked fine with this setting in email.php:</p>  <pre><code>class EmailConfig {      public $default = array(         'transport' =&gt; 'Smtp',         'from' =&gt; array('admin@domain.com' =&gt; 'My Site'),         'host' =&gt; 'server.serverdomain.com',         'port' =&gt; 25,         'timeout' =&gt; 30,         'username' =&gt; 'blabla',         'password' =&gt; 'blabla',         'client' =&gt; null,         'log' =&gt; false,         //'charset' =&gt; 'utf-8',         //'headerCharset' =&gt; 'utf-8',     ); } </code></pre>  <p>As in Cake 3.X the setting is different I thought of following the right one. app.php:</p>  <pre><code>'EmailTransport' =&gt; [         'default' =&gt; [             'className' =&gt; 'Smtp',             // The following keys are used in SMTP transports             'host' =&gt; 'server.serverdomain.com',             'port' =&gt; 25,             'timeout' =&gt; 30,             'username' =&gt; 'blabla',             'password' =&gt; 'blabla',             'client' =&gt; false,             'tls' =&gt; true         ],     ],  'Email' =&gt; [         'default' =&gt; [             'transport' =&gt; 'default',             'from' =&gt; 'admin@domain.com',             //'charset' =&gt; 'utf-8',             //'headerCharset' =&gt; 'utf-8',         ],     ], </code></pre>  <p>But that doesn´t work. The error Cake throws:</p>  <p><code>SMTP server did not accept the connection or trying to connect to non TLS SMTP server using TLS.</code></p>  <p>With the setting <code>tls =&gt; false</code> it throws:</p>  <p><code>SMTP server did not accept the connection.</code></p>  <p>I don´t know what I have to tell Cake to behave like in 2.X. Thanks in advance :)</p>  <p><strong>UPDATE</strong></p>  <p>I asked the CakePHP developer community what´s the problem. As of now Cake doesn´t support self signed SSL certificates so the connection can´t be established. Version 3.1.1 should fix the problem. See <a href="https://github.com/cakephp/cakephp/issues/7505" rel="nofollow">https://github.com/cakephp/cakephp/issues/7505</a></p>