<p>Same conditions for smtp at development works for sending custom contact mails, not for devise, which throws:</p>  <pre><code>550-Please turn on SMTP Authentication in your mail client. </code></pre>  <p>It is possible to send hundreds of mails in one page of rails app and impossible to register in other page. </p>  <p>So, what is missing devise in order to read the setup_mailer.rb as my mailer does? Note the ssl option, is what makes it work in a vps, with Bluehost. Is it the ssl that breaks devise?</p>  <p>Here the config/initializers/setup_mail.rb</p>  <pre><code>ActionMailer::Base.smtp_settings = {     address: "server.mysite.com",     port: 465,     enable_starttls_auto: true,     ssl: true,     user_name: Rails.application.secrets.eu,     password: Rails.application.secrets.epw,     authentication: :plain } </code></pre>  <p>Here is config/initializers/development.rb</p>  <pre><code> # ActionMailer Config   config.action_mailer.delivery_method = :smtp   config.action_mailer.default_url_options = {  host: 'localhost:3000'  }   config.action_mailer.raise_delivery_errors = true   # Send email in development mode?   config.action_mailer.perform_deliveries = true </code></pre>  <p>Also at config/initializers/devise.rb</p>  <pre><code>config.mailer_sender = 'mymail@mysite.com' </code></pre>  <p>Thanks.</p>  <p>Here the error log. Clicking that link give a non valid error token: </p>  <pre><code>&lt;p&gt;Welcome example@user.com!&lt;/p&gt;  &lt;p&gt;You can confirm your account email through the link below:&lt;/p&gt;  &lt;p&gt;&lt;a href="http://localhost:3000/users/confirmation?confirmation_token=83stWLpCpisiSyuAPyQe"&gt;Confirm my account&lt;/a&gt;&lt;/p&gt;     (0.3ms)  ROLLBACK Completed 500 Internal Server Error in 6949ms (ActiveRecord: 1.6ms)  Net::SMTPFatalError (550-Please turn on SMTP Authentication in your mail client.  ):   /Users/dieglock/.rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/net/smtp.rb:964:in `check_response'   /Users/dieglock/.rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/net/smtp.rb:933:in `getok'   /Users/dieglock/.rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/net/smtp.rb:869:in `rcptto'   /Users/dieglock/.rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/net/smtp.rb:850:in `block in rcptto_list'   /Users/dieglock/.rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/net/smtp.rb:848:in `each'   /Users/dieglock/.rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/net/smtp.rb:848:in `rcptto_list'   /Users/dieglock/.rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/net/smtp.rb:663:in `send_message'   mail (2.6.3) lib/mail/network/delivery_methods/smtp.rb:113:in `block in deliver!'   /Users/dieglock/.rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/net/smtp.rb:521:in `start'   mail (2.6.3) lib/mail/network/delivery_methods/smtp.rb:112:in `deliver!'   mail (2.6.3) lib/mail/message.rb:2141:in `do_delivery'   mail (2.6.3) lib/mail/message.rb:236:in `block in deliver'   actionmailer (4.2.4) lib/action_mailer/base.rb:543:in `block in deliver_mail'   activesupport (4.2.4) lib/active_support/notifications.rb:164:in `block in instrument'   activesupport (4.2.4) lib/active_support/notifications/instrumenter.rb:20:in `instrument'   activesupport (4.2.4) lib/active_support/notifications.rb:164:in `instrument'   actionmailer (4.2.4) lib/action_mailer/base.rb:541:in `deliver_mail'   mail (2.6.3) lib/mail/message.rb:236:in `deliver'   actionmailer (4.2.4) lib/action_mailer/message_delivery.rb:85:in `deliver_now'   devise (3.5.2) lib/devise/models/authenticatable.rb:170:in `send_devise_notification'   devise (3.5.2) lib/devise/models/confirmable.rb:116:in `send_confirmation_instructions'   devise (3.5.2) lib/devise/models/confirmable.rb:172:in `send_on_create_confirmation_instructions'   activesupport (4.2.4) lib/active_support/callbacks.rb:432:in `block in make_lambda'   activesupport (4.2.4) lib/active_support/callbacks.rb:228:in `call'   activesupport (4.2.4) lib/active_support/callbacks.rb:228:in `block in halting_and_conditional'   activesupport (4.2.4) lib/active_support/callbacks.rb:506:in `call'   activesupport (4.2.4) lib/active_support/callbacks.rb:506:in `block in call'   activesupport (4.2.4) lib/active_support/callbacks.rb:506:in `each'   activesupport (4.2.4) lib/active_support/callbacks.rb:506:in `call'   activesupport (4.2.4) lib/active_support/callbacks.rb:92:in `__run_callbacks__'   activesupport (4.2.4) lib/active_support/callbacks.rb:778:in `_run_create_callbacks'   activerecord (4.2.4) lib/active_record/callbacks.rb:306:in `_create_record'   activerecord (4.2.4) lib/active_record/timestamp.rb:57:in `_create_record'   activerecord (4.2.4) lib/active_record/persistence.rb:504:in `create_or_update'   activerecord (4.2.4) lib/active_record/callbacks.rb:302:in `block in create_or_update'   activesupport (4.2.4) lib/active_support/callbacks.rb:117:in `call'   activesupport (4.2.4) lib/active_support/callbacks.rb:117:in `call'   activesupport (4.2.4) lib/active_support/callbacks.rb:555:in `block (2 levels) in compile'   activesupport (4.2.4) lib/active_support/callbacks.rb:505:in `call'   activesupport (4.2.4) lib/active_support/callbacks.rb:505:in `call'   activesupport (4.2.4) lib/active_support/callbacks.rb:92:in `__run_callbacks__'   activesupport (4.2.4) lib/active_support/callbacks.rb:778:in `_run_save_callbacks'   activerecord (4.2.4) lib/active_record/callbacks.rb:302:in `create_or_update'   activerecord (4.2.4) lib/active_record/persistence.rb:120:in `save'   activerecord (4.2.4) lib/active_record/validations.rb:37:in `save'   activerecord (4.2.4) lib/active_record/attribute_methods/dirty.rb:21:in `save'   activerecord (4.2.4) lib/active_record/transactions.rb:286:in `block (2 levels) in save'   activerecord (4.2.4) lib/active_record/transactions.rb:351:in `block in with_transaction_returning_status'   activerecord (4.2.4) lib/active_record/connection_adapters/abstract/database_statements.rb:213:in `block in transaction'   activerecord (4.2.4) lib/active_record/connection_adapters/abstract/transaction.rb:184:in `within_new_transaction'   activerecord (4.2.4) lib/active_record/connection_adapters/abstract/database_statements.rb:213:in `transaction'   activerecord (4.2.4) lib/active_record/transactions.rb:220:in `transaction'   activerecord (4.2.4) lib/active_record/transactions.rb:348:in `with_transaction_returning_status'   activerecord (4.2.4) lib/active_record/transactions.rb:286:in `block in save'   activerecord (4.2.4) lib/active_record/transactions.rb:301:in `rollback_active_record_state!'   activerecord (4.2.4) lib/active_record/transactions.rb:285:in `save'   devise (3.5.2) app/controllers/devise/registrations_controller.rb:17:in `create'   actionpack (4.2.4) lib/action_controller/metal/implicit_render.rb:4:in `send_action'   actionpack (4.2.4) lib/abstract_controller/base.rb:198:in `process_action'   actionpack (4.2.4) lib/action_controller/metal/rendering.rb:10:in `process_action'   actionpack (4.2.4) lib/abstract_controller/callbacks.rb:20:in `block in process_action'   activesupport (4.2.4) lib/active_support/callbacks.rb:117:in `call'   activesupport (4.2.4) lib/active_support/callbacks.rb:117:in `call'   activesupport (4.2.4) lib/active_support/callbacks.rb:555:in `block (2 levels) in compile'   activesupport (4.2.4) lib/active_support/callbacks.rb:505:in `call'   activesupport (4.2.4) lib/active_support/callbacks.rb:505:in `call'   activesupport (4.2.4) lib/active_support/callbacks.rb:92:in `__run_callbacks__'   activesupport (4.2.4) lib/active_support/callbacks.rb:778:in `_run_process_action_callbacks'   activesupport (4.2.4) lib/active_support/callbacks.rb:81:in `run_callbacks'   actionpack (4.2.4) lib/abstract_controller/callbacks.rb:19:in `process_action'   actionpack (4.2.4) lib/action_controller/metal/rescue.rb:29:in `process_action'   actionpack (4.2.4) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'   activesupport (4.2.4) lib/active_support/notifications.rb:164:in `block in instrument'   activesupport (4.2.4) lib/active_support/notifications/instrumenter.rb:20:in `instrument'   activesupport (4.2.4) lib/active_support/notifications.rb:164:in `instrument'   actionpack (4.2.4) lib/action_controller/metal/instrumentation.rb:30:in `process_action'   actionpack (4.2.4) lib/action_controller/metal/params_wrapper.rb:250:in `process_action'   activerecord (4.2.4) lib/active_record/railties/controller_runtime.rb:18:in `process_action'   actionpack (4.2.4) lib/abstract_controller/base.rb:137:in `process'   actionview (4.2.4) lib/action_view/rendering.rb:30:in `process'   actionpack (4.2.4) lib/action_controller/metal.rb:196:in `dispatch'   actionpack (4.2.4) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'   actionpack (4.2.4) lib/action_controller/metal.rb:237:in `block in action'   actionpack (4.2.4) lib/action_dispatch/routing/route_set.rb:76:in `call'   actionpack (4.2.4) lib/action_dispatch/routing/route_set.rb:76:in `dispatch'   actionpack (4.2.4) lib/action_dispatch/routing/route_set.rb:45:in `serve'   actionpack (4.2.4) lib/action_dispatch/routing/mapper.rb:49:in `serve'   actionpack (4.2.4) lib/action_dispatch/journey/router.rb:43:in `block in serve'   actionpack (4.2.4) lib/action_dispatch/journey/router.rb:30:in `each'   actionpack (4.2.4) lib/action_dispatch/journey/router.rb:30:in `serve'   actionpack (4.2.4) lib/action_dispatch/routing/route_set.rb:821:in `call'   warden (1.2.3) lib/warden/manager.rb:35:in `block in call'   warden (1.2.3) lib/warden/manager.rb:34:in `catch'   warden (1.2.3) lib/warden/manager.rb:34:in `call'   rack (1.6.4) lib/rack/etag.rb:24:in `call'   rack (1.6.4) lib/rack/conditionalget.rb:38:in `call'   rack (1.6.4) lib/rack/head.rb:13:in `call'   actionpack (4.2.4) lib/action_dispatch/middleware/params_parser.rb:27:in `call'   actionpack (4.2.4) lib/action_dispatch/middleware/flash.rb:260:in `call'   rack (1.6.4) lib/rack/session/abstract/id.rb:225:in `context'   rack (1.6.4) lib/rack/session/abstract/id.rb:220:in `call'   actionpack (4.2.4) lib/action_dispatch/middleware/cookies.rb:560:in `call'   activerecord (4.2.4) lib/active_record/query_cache.rb:36:in `call'   activerecord (4.2.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'   activerecord (4.2.4) lib/active_record/migration.rb:377:in `call'   actionpack (4.2.4) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'   activesupport (4.2.4) lib/active_support/callbacks.rb:88:in `__run_callbacks__'   activesupport (4.2.4) lib/active_support/callbacks.rb:778:in `_run_call_callbacks'   activesupport (4.2.4) lib/active_support/callbacks.rb:81:in `run_callbacks'   actionpack (4.2.4) lib/action_dispatch/middleware/callbacks.rb:27:in `call'   actionpack (4.2.4) lib/action_dispatch/middleware/reloader.rb:73:in `call'   actionpack (4.2.4) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'   actionpack (4.2.4) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'   web-console (2.2.1) lib/web_console/middleware.rb:39:in `call'   actionpack (4.2.4) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'   railties (4.2.4) lib/rails/rack/logger.rb:38:in `call_app'   railties (4.2.4) lib/rails/rack/logger.rb:20:in `block in call'   activesupport (4.2.4) lib/active_support/tagged_logging.rb:68:in `block in tagged'   activesupport (4.2.4) lib/active_support/tagged_logging.rb:26:in `tagged'   activesupport (4.2.4) lib/active_support/tagged_logging.rb:68:in `tagged'   railties (4.2.4) lib/rails/rack/logger.rb:20:in `call'   quiet_assets (1.1.0) lib/quiet_assets.rb:27:in `call_with_quiet_assets'   actionpack (4.2.4) lib/action_dispatch/middleware/request_id.rb:21:in `call'   rack (1.6.4) lib/rack/methodoverride.rb:22:in `call'   rack (1.6.4) lib/rack/runtime.rb:18:in `call'   activesupport (4.2.4) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'   rack (1.6.4) lib/rack/lock.rb:17:in `call'   actionpack (4.2.4) lib/action_dispatch/middleware/static.rb:116:in `call'   rack (1.6.4) lib/rack/sendfile.rb:113:in `call'   railties (4.2.4) lib/rails/engine.rb:518:in `call'   railties (4.2.4) lib/rails/application.rb:165:in `call'   rack (1.6.4) lib/rack/lock.rb:17:in `call'   rack (1.6.4) lib/rack/content_length.rb:15:in `call'   rack (1.6.4) lib/rack/handler/webrick.rb:88:in `service'   /Users/dieglock/.rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'   /Users/dieglock/.rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'   /Users/dieglock/.rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread' </code></pre>