<p>I have a button added to the WYSIWYG that opens a popup with fields to fill in. With those fields I am trying to add another button that will choose a file from the media library and insert the link/url in a text field. I have the button working and it opens the media library, but when I select a file, nothing gets inserted into the text field.</p>  <p>If I add an alert for json.url after the media selection it will alert me of the file link, So I know that it is getting the url from the file. However, I can't get it into the text field.</p>  <p>Here is the piece of code from my <code>editor_plugin.js</code> file:</p>  <pre><code>{     type: 'textbox',     name: 'myfile',     label: 'My File',     id: 'my-file',     value: '' },{     type: 'button',     name: 'select-file',     text: 'Upload File',     onclick: function() {         window.mb = window.mb || {};          window.mb.frame = wp.media({             frame: 'post',             state: 'insert',             library : {                 type : 'image'             },             multiple: false         });          window.mb.frame.on('select', function() {             var json = window.mb.frame.state().get('selection').first().toJSON();             alert(json.url);             if (0 &gt; $.trim(json.url.length)) {                 return;             }              $('#my-file').val(json.url);         });          window.mb.frame.open();     } } </code></pre>