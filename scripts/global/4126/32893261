<p>I'm developing a WordPress plugin that adds a button to TinyMCE, which lets you add an id attribute to the selected element. I have the button displaying, and when it is clicked it runs my function, which I'll call "idFunc" for this demo and it looks like this:</p>  <pre><code>function idFunc() {    // Make sure editor has focus.   editor.focus();    // Get currently selected node   var selectednode = editor.selection.getNode();    // Set the id attribute on the node   selectednode.attr("id","newid");  } </code></pre>  <p>With idFunc() written as above, nothing happens when I click my button. If I change the last line to an alert like this:</p>  <pre><code>function idFunc() {    editor.focus();    var selectednode = editor.selection.getNode();    // Alert with the selected node   alert(selectednode);  } </code></pre>  <p>I get an alert as expected, which says:</p>  <blockquote>   <p><strong>The page at mytestingdomain.com says:</strong> [object HTMLParagraphElement]</p> </blockquote>  <p>If I have my caret in a div instead of a p element, it says:</p>  <blockquote>   <p><strong>The page at mytestingdomain.com says:</strong> [object HTMLDivElement]</p> </blockquote>  <p>So I know I'm close, but the <code>attr()</code> function isn't adding any attributes to any elements in the TinyMCE editor.</p>  <p>What am I doing wrong?</p>