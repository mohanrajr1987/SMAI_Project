<p>I have two files:</p>  <p>file1:</p>  <pre class="lang-none prettyprint-override"><code>Server A sent Mail with testuser1@testdom.com Server A sent Mail with testuser2@testdom.com Server B sent Mail with testuser3@testdom.com </code></pre>  <p>file2:</p>  <pre class="lang-none prettyprint-override"><code>testuser1@testdom.com testuser2@testdom.com testuser3@testdom.com </code></pre>  <p>For example if the email address "testuser1@testdom.com" from file2 is also in file1, it should append this line from file1 to the new file file3. Is it possible two have many files and compare them with file2 in one step?</p>  <p>This is what I tried, but it doesn't exactly do what I want:</p>  <pre><code>compare (cat $file1) (cat $file2) | Out-File $file3 </code></pre>  <p>and this: (prints only the lines which are exactly the same, but I need it partially)</p>  <pre><code>Get-Content $file1 | ForEach-Object {     $file1_Line = $_     Get-Content $file2 | Where-Object {$_.Contains($file1_Line)} |         Out-File -FilePath $file3 -Append } </code></pre>