<p>I made a notification service project in android studio which runs perfect on lollipop. now I'm trying to make it into a plugin for Unity 5. but once build it keeps crashing on start up...  This is my Manifest.xml:</p>  <pre><code>&lt;?xml version="1.0" encoding="utf-8"?&gt; </code></pre>  <p></p>  <pre><code>&lt;application     android:allowBackup="true"     android:label="SamanthaPlugin"&gt;     &lt;activity         android:name="com.techlab.samanthaplugin.MainActivity"         android:label="SamanthaPlugin" &gt;         &lt;intent-filter&gt;             &lt;action android:name="android.intent.action.MAIN" /&gt;              &lt;category android:name="android.intent.category.LAUNCHER" /&gt;         &lt;/intent-filter&gt;     &lt;/activity&gt;     &lt;service android:name="com.techlab.samanthaplugin.NotificationService"              android:label="SamanthaPlugin"              android:permission="android.permission.BIND_NOTIFICATION_LISTENER_SERVICE"&gt;      &lt;intent-filter&gt;          &lt;action android:name="android.service.notification.NotificationListenerService" /&gt;      &lt;/intent-filter&gt;  &lt;/service&gt;  &lt;/application&gt; </code></pre>  <p> my NotificationService class:</p>  <pre><code>package com.techlab.samanthaplugin;  import android.content.Context; import android.content.Intent; import android.os.Bundle; import android.service.notification.NotificationListenerService; import android.service.notification.StatusBarNotification; import android.util.Log; import android.support.v4.content.LocalBroadcastManager;   public class NotificationService extends NotificationListenerService {  Context context;  @Override  public void onCreate() {      super.onCreate();     context = getApplicationContext();  } @Override  public void onNotificationPosted(StatusBarNotification sbn) {       String pack = sbn.getPackageName();     String ticker = sbn.getNotification().tickerText.toString();     Bundle extras = sbn.getNotification().extras;     String title = extras.getString("android.title");     String text = extras.getCharSequence("android.text").toString();      Log.i("Package",pack);     Log.i("Ticker",ticker);     Log.i("Title",title);     Log.i("Text",text);      Intent msgrcv = new Intent("Msg");     msgrcv.putExtra("package", pack);     msgrcv.putExtra("ticker", ticker);     msgrcv.putExtra("title", title);     msgrcv.putExtra("text", text);      LocalBroadcastManager.getInstance(context).sendBroadcast(msgrcv);   }  @Override  public void onNotificationRemoved(StatusBarNotification sbn) {     Log.i("Msg","Notification Removed");  } } </code></pre>  <p>my MainActivity:</p>  <pre><code>package com.techlab.samanthaplugin;  import android.app.Activity; import android.content.BroadcastReceiver; import android.content.Context; import android.content.Intent; import android.content.IntentFilter; import android.os.Bundle; import android.support.v4.content.LocalBroadcastManager;   public class MainActivity extends Activity {  //TableLayout tab;  @Override protected void onCreate(Bundle savedInstanceState) {     super.onCreate(savedInstanceState);     //setContentView(R.layout.activity_main);     //tab = (TableLayout)findViewById(R.id.tab);     LocalBroadcastManager.getInstance(this).registerReceiver(onNotice, new IntentFilter("Msg"));  }   private BroadcastReceiver onNotice= new BroadcastReceiver() {      @Override     public void onReceive(Context context, Intent intent) {         String pack = intent.getStringExtra("package");         String title = intent.getStringExtra("title");         String text = intent.getStringExtra("text");                //TableRow tr = new TableRow(getApplicationContext());             //tr.setLayoutParams(new TableRow.LayoutParams( TableRow.LayoutParams.MATCH_PARENT, TableRow.LayoutParams.WRAP_CONTENT));             //TextView textview = new TextView(getApplicationContext());             //textview.setLayoutParams(new TableRow.LayoutParams(TableRow.LayoutParams.WRAP_CONTENT, TableRow.LayoutParams.WRAP_CONTENT,1.0f));             //textview.setTextSize(20);             //textview.setTextColor(Color.parseColor("#0B0719"));             //textview.setText(Html.fromHtml(pack +"&lt;br&gt;&lt;b&gt;" + title + " : &lt;/b&gt;" + text));             //tr.addView(textview);             //tab.addView(tr);     } }; } </code></pre>  <p>and my build.gradle:</p>  <pre><code>apply plugin: 'com.android.library'  android { compileSdkVersion 21 buildToolsVersion "21.0.2"  defaultConfig {     //applicationId "techlab.samanthaplugin"     minSdkVersion 19     targetSdkVersion 21     versionCode 1     versionName "1.0" } buildTypes {     release {         minifyEnabled true         proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'      } } }  dependencies { compile fileTree(dir: 'libs', include: ['*.jar']) compile 'com.google.android.gms:play-services:6.1.71' compile files('libs/classes.jar') } //task to delete the old jar task deleteOldJar(type: Delete) { delete 'release/AndroidPlugin.jar' }  //task to export contents as jar task exportJar(type: Copy) { from('build/intermediates/bundles/release/') into('release/') include('classes.jar') ///Rename the jar rename('classes.jar', 'AndroidPlugin.jar') }  exportJar.dependsOn(deleteOldJar, build) </code></pre>  <p>I can't seem to find which one of these is responsible for the crash. :-(</p>