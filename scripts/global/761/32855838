<p><strong>I have a product model that belongs to shop</strong></p>  <pre><code>class Product &lt; ActiveRecord::Base   belongs_to :shop has_reputation :votes, source: :user, aggregated_by: :sum  end </code></pre>  <p><strong>And i would like to vote on products with current_user</strong></p>  <pre><code>class User &lt; ActiveRecord::Base    has_one :shop,  :dependent =&gt; :destroy   has_many :rs_evaluations, class_name: "ReputationSystem::Evaluation", as: :source    has_reputation :votes, source: {reputation: :votes, of: :products}, aggregated_by: :sum    def voted_for?(product)     evaluations.where(target_type: product.class, target_id: product.id).present?   end     end </code></pre>  <p><strong>view</strong></p>  <pre><code>&lt;% if current_user &amp;&amp; !current_user.voted_for?(product) %&gt;   | &lt;%= link_to "up", vote_product_path(product, type: "aumentar"), method: "post" %&gt;   | &lt;%= link_to "down", vote_product_path(product, type: "diminuir"), method: "post" %&gt; &lt;% end  </code></pre>  <p>Someone have tried this before? thank's for any tip</p>