<p>I'm making a program to go to a website, but it uses proxies, and sometimes a proxy won't work and the program will crash. I want to make it so it goes to a random proxy from the .txt specified.</p>  <p>My code to pull proxy from text file:</p>  <pre><code>System.IO.StreamReader file2 = new System.IO.StreamReader(proxyloc);  while ((line2 = file2.ReadLine()) != null) {      string[] proxycombo = line2.Split(':');      MyProxyHostString = proxycombo[0];      MyProxyPort = Int32.Parse(proxycombo[1]); } </code></pre>  <p>Then I set the proxy in the web request:</p>  <pre><code>httpWebRequest.Proxy = new WebProxy(MyProxyHostString, MyProxyPort); </code></pre>  <p>And send the request</p>  <pre><code>HttpWebResponse httpResponse = MakeRequest(httpWebRequest); </code></pre>  <p>The function:</p>  <pre><code>public static HttpWebResponse MakeRequest(HttpWebRequest request) {     try     {         return (HttpWebResponse)request.GetResponse();     }     catch (WebException we)     {         return (HttpWebResponse)we.Response;     }     throw; } </code></pre>  <p><a href="http://i.stack.imgur.com/byjvk.png" rel="nofollow"><img src="http://i.stack.imgur.com/byjvk.png" alt="http://i.stack.imgur.com/byjvk.png (I need 10 rep to post images)"></a></p>  <p>The whole process is looped until it's made a request with every proxy. Once a request fails it throws this error and crashes So how could I get it to not crash after it fails? Since it is in a loop I want it to just go back to the top and start back over. Thanks!</p>