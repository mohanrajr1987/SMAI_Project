<p>I had the following situation and problem with C# but didn't found a real solution online.</p>  <p>A program should click on a button on a particular page. It can be done in 2 different ways. This page includes external javascript that I want to execute. So clicking a button not via [element].InvokeMember("click") but with executing via [webBrowser].InvokeScript([...])</p>  <p>But it isn't working.</p>  <p>I couldn't determine whether it opens another window (cause the browser is unvisible in the background).</p>  <p>So: I ask now - Is there a way to determine this or am I doing something wrong D:?</p>  <p>Any help is appreciated. Thank you =)!</p>  <p>My method to execute the javascript (Browser is a System.Windows.Controls object) - It should buy an item in the steamcommunity market - but it doesn't:</p>  <pre><code> browser.Navigate([page]);  browser.InvokeScript("method", new object[] { "'[String]'", "'" + [Integer] + "'", [Integer], "'[Integer]'", "'" + [Integer] + "'" }); </code></pre>  <p>/</p>  <pre><code> browser.Navigate("http://steamcommunity.com/market/listings/730/PP-Bizon%20%7C%20Sand%20Dashed%20%28Field-Tested%29");  browser.LoadCompleted += webBrowser_PageLoaded; </code></pre>  <p>And in webBrowser_PageLoaded:</p>  <pre><code> browser.InvokeScript("BuyMarketListing", new object[] { "'listing'", "'" + listingid + "'", 730, "'2'", "'" + assetid + "'" }); </code></pre>  <p>UPDATE 1: <a href="http://www.seleniumhq.org/" rel="nofollow">http://www.seleniumhq.org/</a> this opens a new window. Can this be done in the background without opening a new one? And: I don't get cookies working =/</p>  <p>UPDATE 2: Solving the window problem with Selenium+PhantomJS</p>  <p>Now there is still the problem that I cannot react to the new input form that opens. + Problem2: Cookies still don't work</p>