<p>I've written this PhantomJS script to automate signing in to Instagram. It can successfully fill in the form fields and press the submit button, but it always gets redirected back to the logon screen with the following message:</p>  <blockquote>   <p>Your username or password was incorrect.</p> </blockquote>  <p>I am 100% positive that the credentials are correct, and I tried it with multiple Instagram accounts.</p>  <p>I'm running the script on a Mac from terminal:</p>  <pre><code>$ phantomjs --ssl-protocol=any --cookies-file=cookies.txt script.js username password </code></pre>  <p>Note the <code>--ssl-protocol=any</code> option. Without it PhantomJS can't even open the login page because of HTTPS. See <a href="http://stackoverflow.com/questions/12021578/phantomjs-failing-to-open-https-site">this question</a>.</p>  <p>Here's the code. I based it off <a href="https://www.safaribooksonline.com/library/view/getting-started-with/9781782164227/ch02s04.html" rel="nofollow">this tutorial</a>, and updated the code to account for the recent changes in the source code of Instagram's login page.</p>  <pre><code>var system = require('system'); var username = system.args[1]; var password = system.args[2]; var page = require('webpage').create();  page.open('https://instagram.com/accounts/login/',     function (status) {         if (status === "success") {             page.evaluate(function (uid, pwd) {                 var username_field = document.getElementById('lfFieldInputUsername');                 username_field.value = uid;                 var password_field = document.getElementById('lfFieldInputPassword');                 password_field.value = pwd;             }, username, password);              var point = page.evaluate(function () {                 var element = document.getElementsByTagName('button')[0];                 var rect = element.getBoundingClientRect();                 return {                     x: rect.left + Math.floor(rect.width / 2),                     y: rect.top + Math.floor(rect.height / 2)                 };             });             page.render('before-submit.png');             page.sendEvent('click', point.x, point.y);         }         setTimeout(function () {             var error = page.evaluate(function () {                 var element = document.getElementById('errorAlert');                 var error_message = false;                 if (element !== null) {                     error_message = element.innerText.trim();                 }                 return error_message;             });              page.render('after-submit.png');             if (!error) {                 console.log('Login Successful: ' + page.url);             } else {                 console.log('Login Failed: ' + error);             }              phantom.exit(0);         }, 5000);     } ); </code></pre>  <p>And here's what I've tried so far:</p>  <ol> <li>Setting cookies. Besides adding the <code>--cookies-file=cookies.txt</code> command line option, I've also tried <code>phantom.addCookie</code> in the code. Didn't seem to make any difference.</li> <li>Explicitly sending auth headers. See <a href="http://stackoverflow.com/questions/10114925/phantomjs-doesnt-send-authentication-header">this question</a>.</li> <li>Changing the timezone. Not sure if this makes sense. See <a href="http://stackoverflow.com/questions/21702903/phantomjs-set-browser-timezone-setting">this question</a>.</li> </ol>  <p>Apparently PhantomJS has some issues with SSL. Should I just give up using it for this purpose?</p>