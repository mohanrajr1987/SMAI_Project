<p>This is stop method of window service </p>  <p>public bool Stop(HostControl hostControl)             {                 try                 {</p>  <pre><code>                System.Threading.Thread.Sleep(TimeSpan.FromMinutes(.5));                   **This if condition check service status**                  if ((service.Status.Equals(ServiceControllerStatus.Stopped)) ||                      (service.Status.Equals(ServiceControllerStatus.StopPending)))                      service.Start();                  else service.Stop();                 return true;             }             catch             {                 return false;             }         } </code></pre>  <p><a href="http://i.stack.imgur.com/Bm0ga.png" rel="nofollow"><img src="http://i.stack.imgur.com/Bm0ga.png" alt="enter image description here"></a></p>