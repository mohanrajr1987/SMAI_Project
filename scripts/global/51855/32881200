<p>I have two models</p>  <pre><code>class User   include Mongoid::Document   include Mongoid::Timestamps   field :username    embeds_many :user_tags end  class UserTag   include Mongoid::Document   field :name   field :like_count, :type =&gt; Integer, :default =&gt; 0   embedded_in :user end </code></pre>  <p>I want to query all the users that have the user_tag named "nyc" and where the user_tag "nyc" has a like_count > 10.  I've tried the following:</p>  <pre><code>users = User.where('user_tags.name' =&gt; "nyc").and('user_tags.like_count' =&gt; {'$gte' =&gt; 10 }) </code></pre>  <p>Logically this does what it's supposed to do, but not what I need it to do.  It returns users that have the user_tag "nyc" and have any user_tag with a like_count >= 10.  I need users that have the user_tag "nyc" and where the user_tag "nyc"'s like_count is >= 10.</p>  <p>How do I do that?  I'm running mongoid 4.0.2.</p>