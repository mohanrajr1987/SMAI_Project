<p>I try to write query by Searchkick with boost_by_distance. But seems the nearest location is not boosted.<br> And I would like to find any place in 30km distance from city and also boost result by in 20km more.<br> But Nothing return even testing by the place very close geolocation from city geolocation.  </p>  <p>main.rb  </p>  <pre><code>...   city = City.search(params[:city], fields: [{city: :word_start}]) ...      @o = Organization.search("*",         boost_by_distance: {field: :loc, origin: [city[0].try(:latitude).to_f, city[0].try(:longitude).to_f], function: :gauss, scale: "20km", decay: 0.5},         where: {loc: {near: [city[0].try(:latitude).to_f, city[0].try(:longitude).to_f], within: "30km"}},         page: params[:page], per_page: 20) ...   </code></pre>  <p>organization.rb  </p>  <pre><code>class Organization   include Mongoid::Document   include Mongoid::Geospatial    searchkick index_name: "organization",              locations: ["loc"],              word_start: ['base']    def search_data       attributes.merge loc: [latitude, longitude]     {       base: base,       place: place     }   end    field :base,     type: Srting   field :place,     type: Srting   field :latitude,     type: Float   field :longitude,     type: Float   field :location, type: Point, spatial: true    index({ base: 1, place: 1, location: "2d" })  end </code></pre>  <p>city.rb  </p>  <pre><code>class City   include Mongoid::Document   include Mongoid::Geospatial    searchkick index_name: "city",              word_start: ['city']    def search_data     {       city: city,     }   end    field :city,            type: String   field :latitude,         type: Float   field :longitude,         type: Float  end    </code></pre>  <p>I tried many way to write search_data, because maybe own organization.rb search_data is not correct.<br> Also I checked loc FIELDS in Browser at <a href="http://localhost:9200/_plugin/head/" rel="nofollow">http://localhost:9200/_plugin/head/</a> , but no input fields.<br> Please let me know what is wrong or how to check actually sending query.   </p>