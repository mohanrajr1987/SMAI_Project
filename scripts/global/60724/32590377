<p>I'm trying to integrate Josso in some web apps based on Spring Security and deployed on Tomcat 7. I followed the tutorial on Josso site and checked that the gateway and the agent and the sample partnerapp work correctly.Then i tried to run one web app based on Spring Security and it doesn't work, namely it redirect to the josso login page, but after the succeful login, it doesn't go back to the index page of the web app, throwing the following error:</p>  <blockquote>   <p>HTTP Status 500 - ; nested exception is:   type Exception report   message ; nested exception is:   description The server encountered an internal error that prevented it from fulfilling this request.</p> </blockquote>  <p>exception</p>  <pre><code>org.acegisecurity.userdetails.UsernameNotFoundException: ; nested exception is:      java.io.IOException: java.io.IOException: Non nillable element 'requester' is null.; nested exception is org.josso.gateway.identity.exceptions.SSOIdentityException: ; nested exception is:      java.io.IOException: java.io.IOException: Non nillable element 'requester' is null.     org.josso.spring.acegi.JOSSOUserDetailsService.loadUserByUsername(JOSSOUserDetailsService.java:69)     org.josso.spring.acegi.JOSSOProcessingFilter.doFilter(JOSSOProcessingFilter.java:138)     org.acegisecurity.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:275)     org.acegisecurity.context.HttpSessionContextIntegrationFilter.doFilter(HttpSessionContextIntegrationFilter.java:249)     org.acegisecurity.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:275)     org.acegisecurity.util.FilterChainProxy.doFilter(FilterChainProxy.java:149)     org.acegisecurity.util.FilterToBeanProxy.doFilter(FilterToBeanProxy.java:98)     org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:88)     org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:76)  root cause  org.josso.gateway.identity.exceptions.SSOIdentityException: ; nested exception is:      java.io.IOException: java.io.IOException: Non nillable element 'requester' is null.     org.josso.gateway.identity.service.WebserviceSSOIdentityManager.findUser(WebserviceSSOIdentityManager.java:110)     org.josso.spring.acegi.JOSSOUserDetailsService.loadUserByUsername(JOSSOUserDetailsService.java:61)     org.josso.spring.acegi.JOSSOProcessingFilter.doFilter(JOSSOProcessingFilter.java:138)     org.acegisecurity.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:275)     org.acegisecurity.context.HttpSessionContextIntegrationFilter.doFilter(HttpSessionContextIntegrationFilter.java:249)     org.acegisecurity.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:275)     org.acegisecurity.util.FilterChainProxy.doFilter(FilterChainProxy.java:149)     org.acegisecurity.util.FilterToBeanProxy.doFilter(FilterToBeanProxy.java:98)     org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:88)     org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:76)  root cause  java.io.IOException: java.io.IOException: Non nillable element 'requester' is null.     org.apache.axis.AxisFault.makeFault(AxisFault.java:101)     org.apache.axis.SOAPPart.writeTo(SOAPPart.java:317)     org.apache.axis.SOAPPart.writeTo(SOAPPart.java:269)     org.apache.axis.SOAPPart.saveChanges(SOAPPart.java:530)     org.apache.axis.SOAPPart.getContentLength(SOAPPart.java:229)     org.apache.axis.Message.getContentLength(Message.java:510)     org.apache.axis.transport.http.HTTPSender.writeToSocket(HTTPSender.java:371)     org.apache.axis.transport.http.HTTPSender.invoke(HTTPSender.java:138)     org.apache.axis.strategies.InvocationStrategy.visit(InvocationStrategy.java:32)     org.apache.axis.SimpleChain.doVisiting(SimpleChain.java:118)     org.apache.axis.SimpleChain.invoke(SimpleChain.java:83)     org.apache.axis.client.AxisClient.invoke(AxisClient.java:165)     org.apache.axis.client.Call.invokeEngine(Call.java:2784)     org.apache.axis.client.Call.invoke(Call.java:2767)     org.apache.axis.client.Call.invoke(Call.java:2443)     org.apache.axis.client.Call.invoke(Call.java:2366)     org.apache.axis.client.Call.invoke(Call.java:1812)     org.josso.gateway.ws._1_2.wsdl.SSOIdentityManagerSOAPBindingStub.findUserInSecurityDomain(SSOIdentityManagerSOAPBindingStub.java:373)     org.josso.gateway.identity.service.WebserviceSSOIdentityManager.findUser(WebserviceSSOIdentityManager.java:102)     org.josso.spring.acegi.JOSSOUserDetailsService.loadUserByUsername(JOSSOUserDetailsService.java:61)     org.josso.spring.acegi.JOSSOProcessingFilter.doFilter(JOSSOProcessingFilter.java:138)     org.acegisecurity.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:275)     org.acegisecurity.context.HttpSessionContextIntegrationFilter.doFilter(HttpSessionContextIntegrationFilter.java:249)     org.acegisecurity.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:275)     org.acegisecurity.util.FilterChainProxy.doFilter(FilterChainProxy.java:149)     org.acegisecurity.util.FilterToBeanProxy.doFilter(FilterToBeanProxy.java:98)     org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:88)     org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:76)  root cause  java.io.IOException: java.io.IOException: Non nillable element 'requester' is null.     org.apache.axis.encoding.ser.BeanSerializer.serialize(BeanSerializer.java:275)     org.apache.axis.encoding.SerializationContext.serializeActual(SerializationContext.java:1504)     org.apache.axis.encoding.SerializationContext.serialize(SerializationContext.java:980)     org.apache.axis.encoding.SerializationContext.serialize(SerializationContext.java:801)     org.apache.axis.message.RPCParam.serialize(RPCParam.java:208)     org.apache.axis.message.RPCElement.outputImpl(RPCElement.java:433)     org.apache.axis.message.MessageElement.output(MessageElement.java:1208)     org.apache.axis.message.SOAPBody.outputImpl(SOAPBody.java:139)     org.apache.axis.message.SOAPEnvelope.outputImpl(SOAPEnvelope.java:478)     org.apache.axis.message.MessageElement.output(MessageElement.java:1208)     org.apache.axis.SOAPPart.writeTo(SOAPPart.java:315)     org.apache.axis.SOAPPart.writeTo(SOAPPart.java:269)     org.apache.axis.SOAPPart.saveChanges(SOAPPart.java:530)     org.apache.axis.SOAPPart.getContentLength(SOAPPart.java:229)     org.apache.axis.Message.getContentLength(Message.java:510)     org.apache.axis.transport.http.HTTPSender.writeToSocket(HTTPSender.java:371)     org.apache.axis.transport.http.HTTPSender.invoke(HTTPSender.java:138)     org.apache.axis.strategies.InvocationStrategy.visit(InvocationStrategy.java:32)     org.apache.axis.SimpleChain.doVisiting(SimpleChain.java:118)     org.apache.axis.SimpleChain.invoke(SimpleChain.java:83)     org.apache.axis.client.AxisClient.invoke(AxisClient.java:165)     org.apache.axis.client.Call.invokeEngine(Call.java:2784)     org.apache.axis.client.Call.invoke(Call.java:2767)     org.apache.axis.client.Call.invoke(Call.java:2443)     org.apache.axis.client.Call.invoke(Call.java:2366)     org.apache.axis.client.Call.invoke(Call.java:1812)     org.josso.gateway.ws._1_2.wsdl.SSOIdentityManagerSOAPBindingStub.findUserInSecurityDomain(SSOIdentityManagerSOAPBindingStub.java:373)     org.josso.gateway.identity.service.WebserviceSSOIdentityManager.findUser(WebserviceSSOIdentityManager.java:102)     org.josso.spring.acegi.JOSSOUserDetailsService.loadUserByUsername(JOSSOUserDetailsService.java:61)     org.josso.spring.acegi.JOSSOProcessingFilter.doFilter(JOSSOProcessingFilter.java:138)     org.acegisecurity.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:275)     org.acegisecurity.context.HttpSessionContextIntegrationFilter.doFilter(HttpSessionContextIntegrationFilter.java:249)     org.acegisecurity.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:275)     org.acegisecurity.util.FilterChainProxy.doFilter(FilterChainProxy.java:149)     org.acegisecurity.util.FilterToBeanProxy.doFilter(FilterToBeanProxy.java:98)     org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:88)     org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:76) </code></pre>  <p>My suspect is that it misses some jar.</p>