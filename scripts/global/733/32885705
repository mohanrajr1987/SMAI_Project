<p>Is there a way to specify in .csproj file, to use different reference for DLL when my project is build localy and when build on TFS?</p>  <p>I want to share some DLLs between more solutions (do not want to copy DLLs to each solution's lib directory).</p>  <p>My local source structure is as follows</p>  <pre><code>.\TfsProject     .\lib         MyShared.Dll     .\Solution1         .\Project1         .\Project2     .\Solution2         .\Project1         .\Project2 </code></pre>  <p>All Projects share relative path to <code>MyShared.Dll</code></p>  <pre><code>&lt;HintPath&gt;..\..\lib\MyShared.Dll&lt;/HintPath&gt; </code></pre>  <p>My problem arise on TFS Build server, where is source structure different from the local one.</p>  <p>I have tried to update .csproj files to use conditional statements, to use different <code>HintPath</code> localy and on TFS build server when referencig the <code>MyShared.Dll</code>. My condition is as follows</p>  <pre><code>&lt;Choose&gt;   &lt;!-- Local HintPath --&gt;   &lt;When Condition="'$(SourceDir)' == ''"&gt;     &lt;ItemGroup&gt;       &lt;Reference ...&gt;         &lt;HintPath&gt;..\..\lib\MyShared.Dll&lt;/HintPath&gt;       &lt;/Reference&gt;     &lt;/ItemGroup&gt;   &lt;/When&gt;   &lt;!-- TFS Specific HintPath --&gt;   &lt;Otherwise&gt;     &lt;ItemGroup&gt;       &lt;Reference ...&gt;         &lt;HintPath&gt;$(SourceDir)\..\_build\lib\MyShared.Dll&lt;/HintPath&gt;       &lt;/Reference&gt;     &lt;/ItemGroup&gt;   &lt;/Otherwise&gt; &lt;/Choose&gt; </code></pre>  <p>Localy build passes, but I get <code>The type or namespace name could not be found</code> error on TFS build because it cannot find <code>MyShared.Dll</code>.</p>  <p>Any idea how can I fix this? Thanks!</p>