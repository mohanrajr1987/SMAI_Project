<p>I want to write queries for users visiting Web Page in MongoDB. The User and Website object looks like thisï¼š</p>  <pre><code>User {    Integer _id,    String Name,    .... }  WebPage: {   Integer _id,   String URL,   Integer CountOfVisitor,   Visitors:   [     {       Integer Visitor_id, //this field is consistent with the User._id field       Integer VisitTime     }     ....   ] } </code></pre>  <p>A sample of Web Page collection is</p>  <pre><code>   {       {1, "http://stackoverflow.com/",10000, [{1,1},{2,13},{5,32}....}],       {2, "http://codeproject.com/",5000, [{2,6},{4,23},{12,32}....}],       .....    } </code></pre>  <p>The scenario is that when a new user visits a web page, a new object will be inserted into the Vistors array of the correspond WebPage object and the CountOfVisitor field will be incremented by 1. When a old user visit a web page, the VisitTime field of the correspond object in the Visitors array will be incremented by 1 (the initial value is 1) and the CountOfVisitor field doesn't change.<br> So how to write one or more queries to implement such behavior? </p>