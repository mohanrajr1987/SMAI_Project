<p>I'm using Swift, and am getting my app to connect to a bluetooth BLE device. </p>  <p>I use the following line of code to get my app to connect:</p>  <pre><code>self.centralManager.connectPeripheral(peripheral, options: nil) </code></pre>  <p>This work fine, but occasionally fails to connect. The device does connect, but then disconnects immediately.</p>  <p>I believe this to be a problem with the device I am connecting to, since I've downloaded the LightBlue app which does the same thing occasionally when connecting.</p>  <p>So my question is, how do I get my Swift project to attempt connection up to 5 times before giving up? I know I can check the state of the connection using this line of code:</p>  <pre><code>if peripheral.state != CBPeripheralState.Connected {  } else {  } </code></pre>  <p>But how do I get the project to attempt to connect until the device does connect or reaches the maximum of 5 attempts? </p>  <p>Thanks!</p>  <p>PS: I'm open to other answers that would connect to my device reliably.</p>