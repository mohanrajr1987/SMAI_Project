<p>I am using ImageMagik 6.7.8 c++ library for image creations from raw images . The problem is I am not able to set DPI for the file type "png" . Whereas it works perfectly ok with jpeg,tiff . Following is the sample code </p>  <pre><code>Magick::Image output; Magick::Blob outputBlob; output.read(geometry-&gt;getWidth(), geometry-&gt;getHeight(), "RGBA", Magick::CharPixel, buffer.get()); // Buffer is the raw image output.resolutionUnits(PixelsPerInchResolution); const Magick::Geometry gm(150,150); output.density(gm); // Write final output.write(&amp;outputBlob, "PNG"); </code></pre>  <p>If I replace PNG by JPG or TIFF in the call output.write I see the correct DPI</p>