<p>I have a Rails app where I am trying to display a PNG file but I am getting this error:</p>  <pre><code>ActionView::Template::Error (Your template was not saved as valid UTF-8. Please either specify UTF-8 as the encoding for your template in your text editor, or mark the template with its encoding by inserting the following as the first line of the template:  # encoding: &lt;name of correct encoding&gt;.  The source of your template was:  �PNG  IHDR#ͱ�)    pHYs�]s� IDATx���g@SW�E��7�ZuV묣�Z�:j�mպm�Z��U[W�:�պZ�*�j���@�3� I���p��} ��?� ���b�X�/���Z�I�N111,ӧO��x�T�?x۶mU����vtt </code></pre>  <p>I've added:</p>  <pre><code>Mime::Type.register "image/png", :png </code></pre>  <p>to the config/initializers/mime_types.rb</p>  <p>I'm referencing and rendering the png file in its controller with:</p>  <pre><code>render :inline =&gt; @object.body.string, :content_type =&gt; @object.content_type || "img/png", :layout =&gt; false </code></pre>  <p>EDIT :</p>  <p>This is the method in the controller </p>  <pre><code> def read_data   resource = Aws::S3::Resource.new(client: @new_client)   if @files.size == 0 &amp;&amp; @links.size == 0 &amp;&amp; resource.bucket(@bucket.name).objects.first != nil &amp;&amp; !request.original_url.end_with?('/')   if request.original_url.split('/')[-1] != @bucket.name &amp;&amp; resource.bucket(@bucket.name).object(@prefix).exists?      @object = @new_client.get_object(bucket: @bucket.name, key: @prefix)      if @prefix.present? &amp;&amp; @object.last_modified &amp;&amp; (@object.content_type.match(/text/) || @object.content_type.match("application/json") || @prefix.end_with?('.json') || @prefix.end_with?('.html') || @prefix.end_with?('.txt') || @prefix.end_with?('.xml') || (@object.content_length &gt; 0 &amp;&amp; @object.content_type == ""))       render :inline =&gt; @object.body.string, :content_type =&gt; @object.content_type || "text/plain", :layout =&gt; false      elsif @prefix.end_with?('.png')          send_data(@object.body,                     :type         =&gt; @object.content_type || "image/png",                    :disposition  =&gt; 'inline')      else       redirect_to resource.bucket(@bucket.name).object(@prefix).presigned_url(:get, expires_in: 8) #presigned url expires after 8 ms     end   end end </code></pre>  <p>end</p>