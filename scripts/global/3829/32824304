<p>I'm trying to execute a rather simple Oracle query against a table with a XMLTYPE column:</p>  <pre><code>Select POB_CODPOL, CODSIS From (     Select T1.POB_CODPOL, EXTRACTVALUE(T1.POB_XMLPOL, '/Polbas/polfun[nomfun="filterBySystem"]/extpar[codele="codsis"]/valele/text()') CODSIS      From TDTX_POLITICA_CLOB T1     Where T1.POB_CODEMP = '001840'  )      Group By POB_CODPOL, CODSIS </code></pre>  <p>This throws a <code>ORA-00979 Not a GROUP BY Expression</code>, which I don't really understand.  Even worse: when I execute the exact same query, but with a simplified XPATH query <strong>does</strong> work:</p>  <pre><code>Select POB_CODPOL, CODSIS From (     Select T1.POB_CODPOL, EXTRACTVALUE(T1.POB_XMLPOL, 'Polbas/codpol/text()') CODSIS      From TDTX_POLITICA_CLOB T1     Where T1.POB_CODEMP = '001840'  )      Group By POB_CODPOL, CODSIS </code></pre>  <p>It looks like Oracle doesn't like conditions like <code>[nomfun="filterBySystem"]</code> when using a <code>GROUP BY</code> (without the grouping clause, everything works fine). </p>  <p>Any idea on why this can be happening?</p>  <p><strong>Edit</strong>: the result of the inner query is rather simple:</p>  <p><a href="http://i.stack.imgur.com/xkSFi.png" rel="nofollow"><img src="http://i.stack.imgur.com/xkSFi.png" alt="enter image description here"></a></p>