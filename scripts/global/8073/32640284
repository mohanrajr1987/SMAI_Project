<p>I am trying to implement a sequence template that calls a endpoint template leveraging the parameters.  My code is as follows:</p>  <p>SEQUENCE-</p>  <pre><code>&lt;sequence xmlns="http://ws.apache.org/ns/synapse" name="aFileWriteSequence" trace="disable"&gt;    &lt;log level="custom"&gt;       &lt;property name="sequence" value="aFileWriteSequence"&gt;&lt;/property&gt;    &lt;/log&gt;    &lt;property xmlns:ns="http://org.apache.synapse/xsd" name="filename" expression="get-property('transport', 'FILE_NAME')" scope="default" type="STRING"&gt;&lt;/property&gt;    &lt;call-template target="FileWriteTemplate"&gt;       &lt;with-param name="targetFileName" value="A_TITLE"&gt;&lt;/with-param&gt;       &lt;with-param name="addressUri" value="vfs:file:///var/process/ren/rrout"&gt;&lt;/with-param&gt;    &lt;/call-template&gt; &lt;/sequence&gt; </code></pre>  <p>SEQUENCE TEMPLATE-</p>  <pre><code>&lt;template xmlns="http://ws.apache.org/ns/synapse" name="FileWriteTemplate"&gt;    &lt;parameter name="targetFileName"&gt;&lt;/parameter&gt;    &lt;parameter name="addressUri"&gt;&lt;/parameter&gt;    &lt;sequence&gt;       &lt;log level="custom"&gt;          &lt;property xmlns:ns2="http://org.apache.synapse/xsd" xmlns:ns="http://org.apache.synapse/xsd" name="TARGET_FILE_NAME" expression="$func:targetFileName"&gt;&lt;/property&gt;          &lt;property xmlns:ns2="http://org.apache.synapse/xsd" xmlns:ns="http://org.apache.synapse/xsd" name="ADDRESS_URI" expression="$func:addressUri"&gt;&lt;/property&gt;       &lt;/log&gt;       &lt;property xmlns:ns2="http://org.apache.synapse/xsd" xmlns:ns="http://org.apache.synapse/xsd" name="transport.vfs.ReplyFileName" expression="fn:concat($func:targetFileName, '-', get-property('SYSTEM_DATE', 'yyMMddHHmmss') , '.xml')" scope="transport" type="STRING"&gt;&lt;/property&gt;       &lt;property name="OUT_ONLY" value="true"&gt;&lt;/property&gt;       &lt;send&gt;          &lt;endpoint name="ep" template="FileOutEndpointTemplate" uri="$func:addressUri"&gt;             &lt;axis2ns117:parameter xmlns:axis2ns117="http://ws.apache.org/ns/synapse" name="retries" value="3"&gt;&lt;/axis2ns117:parameter&gt;             &lt;axis2ns118:parameter xmlns:axis2ns118="http://ws.apache.org/ns/synapse" name="codes" value="1001"&gt;&lt;/axis2ns118:parameter&gt;             &lt;axis2ns119:parameter xmlns:axis2ns119="http://ws.apache.org/ns/synapse" name="factor" value="1.0"&gt;&lt;/axis2ns119:parameter&gt;          &lt;/endpoint&gt;       &lt;/send&gt;    &lt;/sequence&gt; &lt;/template&gt; </code></pre>  <p>ENDPOINT TEMPLATE-</p>  <pre><code>&lt;template xmlns="http://ws.apache.org/ns/synapse" name="FileOutEndpointTemplate"&gt;    &lt;axis2ns131:parameter xmlns:axis2ns131="http://ws.apache.org/ns/synapse" name="codes"&gt;&lt;/axis2ns131:parameter&gt;    &lt;axis2ns132:parameter xmlns:axis2ns132="http://ws.apache.org/ns/synapse" name="factor"&gt;&lt;/axis2ns132:parameter&gt;    &lt;axis2ns133:parameter xmlns:axis2ns133="http://ws.apache.org/ns/synapse" name="retries"&gt;&lt;/axis2ns133:parameter&gt;    &lt;endpoint name="$name"&gt;       &lt;address uri="$uri"&gt;          &lt;suspendOnFailure&gt;             &lt;errorCodes&gt;$codes&lt;/errorCodes&gt;             &lt;progressionFactor&gt;$factor&lt;/progressionFactor&gt;          &lt;/suspendOnFailure&gt;          &lt;markForSuspension&gt;             &lt;retriesBeforeSuspension&gt;$retries&lt;/retriesBeforeSuspension&gt;             &lt;retryDelay&gt;0&lt;/retryDelay&gt;          &lt;/markForSuspension&gt;       &lt;/address&gt;    &lt;/endpoint&gt; &lt;/template&gt; </code></pre>  <p>I have tried several variations on the $Uri in particular and I cannot get it to work.  Essentially, here is the error I am getting:</p>  <pre><code>2015-09-17 16:23:31,026 [-] [SynapseWorker-19] ERROR ClientUtils The system cannot infer the transport information from the $func:addressUri URL. 2015-09-17 16:23:31,026 [-] [SynapseWorker-19] ERROR Axis2Sender Unexpected error during sending message out org.apache.axis2.AxisFault: The system cannot infer the transport information from the $func:addressUri URL. </code></pre>  <p>I would appreciate any recommendation anyone would have to configure this line:</p>  <pre><code>&lt;endpoint name="ep" template="FileOutEndpointTemplate" uri="$func:addressUri"&gt; </code></pre>  <p>Especially how to code the parameter <strong>addressUri</strong> being passed in from the sequence template call in my sequence.</p>