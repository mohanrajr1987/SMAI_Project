<p>I am looking to implement an immutable key sorted map/set that is persistent (or at least have structural sharing) and has "good" complexity for merge/union operations, preferably one based on a tree with a high branching factor to keep the tree shallow. Phil Bagwellâ€™s Ideal Hash Trees <a href="http://lampwww.epfl.ch/papers/idealhashtrees.pdf" rel="nofollow">paper</a> introduces Sorted Order Array Mapped Tries, can they provide a suitable foundation to implement what I described? and are there any good reasons for the lack of any existing implementations.</p>