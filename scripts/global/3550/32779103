<p>We've run into a weird problem during automated testing. Sometimes we get a null return on a read after a commit, even though the data is commit as it should to the database.</p>  <p>code:</p>  <pre><code>Repository.TransactionBegin();         try         {             //Saves the HemUser             Repository.SaveWithReferences(partyUserDb);             // Save hpc-party relation with artifact             Repository.SaveWithCredentials(hpcUserContext.ConvertTo&lt;EconomyPartyRelationship&gt;());             Repository.SaveWithCredentials(hpcUserContext.ConvertTo&lt;EconomyPartyRelHpcUser&gt;());              serviceCenterContexts.ForEach(a =&gt;             {                 Repository.SaveWithCredentials(a.ConvertTo&lt;EconomyPartyRelationship&gt;());                 Repository.SaveWithCredentials(a.ConvertTo&lt;EconomyPartyRelServiceCenterUser&gt;());             });              Repository.TransactionCommit();             Console.WriteLine("leaving commit");         }         catch(Exception ex)         {             Repository.TransactionRollback();             throw new HttpError(                 HttpStatusCode.PreconditionFailed,                 HemErrorCodes.FAILED_TO_CREATE_HEMUSER.ToString(),                 "Error creating HemUser. Ex: {0}".FormatWith(ex.Message));         }         Console.WriteLine(partyUserDb.Id);         return FindUsersHelper.GetHpcContextUserById(dto.contextHpcId, partyUserDb.Id); </code></pre>  <p>The FindUsersHelper.GetHpcContextUserById sometimes returns null even though the data is commited and exist in the database. If we do a wait it will work, but since it should be all sequential it shouldn't be able to return null if the commit was successfull.</p>  <p>The repository code for  Repository.TransactionBegin() and Repository.TransactionCommit only handle start and stop for transactions if nesting is needed, but this is only one block and have no nested transaction statements.</p>  <p>We have tried running it in an explicit transaction without repository handling with the same result. We have run a profiler on the database and we see the commit being done before the select statements, but still sometimes it returns null. If we set a breakpoint(the same as wait really) it will work when we step over it.</p>  <p>30 - 50% of the calls fail.</p>  <p>Any ideas out there?</p>  <p>/Erik</p>