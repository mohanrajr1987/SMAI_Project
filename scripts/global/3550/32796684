<p>I'm currently using Mysql with InnoDB storage engine for all tables.</p>  <p>So, I'm wondering if this is a real problem and if there's a solution for it.</p>  <p>For example, I will charge a user using a database transaction: 1. check his balance 2. subtract his balance 3. credit this balance somewhere 4. commit</p>  <p>What would happen if an update happens just after #1 and before 2 &amp; 3. If the user withdraws or purchases something else that results his balance to be zero. This would have led to to lose that balance. From what I understand, step #1 would only cause a shared lock and would not block writes, etc.</p>  <p>Is there a common solution for this?</p>