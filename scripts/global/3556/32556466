<p>I'm trying to write a function that will set a field of bits to a certain value. The function is <code>int setField(int old, int hi, int lo, int new)</code>. I need it to take the range of bits (<code>lo</code> to <code>hi</code>) from the old value and replace them with the new value. The function must return the new value (in decimal) after the range of bits has been replaced.</p>  <pre><code>int setField (int oldValue, int hi, int lo, int newValue)  {     int old = (oldValue &gt;&gt; lo) &amp; ( (1 &lt;&lt; hi) - 1);      int i;     for(i = lo;i&lt;=hi;i++)     {     int a = getBit(newValue,i);     if(a == 1)       setBit(newValue,i);     if(a == 0)       clearBit(newValue,i);     }     return newValue; } </code></pre>  <p>Here is the code for clearbit and setbit </p>  <pre><code>int setBit (int value, int position) {      int a = (1&lt;&lt;position);       return (value | a); }  int clearBit (int value, int position) {     int a = (1 &lt;&lt; position);      return (value &amp; (~(a)) ); } </code></pre>  <p>I'm having trouble returning the new value (after the bits are modified) any help would be appreciated.</p>  <p>Also here is the code for getBit</p>  <pre><code>int getBit (int value, int position) {     int a = (1&lt;&lt;position);     if( (value &amp; a) == 0)       return 0;     else if( (value &amp; a) != 0)       return 1; } </code></pre>