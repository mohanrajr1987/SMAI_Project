<p>I am working on a project whereby I have a form which a user fills out. The form has various options which alter the visual appearance of the  image. I have a seperate div which contains text from user input which I would like to place onto of the dynamic svg, output as a png and embed it into an email.</p>  <p>Here is the code attached to my submit button:</p>  <pre><code>$('#form_check_out').submit(function() {         $('#hidden-response').text('');  if ($(this).valid()) {      $('#hidden-response').text('Congratulations! Your form has been submitted!');     $('#hidden-response').fadeIn('slow');                //CREATE XML FROM THE SVG OBJECT          var canvasTemp = document.getElementById("canvas-svg2");         var oSerializer = new XMLSerializer();         var sXML = oSerializer.serializeToString(document.getElementById("SVG_scene"));          //DRAW XML ONTO THE CANVAS ELEMENT         canvg(canvasTemp, sXML,{ ignoreMouse: true, ignoreAnimation: true })          rasterizeHTML.drawHTML(document.getElementById("text-top-bottom").innerHTML, canvasTemp);         //dataURL represents to encoded PNG data          var dataURL = document.getElementById("canvas-svg2").toDataURL("image/png");         document.getElementById("svg-text").value = dataURL;          var w=window.open('about:blank','image from canvas');         w.document.write("&lt;img src='"+dataURL+"' alt='from canvas'/&gt;");         console.log(dataURL);          post_data = {             'c_name'        : $('input[name=name]').val(),             'c_address'     : $('input[name=address]').val(),             'c_suburb'      : $('input[name=suburb]').val(),             'c_postcode'    : $('input[name=postcode]').val(),             'c_state'       : $('input[name=state]').val(),             'c_phone'       : $('input[name=phone]').val(),             'c_fax'         : $('input[name=fax]').val(),             'c_email'       : $('input[name=email]').val(),             'c_dataURL'     : $('input[name=notes]').val()         };            //Ajax post data to server        $.post('http://localhost:8080/web/secure_email_code.php', post_data, function(response){             $("#form_check_out").hide().html(output).slideDown();         }, 'json');      return false; }else{     alert("This form has problems, lets start validating!");     $('#form_check_out').validate();     $('#hidden-response').text('Please input all required fields to continue.');     $('#hidden-response').fadeIn('slow');     return false;            }    </code></pre>  <p>});</p>  <p>The svg is added to the canvas-svg using canvg plugin and rasterHTML is used to add the div text to the canvas-svg. I would like to embed the canvas png into an email. My php code is as follows but for some strange reason c_DataURL is not returning a value in my email text</p>  <pre><code>//Sanitize input data using PHP filter_var(). $c_name             = filter_var($_POST["c_name"], FILTER_SANITIZE_STRING); $c_address          = filter_var($_POST["c_address"], FILTER_SANITIZE_STRING); $c_suburb           = filter_var($_POST["c_suburb"], FILTER_SANITIZE_STRING); $c_postcode         = filter_var($_POST["c_postcode"], FILTER_SANITIZE_STRING); $c_state            = filter_var($_POST["c_state"], FILTER_SANITIZE_STRING); $c_phone            = filter_var($_POST["c_phone"], FILTER_SANITIZE_STRING); $c_fax              = filter_var($_POST["c_fax"], FILTER_SANITIZE_STRING); $c_email            = filter_var($_POST["c_email"], FILTER_SANITIZE_EMAIL); $c_svg_text = $_POST['c_dataURL'];  define('UPLOAD_DIR', 'http://localhost:8080/web/images/');  $c_svg_text = str_replace('data:image/png;base64,', '', $c_svg_text); $c_svg_text = str_replace(' ', '+', $c_svg_text); $c_svg_text = base64_decode($c_svg_text); $file = UPLOAD_DIR . uniqid() . '.png'; $success = file_put_contents($file, $data); print $success ? $file : 'Unable to save the file.';//email body $subject = "test"; $message_body = "Enquiry complete" . "\r\n" .                 "Name: ".$c_name."\r\n".                 "Address: ".$c_address."\r\n".                 "Suburb: ".$c_suburb."\r\n".                 "Postcode: ".$c_postcode."\r\n".                 "State: ".$c_state."\r\n".                 "Phone: ".$c_phone."\r\n".                 "Fax: ".$c_fax."\r\n".                 "Email: ".$c_email."\r\n".                 "Image: ".$c_svg_text."\r\n";  //proceed with PHP email. $headers  = 'MIME-Version: 1.0'."\r\n"; $headers .= 'Content-type: text/html; charset=iso-8859-1'."\r\n"; $headers .= 'From: xxx@xxx.com.au'."\r\n";  'Reply-To: '.$user_email.''."\r\n". 'X-Mailer: PHP/' . phpversion();  $send_mail = mail($to_email, $subject, $message_body, $headers); </code></pre>  <p>I would be greatful if anyone can spot errors with what I have done so far... I just want to add svg and div to canvas then canvas to png, then png to embed into email. I know I am close... thankyou.</p>