<p>This example is injected into the ngAnimate. First, you need to visit this test page like "/#/test/1" , 3 seconds after the modified $location.path ('/test/2'), the controller is re loaded,but the floating layer can not be displayed (box.css('display', 'block') failure). If you do not inject ngAnimate, everythings is ok, the floating layer can be displayed. I don't know what's going on, it's a bug ngAnimate?</p>  <p>HTML:</p>  <pre><code>&lt;!doctype html&gt; &lt;html ng-app="app"&gt; &lt;head&gt;     &lt;meta charset="utf-8"&gt;     &lt;title&gt;test&lt;/title&gt;     &lt;style type="text/css"&gt;     .popup {         position: fixed; width: 100%; height: 100%; background-color: rgba(36,36,36,.96); top: 0; left: 0; z-index: 1;     }     .popup .context .hd {         font-size: 32px; color:#FFF; text-align: center;     }     .popup .close {         font-size: 32px; color:#999; text-align: center;     }     &lt;/style&gt; &lt;/head&gt; &lt;body&gt;     &lt;div class="wrapper" ng-view&gt;&lt;/div&gt;     &lt;script src="angular_1.4.1.min.js" type="text/javascript"&gt;&lt;/script&gt;     &lt;script src="angular-route.min.js" type="text/javascript"&gt;&lt;/script&gt;     &lt;script src="angular-animate.min.js" type="text/javascript"&gt;&lt;/script&gt; &lt;/body&gt; &lt;/html&gt; </code></pre>  <p>template demo.html</p>  <pre><code>route : &lt;span style="color:red; font-size: 32px;"&gt;{{id}}&lt;/span&gt; &lt;input type="button" pop-window-open ng-click="openPopWindow()" style="width:200px; height: 50px;" value="open window"&gt; &lt;section class="popup" id="popWindow" style="display: none;"&gt;     &lt;div class="context"&gt;         &lt;div class="hd"&gt;pop window&lt;/div&gt;         &lt;div class="bd"&gt;&lt;/div&gt;     &lt;/div&gt;     &lt;div class="close" pop-window-close ng-click="closePopWindow()"&gt;close&lt;/div&gt; &lt;/section&gt; </code></pre>  <p>javascript:</p>  <pre><code>angular.module('app', ['ngRoute', 'ngAnimate', 'youyuApp.controllers', 'youyuApp.directives'])     .config(['$routeProvider', function($routeProvider) {         $routeProvider             .when('/test/:id', {                 templateUrl : 'demo.html',                 controller : 'ctrl1'             });     }]); angular.module('youyuApp.controllers', [])     .controller('ctrl1', ['$scope', '$location', '$timeout', '$routeParams',         function($scope, $location, $timeout, $routeParams) {             $scope.id = $routeParams.id;             $timeout(function() {                 $location.path('/test/2');             }, 3000);     }]);  angular.module('youyuApp.directives', [])     .directive('popWindowOpen', function() {         return {             restrict: 'EA',             link : function(scope, element, attrs) {                 var box = angular.element(document.getElementById('popWindow'));                 scope.openPopWindow = function() {                     box.css('display', 'block');                 };             }         }     })     .directive('popWindowClose', function() {         return {             restrict: 'EA',             scope : true,             link : function(scope, element, attrs) {                 var box = angular.element(document.getElementById('popWindow'));                 scope.closePopWindow = function() {                     box.css('display', 'none');                 };             }         }     }) </code></pre>