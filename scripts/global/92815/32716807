<p>I want to store the screen locked and screen unlocked timings into the core data.I tried to retreive the screen on and off timings adding code in <code>viewdidLoad()</code> as:</p>  <pre><code>[[NSNotificationCenter defaultCenter] addObserver:self                                          selector:@selector(applicationEnteredForeground:)                                              name:UIApplicationWillEnterForegroundNotification                                            object:nil];  [[NSNotificationCenter defaultCenter] addObserver:self                                          selector:@selector(applicationEnteredBackground:)                                              name:UIApplicationDidEnterBackgroundNotification                                            object:nil]; </code></pre>  <p>And the following code to invoke the respective methods:</p>  <pre><code>- (void)applicationEnteredForeground:(NSNotification *)notification {     NSLog(@"Screen unlocked");     NSDate *now = [NSDate date];      NSDateFormatter *dateFormatter = [[NSDateFormatter alloc] init];     dateFormatter.dateFormat = @"hh:mm:ss";    [dateFormatter setTimeZone:[NSTimeZone systemTimeZone]];    NSLog(@"Screen unlocked Time is %@",[dateFormatter stringFromDate:now]); }  - (void)applicationEnteredBackground:(NSNotification *)notification {     NSLog(@"Screen locked");     NSDate *now = [NSDate date];      NSDateFormatter *dateFormatter = [[NSDateFormatter alloc] init];     dateFormatter.dateFormat = @"hh:mm:ss";     [dateFormatter setTimeZone:[NSTimeZone systemTimeZone]];     NSLog(@"Screen locked Time is %@",[dateFormatter stringFromDate:now]); } </code></pre>  <p>I am able to obtain screen on and off timings in the log.But my requirement is to store the screen on and off timings to database on click of button!!.The timings obtained in the above methods cannot be accessed in button action method.So can any suggest me where i m going wrong?And any other approaches to do also would be helpful!!</p>