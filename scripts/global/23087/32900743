<p>How do I display an image in a tableview cell when a selection is made from images in the imagepicker (see code sample below) as a message bubble (see screenshot below)?</p>  <p>I am making chat app with XMPPFramework. I have used the implementation from this <a href="http://code.tutsplus.com/tutorials/building-a-jabber-client-for-ios-custom-chat-view-and-emoticons--mobile-7728" rel="nofollow">Link</a> to display a speech bubble in a "tableview" cell for receiving and sending messages. </p>  <p>When I select an image or video, I want to display that image like in other chat applications.</p>  <p>Here is code for tableview cell for row:</p>  <pre><code>- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath { NSDictionary *s = (NSDictionary *) [messages objectAtIndex:indexPath.row]; NSLog(@"s:-%@",s);  static NSString *CellIdentifier = @"MessageCellIdentifier";  SMMessageViewTableCell *cell = (SMMessageViewTableCell *)[tableView dequeueReusableCellWithIdentifier:CellIdentifier];  if (cell == nil) {     //cell = [[SMMessageViewTableCell alloc] initWithFrame:CGRectZero reuseIdentifier:CellIdentifier] ;     cell=[[SMMessageViewTableCell alloc]initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CellIdentifier]; }  NSString *sender = [s objectForKey:@"sender"]; NSString *message = [s objectForKey:@"msg"]; //NSString *time = [s objectForKey:@"time"];  CGSize  textSize = { 260.0, 10000.0 };  CGSize size = [message sizeWithFont:[UIFont boldSystemFontOfSize:13]                   constrainedToSize:textSize                       lineBreakMode:NSLineBreakByWordWrapping];  size.width += (padding/2);  cell.messageContentView.text = message; cell.accessoryType = UITableViewCellAccessoryNone; cell.userInteractionEnabled = NO; cell.backgroundColor=[UIColor clearColor]; UIImage *bgImage = nil;  if ([sender isEqualToString:@"you"]) { // left aligned     bgImage = [[UIImage imageNamed:@"aqua.png"] stretchableImageWithLeftCapWidth:24  topCapHeight:15];      [cell.messageContentView setFrame:CGRectMake(360 - size.width - padding,                                                  padding*2,                                                  size.width,                                                  size.height+10)];      UIImageView *imgview=[[UIImageView alloc]initWithFrame:CGRectMake(360 - size.width -padding, padding*2, size.width, size.height+10)];     imgview.image=image;      [cell.messageContentView addSubview:imgview];       [cell.bgImageView setFrame:CGRectMake(cell.messageContentView.frame.origin.x - padding/10,cell.messageContentView.frame.origin.y - padding/10,size.width+padding,size.height+padding)]; } else {     bgImage = [[UIImage imageNamed:@"orange.png"] stretchableImageWithLeftCapWidth:24  topCapHeight:15];      [cell.messageContentView setFrame:CGRectMake(padding, padding*2, size.width, size.height+10)];      [cell.bgImageView setFrame:CGRectMake(cell.messageContentView.frame.origin.x - padding/10,cell.messageContentView.frame.origin.y - padding/10,size.width+padding,size.height+padding)]; }  cell.bgImageView.image = bgImage; //cell.senderAndTimeLabel.text = [NSString stringWithFormat:@"%@ %@", sender, time]; cell.senderAndTimeLabel.text = [self GetDateAndTime];  return cell; } </code></pre>  <p><a href="http://i.stack.imgur.com/bHIEq.png" rel="nofollow"><img src="http://i.stack.imgur.com/bHIEq.png" alt="enter image description here"></a></p>