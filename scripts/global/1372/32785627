<p>Hello I am trying to write a weather app and I wanted to get the current location. I just want to get the current latitude and longitude of the phones location.  I tried doing it as a new class. But was still unsuccessful.  But my app always crashes.  Here is my code. </p>  <pre><code>    @Override protected void onCreate(Bundle savedInstanceState) {     super.onCreate(savedInstanceState);     setContentView(R.layout.activity_main);     ButterKnife.bind(this);     mProgressBar.setVisibility(View.INVISIBLE);       /* Use the LocationManager class to obtain GPS locations */     LocationManager mlocManager = (LocationManager)getSystemService(Context.LOCATION_SERVICE);      LocationListener mlocListener = new MyLocationListener(); //I also get an error here about requestUpdateLocatio     mlocManager.requestLocationUpdates( LocationManager.GPS_PROVIDER, 0, 0, (android.location.LocationListener) mlocListener);      //Latitude and Longitude values.     final double latitude = 43.768;     final double longitude = -79.345;      mRefreshImageView.setOnClickListener(new View.OnClickListener() {         @Override         public void onClick(View v) {             getForecast(latitude, longitude);         }     });      getForecast(latitude, longitude);  } </code></pre>  <p>For now I only want to toast my latitude and longitude. But my app crashes.</p>  <pre><code>public class MyLocationListener implements LocationListener     {          @Override         public void onLocationChanged(Location loc)         {              loc.getLatitude();             loc.getLongitude();              String Text = "My current location is: " +                     "Latitud = " + loc.getLatitude() +                     "Longitud = " + loc.getLongitude();              Toast.makeText( getApplicationContext(), Text, Toast.LENGTH_SHORT).show();         }          public void onProviderDisabled(String provider)         {             Toast.makeText( getApplicationContext(), "Gps Disabled", Toast.LENGTH_SHORT ).show();         }           public void onProviderEnabled(String provider)         {             Toast.makeText( getApplicationContext(), "Gps Enabled", Toast.LENGTH_SHORT).show();         }          public void onStatusChanged(String provider, int status, Bundle extras)         {          }     } </code></pre>  <p>I have all the requires permissions  Here is my stack trace ? </p>  <pre><code>09-25 11:38:59.863    9939-9939/? I/art﹕ Late-enabling -Xcheck:jni 09-25 11:39:00.039    9939-9939/com.gkmohit.unknown.weatherme D/AndroidRuntime﹕ Shutting down VM 09-25 11:39:00.044    9939-9939/com.gkmohit.unknown.weatherme E/AndroidRuntime﹕ FATAL EXCEPTION: main     Process: com.gkmohit.unknown.weatherme, PID: 9939     java.lang.RuntimeException: Unable to start activity ComponentInfo{com.gkmohit.unknown.weatherme/com.gkmohit.unknown.weatherme.UI.MainActivity}: java.lang.ClassCastException: com.gkmohit.unknown.weatherme.UI.MainActivity$MyLocationListener cannot be cast to android.location.LocationListener             at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2325)             at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2387)             at android.app.ActivityThread.access$800(ActivityThread.java:151)             at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1303)             at android.os.Handler.dispatchMessage(Handler.java:102)             at android.os.Looper.loop(Looper.java:135)             at android.app.ActivityThread.main(ActivityThread.java:5254)             at java.lang.reflect.Method.invoke(Native Method)             at java.lang.reflect.Method.invoke(Method.java:372)             at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:903)             at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:698)      Caused by: java.lang.ClassCastException: com.gkmohit.unknown.weatherme.UI.MainActivity$MyLocationListener cannot be cast to android.location.LocationListener             at com.gkmohit.unknown.weatherme.UI.MainActivity.onCreate(MainActivity.java:78)             at android.app.Activity.performCreate(Activity.java:5990)             at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1106)             at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2278)             at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2387)             at android.app.ActivityThread.access$800(ActivityThread.java:151)             at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1303)             at android.os.Handler.dispatchMessage(Handler.java:102)             at android.os.Looper.loop(Looper.java:135)             at android.app.ActivityThread.main(ActivityThread.java:5254)             at java.lang.reflect.Method.invoke(Native Method)             at java.lang.reflect.Method.invoke(Method.java:372)             at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:903)             at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:698) 09-25 11:39:04.649    9939-9939/? I/Process﹕ Sending signal. PID: 9939 SIG: 9 </code></pre>