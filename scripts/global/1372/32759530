<p>My app is promtping the user to switch on the Location service by navigating to Location-Settings activity. Now how to check in the activity code when the user toggles the Location option in the settings activity.</p>  <pre><code>public void checkGPS() {     LocationManager lm = (LocationManager) GlobalHome.this.getSystemService(Context.LOCATION_SERVICE);     boolean gps_enabled = false;     boolean network_enabled = false;      try {         gps_enabled = lm.isProviderEnabled(LocationManager.GPS_PROVIDER);     } catch (Exception ex) {     }      try {         network_enabled = lm.isProviderEnabled(LocationManager.NETWORK_PROVIDER);     } catch (Exception ex) {     }      if (!gps_enabled &amp;&amp; !network_enabled) {         // notify user         AlertDialog.Builder dialog = new AlertDialog.Builder(GlobalHome.this);         dialog.setMessage(MessagesString.LOCATION_DIALOG_MESSAGE);         dialog.setPositiveButton(MessagesString.LOCATION_DIALOG_POSTIVE_TEXT, new DialogInterface.OnClickListener() {             @Override             public void onClick(DialogInterface paramDialogInterface, int paramInt) {                 // TODO Auto-generated method stub                 Intent myIntent = new Intent(Settings.ACTION_LOCATION_SOURCE_SETTINGS);                 GlobalHome.this.startActivity(myIntent);                 //get gps             }         });         dialog.setNegativeButton("Cancel", new DialogInterface.OnClickListener() {              @Override             public void onClick(DialogInterface paramDialogInterface, int paramInt) {                 // TODO Auto-generated method stub              }         });         dialog.show();     }  } </code></pre>