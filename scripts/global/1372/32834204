<p>I am trying to calculate and return the distances between some points.</p>  <p>Here is the complete MYSQL statement that I am using. I have tried multiple versions of this formula, and they all have similar results: returning zero result. Any thoughts on what I am doing wrong?</p>  <pre><code>SET @origLat = 37.386337; SET @origLon = -122.085823; SET @dist = 20;  SELECT user_id, user_lat, user_lon, 3956 * 2 *            ASIN(SQRT( POWER(SIN((@origLat - abs(user_lat))*pi()/180/2),2)           +COS(@origLat*pi()/180 )*COS(abs(user_lat)*pi()/180)           *POWER(SIN((@origLon-(user_lon))*pi()/180/2),2)))            AS distance  FROM myTable WHERE user_lon BETWEEN (@origLon-@dist/abs(cos(radians(@origLat))*69))  AND (@origLon+@dist/abs(cos(radians(@origLat))*69))  AND        user_lat BETWEEN (@origLat-(@dist/69))  AND (@origLat+(@dist/69))        HAVING distance &lt; @dist ORDER BY distance LIMIT 100 </code></pre>  <p>Here is what is in my table. </p>  <p><a href="http://i.stack.imgur.com/YhDrq.png" rel="nofollow"><img src="http://i.stack.imgur.com/YhDrq.png" alt="enter image description here"></a></p>  <p>Running just my SELECT clause shows that Distance is return nil.</p>  <p><a href="http://i.stack.imgur.com/XYy8j.png" rel="nofollow"><img src="http://i.stack.imgur.com/XYy8j.png" alt="enter image description here"></a></p>