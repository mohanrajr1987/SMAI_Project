<p>I've got a fixed top navigation and im trying to get the links to change to active when scrolling down the page. Currently i've got it working to a point where if you click it will add an active class and go to the correct position. When you scroll up or down it should change to the previous/next section in the nav which i cant get working. any ideas?</p>  <p>Thanks</p>  <p>html: </p>  <pre><code>&lt;body id="page-top"&gt;     &lt;nav id="mainNav" class="navbar navbar-default navbar-fixed-top"&gt;         &lt;div class="container"&gt;             &lt;div class="navbar-header"&gt;                 &lt;a href="#page-top"&gt;&lt;img src="img/nav-logo.png" id="company-logo-large"&gt;&lt;/a&gt;             &lt;/div&gt;             &lt;div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1"&gt;                 &lt;ul class="nav navbar-nav navbar-right" id="mainmenu"&gt;                     &lt;li&gt;                         &lt;a class="page-scroll" href="#about"&gt;About&lt;/a&gt;                     &lt;/li&gt;                     &lt;li&gt;                         &lt;a class="page-scroll" href="#services"&gt;Services&lt;/a&gt;                     &lt;/li&gt;                     &lt;li&gt;                         &lt;a class="page-scroll" href="#team"&gt;Team&lt;/a&gt;                     &lt;/li&gt;                 &lt;/ul&gt;             &lt;/div&gt;         &lt;/div&gt;     &lt;/nav&gt; </code></pre>  <p>section where nav scrolls to:</p>  <pre><code>&lt;section id="about"&gt;&lt;/section&gt; &lt;section id="services"&gt;&lt;/section&gt; &lt;section id="team"&gt;&lt;/section&gt; </code></pre>  <p>javascript:</p>  <pre><code>$(document).ready(function () {     $(document).on("scroll", onScroll);      //smoothscroll     $('a[href^="#"]').on('click', function (e) {         e.preventDefault();         $(document).off("scroll");          $('a').each(function () {             $(this).removeClass('active');         })         $(this).addClass('active');          var target = this.hash,             menu = target;         $target = $(target);         $('html, body').stop().animate({             'scrollTop': $target.offset().top+2         }, 500, 'swing', function () {             window.location.hash = target;             $(document).on("scroll", onScroll);         });     }); });  function onScroll(event){     var scrollPos = $(document).scrollTop();     $('#mainNav a').each(function () {         var currLink = $(this);         var refElement = $(currLink.attr("href"));         if (refElement.position().top &lt;= scrollPos &amp;&amp; refElement.position().top + refElement.height() &gt; scrollPos) {             $('#mainNav li a').removeClass("active");             currLink.addClass("active");         }         else{             currLink.removeClass("active");         }     }); } </code></pre>  <p>Any help would be appreciated.</p>