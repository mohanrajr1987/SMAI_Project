<p>I am using ruby and capybara(which leverages selenium) to automate walking through a website. After navigating to a new page I verify that the new page URL is what i'm expecting. My issue comes when I walk through an order funnel that is a single page but loads different views.</p>  <p>Some code...</p>  <p>I create my session instance then have additional code opening the browser and walking to a certain point in the website that I wont include</p>  <pre><code>$session = Capybara::Session.new(:selenium) </code></pre>  <p>My line for checking the browser URL without search params ie: everything after '?'</p>  <pre><code>if url == $session.current_url.to_s.split("?")[0]         urlCorrect = true end </code></pre>  <p>This code works fine when my URL is </p>  <p><a href="https://www.homepage.com" rel="nofollow">https://www.homepage.com</a>  </p>  <p>Then I click on a link that takes me to my order funnel ... <a href="https://www.homepage.com/order#/orderpage1?option1=something&amp;option2=somethingelse" rel="nofollow">https://www.homepage.com/order#/orderpage1?option1=something&amp;option2=somethingelse</a>  </p>  <p>My function still matches the expected URL. But the issue comes when I move to the second page of the order funnel : </p>  <p><a href="https://www.homepage.com/order#/orderpage2?option1=something&amp;option2=somethingelse" rel="nofollow">https://www.homepage.com/order#/orderpage2?option1=something&amp;option2=somethingelse</a> </p>  <p>My capybara code to get current url still returns the URL from orderpage1. Im guessing its because there is no postback when moving from orderpage1 to orderpage2 but i dont know how to force a postback or tell capybara to re-grab the url</p>  <p>Any advice will be appreciated.</p>  <p>Thanks</p>  <p>Quick Edit: I forgot to mention this behavior is only in IE. Chrome and Firefox both work correctly with the exact same code</p>