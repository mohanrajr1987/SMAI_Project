<p>Here's what I'm doing in my tests.</p>  <ol> <li>User enters their shop name</li> <li>User gives credentials</li> <li>User adds a record to DB</li> </ol>  <p>First scenario, everything runs smooth. Second scenario, the problem is that we skip the OAuth credentials page so the test is failing. </p>  <p>How do I avoid this? (I'm new to testing)</p>  <p>step file:</p>  <pre><code>    Before do       @shop = FactoryGirl.build(:shop)     end       Given /^I am a logged in user$/ do         visit root_path         fill_in :shop, :with =&gt; "jims-spears"         click_button 'Install'         expect(page).to have_content('Log in to manage')         fill_in :login, :with =&gt; 'jackson@example.com'         fill_in :password, :with =&gt; "12345"         click_button 'Log in'         expect(page).to have_content("We'll automatically")     end        Given /^the customer is a (.+) athlete$/ do |type|       athlete_type = (type + "_athlete").to_sym       @customer = create(athlete_type, :shop =&gt; @shop)     end </code></pre>  <p>feature file:</p>  <pre><code>Feature: User adds a customer manually    Background:     Given I am a logged in user     Scenario: User adds a customer who is a swimming athlete     Given the customer is a swimming athlete     When I add the customer     Then I should see that the customer is an athlete    Scenario: User adds a customer who is a rowing athlete     Given the customer is a rowing athlete     When I add the customer     Then I should see that the customer is an athlete </code></pre>  <p>I tried adding an a hook in the step file with no luck</p>  <pre><code>After do   @shop.destroy end </code></pre>  <p>Any ideas?</p>