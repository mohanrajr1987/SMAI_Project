<p>I've been learning the reveal modular pattern, and I'm a bit stuck on how to let users pass default values into my module. Here is a stripped down version as an example: </p>  <pre><code>var myModule = function() {    defaults = {       foreground: "red",       background: "yellow"   };    var publicFunction = function(var) {     if(defaults.foreground === "red") {       //something     } else {       //something again     }   }    var _privateFunction = function() {     //some other code   }      return {     //main function to initiate the module     init: function(options) {       var opts = $.extend( {}, defaults, options );       publicFunction();       _privateFunction();      },     publicFunction: publicFunction   };  }(); </code></pre>  <p>The Module is started by this line: </p>  <pre><code>myModule.init({foreground: 'pink', background: 'black'}); </code></pre>  <p>When I try to use this, the value of defaults.foreground never gets overwritten. What am I missing here? I thought extend() is supposed to merge my two objects, but it's not working.</p>