<p>create a procedure which check the seat available in the Airplane , when a person book a ticket. To make sure that the person wont won't book a ticket if there is no chair in the plane</p>  <p>This are the tables i have in the database.</p>  <pre><code> `CREATE TABLE planes (  plane_id  INT IDENTITY(1,1) PRIMARY KEY, plane_name char(25) NOT NULL, available_seat INT NOT NULL );  CREATE TABLE users (  user_id  INT IDENTITY(1,1) PRIMARY KEY, user_name CHAR(60) NOT NULL, user_address TEXT NOT NULL );   CREATE TABLE booking (  ticket_number  INT IDENTITY(1,1) PRIMARY KEY, plane_id  INT FOREIGN KEY REFERENCES planes(plane_id), user_id INT FOREIGN KEY REFERENCES users(user_id), Number_of_people INT  );  -- this how i tried to create a procedure  CREATE PROCEDURE  Ticket @plane_id INT , @User_id INT, @Number_of_people INT  AS DECLARE @available_seat INT = 0, @insert_error INT = 0   SELECT @available_seat = available_seat FROM planes WHERE plane_id=@plane_id;  IF @available_seat&gt;=@Number_of_people BEGIN       BEGIN TRANSACTION           INSERT INTO booking           VALUES (@plane_id, @user_id, @Number_of_people)           SET @insert_error = @@ERROR            UPDATE planes           SET available_seat = @available_seat - @Number_of_people           WHERE plane_id = @plane_id     IF @insert_error = 0    BEGIN     COMMIT    PRINT 'Transaction successful'    END     ELSE    BEGIN     ROLLBACK    PRINT 'Transaction unsuccessful'    END  END ELSE   PRINT 'NOT enough seats available'` </code></pre>