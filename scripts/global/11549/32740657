<p>I'm able to generate the pdf with images using custom implementation of <code>RelacementElementFactory</code> from xhtml template using <code>Freemarker</code>.</p>  <blockquote>   <p>But I got an error when my system screen was off, hence pdf didn't generated.</p> </blockquote>  <pre><code>Caused by: java.lang.NullPointerException     at sun.lwawt.macosx.LWCToolkit.getScreenResolution(LWCToolkit.java:356)     at org.xhtmlrenderer.layout.SharedContext.&lt;init&gt;(SharedContext.java:110)     at org.xhtmlrenderer.pdf.ITextRenderer.&lt;init&gt;(ITextRenderer.java:111)     at org.xhtmlrenderer.pdf.ITextRenderer.&lt;init&gt;(ITextRenderer.java:102) </code></pre>  <blockquote>   <p>Why this happened...?   [NOTE: I'm using OS X Yosemite Version 10.10.4]</p> </blockquote>  <p>I have failed to reproduced this by running several time my server when system screen is locked and not displaying anything.</p>  <blockquote>   <p>Will it impact on other OS machines(like linux machine server) ...? or is this MAC OS related only and does not impact on other machines.</p> </blockquote>