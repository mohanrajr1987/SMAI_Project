<p>In an attempt to improve this answer here: <a href="http://stackoverflow.com/questions/32475502/how-to-make-divs-stack-without-spaces-and-retain-order-on-smaller-sizes-in-boo/32553919#32553919">How to make divs stack without spaces and retain order on smaller sizes - in Bootstrap</a></p>  <p>I have been trying to work out how to create a jQuery that will dynamically set the <code>margin-top</code> of divs depending on the accumulated height total in comparison to the height total of the adjacent column of divs.</p>  <p>The css:</p>  <pre><code>div {outline:solid 1px red; } // Set media container widths small to test code. @media (min-width: 400px) { .container {     max-width: 1170px; }    .left {     max-width:50%;     width: 50%;     float:left;     clear:left; }     .right {     max-width:50%;     width: 50%;     float:left; }   }  @media (min-width: 150px) { .container {     max-width: 400px; } .col-sm-12 {     width: 100%; } }    </code></pre>  <p>The Html:</p>  <pre><code>&lt;div id="1" class="left col-sm-12" style="height:100px;background-color:yellow;"&gt;DIV 1&lt;/div&gt; &lt;div id="2" class="right col-sm-12" style="height:80px;"&gt;DIV 2&lt;/div&gt; &lt;div id="3"  class="left col-sm-12" style="height:50px;background-color:yellow;"&gt;DIV 3&lt;/div&gt; &lt;div id="4" class="right col-sm-12" style="height:70px;"&gt;DIV 4&lt;/div&gt; &lt;div id="5" class="left col-sm-12" style="height:20px;background-color:yellow;"&gt;DIV 5&lt;/div&gt; &lt;div id="6" class="right col-sm-12" style="height:80px;"&gt;DIV 6&lt;/div&gt; &lt;div id="7" class="left col-sm-12" style="height:50px;background-color:yellow;"&gt;DIV 7&lt;/div&gt; &lt;div id="8" class="right col-sm-12" style="height:90px;"&gt;DIV 8&lt;/div&gt; </code></pre>  <p>Js:</p>  <pre><code>$(function () { // Get div by id. var idR = $("div").attr('id'); var idNumder =parseInt(idR); // check if it's a right div. if((idNumber % 2 ==0) &amp;&amp; (idNumber &gt; 2)){  var className = $("div").attr('class'); var leftHeight = 0; var rightHeight = 0;  for(int i =0; i&lt;idNumber; i++){ // count up left side heights. if(className.localeCompare("left")==0){    leftHeight += $("#"+idNumber.ToString()).height; }  // count up right side heights.  if(className.localeCompare("right")==0){     rightHeight += $("#"+idNumber.ToString()).height; }     var diff = leftHeight - rightHeight;    // Determine which side is shorter.    if(leftHeight &gt; rightHeight){         $("#idR").css({         "margin-top":"-"+ diff + "px",     });    }     else{         var idL = (idNumber + 1).toString();        $("#idL").css({         "margin-top":"-"+ diff + "px",         "clear":"both",     });     } } } }); </code></pre>  <p>The fiddle: <a href="http://jsfiddle.net/kermit77/hswxc06w/26/" rel="nofollow">http://jsfiddle.net/kermit77/hswxc06w/26/</a></p>  <p><a href="http://i.stack.imgur.com/56ykK.png" rel="nofollow"><img src="http://i.stack.imgur.com/56ykK.png" alt="enter image description here"></a></p>  <p>The idea is, that the difference in height is applied as a negative top margin to the shorter div, bringing it up flush under the dive above it. </p>  <p><a href="http://i.stack.imgur.com/y2aw1.png" rel="nofollow"><img src="http://i.stack.imgur.com/y2aw1.png" alt="enter image description here"></a></p>  <p>I am not sure what I'm doing wrong, I suspect it is more than one thing. I've been fiddling around with it (no pun intended) and cannot make it work.</p>  <p>I don't think it's being acted on at all. </p>  <p>I'd appreciate any feedback</p>  <hr>  <p>I solved this with the accepted answer's help, see full code here:</p>  <p><a href="http://stackoverflow.com/a/32553919/3956566">http://stackoverflow.com/a/32553919/3956566</a></p>