<p>I want to change a set of labels (8 X 8) background color upon event triggering each 10 ms, I'm using a thread <code>CreateThread(NULL, 0, colorLabel, NULL, 0, 0);</code> called each 10ms </p>  <pre><code>DWORD WINAPI colorLabel(LPVOID lpParameter) {     for (int i = 0; i &lt; 8; i++){         for (int j = 0; j &lt; 8; j++){             if (hBrushLabel) {                 DeleteObject(hBrushLabel);                 hBrushLabel = NULL;             }             clrLabelBkGnd = RGB((i * 4) % 255, (j * 4) % 255, 0x00);             InvalidateRect(hWndLabel[i][j], NULL, TRUE);         }     }     colored = 1;     return 0; } </code></pre>  <p>CALLBACK program:</p>  <pre><code>case WM_CTLCOLORSTATIC:          hdc = reinterpret_cast&lt;HDC&gt;(wParam);         SetTextColor(hdc, clrLabelText);         SetBkColor(hdc, clrLabelBkGnd);         if (!hBrushLabel) hBrushLabel = CreateSolidBrush(clrLabelBkGnd);         return reinterpret_cast&lt;LRESULT&gt;(hBrushLabel); </code></pre>  <p>but this method is too heavy, the display is destroyed</p>  <p>is there any optimized way to change labels color display each 10ms</p>