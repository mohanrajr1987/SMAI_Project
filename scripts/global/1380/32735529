<p>I need to test that a method is not called at some point in the test case, but is expected to be called later. Here's an example test:</p>  <pre><code>&lt;?php  class B {     public function doSomething() {} }  class A {     private $b;     private $buffer = array();      public function __construct($b) {         $this-&gt;b = $b;     }      public function x($val) {         $this-&gt;buffer[] = $val;          if (count($this-&gt;buffer) == 3) {             $this-&gt;b-&gt;doSomething();         }     } }  class XTest extends PHPUnit_Framework_TestCase {     public function testB() {         $b = $this-&gt;getMock('B');         $a = new A($b);          $a-&gt;x(1);         $a-&gt;x(2);          // doSomething is not called YET         $b-&gt;expects($this-&gt;never())-&gt;method('doSomething');  //      $b-&gt;expects($this-&gt;at(0))-&gt;method('doSomething'); // ??????          $a-&gt;x(3);     } } </code></pre>