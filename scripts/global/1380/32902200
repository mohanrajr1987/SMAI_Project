<p>I created a View Helper :</p>  <pre><code>class SousMenuContrat extends AbstractHelper {     private $maiContratService;      public function __construct(         FMaiContratService $maiContratService,     ) {         $this-&gt;maiContratService                = $maiContratService;     }      public function __invoke($iMaiContratId, $sActive)     {         $oContrat = $this-&gt;maiContratService-&gt;selectById($iMaiContratId);          return $this-&gt;getView()-&gt;partial('maintenance/sousmenucontrat', array(             'oContrat'         =&gt; $oContrat         ));     } } </code></pre>  <p>So now I need to test it, with PHPUnit :</p>  <pre><code>class SousMenuContratTest extends TestCase {     private $myService;      public function setUp()     {         $maiContratService = $this-&gt;getMockBuilder('Maintenance\Service\Model\FMaiContratService')             -&gt;disableOriginalConstructor()             -&gt;getMock();          $oContrat = new FMaiContrat();         $stub = $this-&gt;returnValue($oContrat);         $maiContratService-&gt;expects($this-&gt;any())-&gt;method('selectById')-&gt;will($stub);         $this-&gt;myService = new SousMenuContrat(             $maiContratService         );     }      public function testInvoque()     {         $this-&gt;myService-&gt;__invoke(2, 'contrat');     } } </code></pre>  <p>But the test sends an error, because the test doesn't know : </p>  <blockquote>   <p>$this->getView()->partial();</p> </blockquote>  <p>Thanks in advance :)</p>