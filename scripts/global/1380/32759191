<p>I have the following problem:</p>  <p>I have a route defined only for development or testing purposes, which I 'protect' by doing the following in my controller:</p>  <pre><code>public function testAction() {      $env = $this-&gt;container-&gt;get('kernel')-&gt;getEnvironment();      if ($env !== 'test' || $env !== 'dev')     {         throw $this-&gt;createNotFoundException('Oops, page not available in production environment...');     }      ... } </code></pre>  <p>Now this works well in production, but when I try to run my tests it keeps firing an 404.</p>  <p>When I echo the <code>$env</code> variable during tests it says: <code>test</code></p>  <p>FtestFtestFtest.......... (output from phpunit)</p>  <p>I've tryed using <code>!=</code> and <code>"</code> but no luck.</p>  <p>In the tests I do something alike:</p>  <pre><code>$client = static::createClient(); $client-&gt;request('GET', '/basecontroller/test'); $this-&gt;assertEquals(200, $client-&gt;getResponse()-&gt;getStatusCode()); </code></pre>  <p>When I comment out the $env check all tests pass. What could be the cause of this ?</p>  <p>Thanks in advance</p>