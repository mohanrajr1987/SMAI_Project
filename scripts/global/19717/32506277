<p>I have to parse an html page organized this way:</p>  <pre><code>&lt;li id="list"&gt;   &lt;a id="cities"&gt;Cities&lt;/a&gt;   &lt;ul&gt;     &lt;li&gt;       &lt;a class="region" title="liguria"&gt;Liguria&lt;/a&gt;       &lt;ul&gt;         &lt;li&gt;           &lt;a class="genova"&gt;Genova&lt;/a&gt;         &lt;/li&gt;         &lt;li&gt;           &lt;a class="savona"&gt;Savona&lt;/a&gt;         &lt;/li&gt;       &lt;/ul&gt;     &lt;/li&gt;     &lt;li&gt;       &lt;a class="region" title="lazio"&gt;Lazio&lt;/a&gt;       &lt;ul&gt;         &lt;li&gt;           &lt;a class="roma"&gt;Roma&lt;/a&gt;         &lt;/li&gt;       &lt;/ul&gt;     &lt;/li&gt;   &lt;/ul&gt; &lt;/li&gt; </code></pre>  <p>I need to extract a list of all the <strong>cities</strong>. I don't care about regions... I am using <em>cheerio</em> from <em>node.js</em>, but I added jquery to the tags since <em>cheerio</em> uses jquery-style selector (AFAIK...).</p>  <p>I have come with this partial solution, partially working (it only lists first region group cities...):</p>  <pre><code>$('li[id="list"] li li').each(function(i, elem) {   console.log('city:', elem.children[0].next.children[0].data); }); </code></pre>  <p>As you can see, I'm quite confused... :-(<br> Any clue?</p>