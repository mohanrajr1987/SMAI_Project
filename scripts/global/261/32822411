<p>I am trying to automate the FTP upload/download from local system to FTP server and calculate the bandwidth or some statistics. </p>  <p><strong>Requirements:</strong></p>  <ol> <li>Upload some file (say 10 MB file) <strong>to</strong> FTP server. </li> <li>Add some <strong>sleep/wait time</strong>, download the same file <strong>from</strong> the server. Repeat point 1 &amp; 2 for <strong>n number of loops</strong></li> <li>Calculate the FTP <strong>upload throughput</strong> &amp; <strong>download throughput</strong> each iteration and save it in a notepad or excel. </li> </ol>  <p><strong>Code:</strong></p>  <pre><code>use strict; use warnings; use Net::FTP; use Time::Piece; use Time::Seconds qw/ ONE_DAY /;  my ($ftp, $host, $user, $pass, $dir, $fpath);  $host = "hostname"; $user = "username"; $pass = "password"; $dir  = "/home/file/user"; $fpath = "E:/Automation/tesfiles/10meg.test";  $ftp = Net::FTP-&gt;new($host, Debug =&gt; 0); $ftp-&gt;login($user, $pass) or die $ftp-&gt;message; $ftp-&gt;cwd($dir);  #FTP Upload my $upload_start = localtime; $ftp-&gt;put($fpath) or die $ftp-&gt;message; print $ftp-&gt;message; my $upload_end = localtime; my $upload_time = ($upload_end - $upload_start)-&gt;pretty;  my $fname = '10meg.test'; my $size = $ftp-&gt;size( $fname ); defined( $size ) or die( "  Failed to get size: " . $ftp-&gt;message );  #FTP Download my $download_start = localtime; print "Size of $fname is $size\n"; $ftp-&gt;get($fname) or die $ftp-&gt;message; print $ftp-&gt;message; my $download_end = localtime; my $download_time = ($download_end - $download_start)-&gt;pretty;   print "Time taken for FTP download is $upload_time for $fname file\n"; print "Time taken for FTP upload is $download_time for $fname file\n"; print "Hence Throughput for Download is: $size/$download_time\n"; print "Hence Throughput for Upload is: $size/$upload_time\n"; </code></pre>  <p><strong>Console Result:</strong></p>  <p>Transfer complete.<br> Size of 10meg.test is 10038600<br> Transfer complete.<br> Time taken for FTP download is 43 seconds for 10meg.test file<br> Time taken for FTP upload is 5 seconds for 10meg.test file<br> Hence Throughput for Download is: 10038600/43 seconds<br> Hence Throughput for Upload is: 10038600/5 seconds        </p>  <p><strong>Issues:</strong></p>  <p>a. See the throughput are not numerical numbers.<br>  b. I need to re-direct the output to <strong>excel or notepad</strong>.<br>  c. I need to repeat the process in <strong>loop</strong>.    </p>  <p><strong>P.S:</strong> </p>  <p>I am completely new in Perl but somehow I managed a script(source: SO) that uploads a file to FTP server. </p>