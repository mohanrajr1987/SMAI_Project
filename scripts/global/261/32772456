<p>so I am developing an app to take in a file and upload it to an FTP server, but i keep getting android.os.NetworkOnMainThreadException. Any ideas on how to fix this? This is my code</p>  <pre><code>    public void sendData() throws Exception {        FTPUploader stuff = new FTPUploader("xxx","xxx","xxx");        stuff.doInBackground();     } </code></pre>  <p>FTPUploader Class:</p>  <pre><code>    import android.os.AsyncTask;      import org.apache.commons.net.ftp.FTPClient;      import java.io.ByteArrayInputStream;     import java.io.IOException;     import java.net.InetAddress;      public class FTPUploader extends AsyncTask&lt;String, Void, Void&gt; {         //@Override         protected Void doInBackground(String... params) {             FTPClient con = new FTPClient();             try {                 con.connect(InetAddress.getByName(params[0]));                  if (con.login(params[1], params[2])) {                     con.enterLocalPassiveMode();                     String data = params[3];                     ByteArrayInputStream in = new ByteArrayInputStream(data.getBytes());                     boolean result = con.storeFile(params[4], in);                     in.close();                     if (result) {                         System.out.println("upload result: " + result);                     }                 }             } catch (Exception e) {                 e.printStackTrace();             }              try {                 con.logout();                 con.disconnect();             } catch (IOException e) {                 e.printStackTrace();             }              return null;         }     } </code></pre>