<p>I have a basic batch file that connects to an FTP server, and saves the list off all the csv files as a txt file on my laptop.<br> Later, I will want to download all the files on that list (using each line of the txt file as the input to a batch file), and also 'move' each file on the FTP server to a different folder on the FTP server.</p>  <p><code>List.txt</code> contains:</p>  <pre><code> A.csv  B.csv  C.csv  etc... </code></pre>  <p>Batch file uses <code>List.txt</code> as the input:</p>  <ol> <li>Connect to the FTP server</li> <li>Then for each line of List.txt</li> <li>GET filename</li> <li>REN filename /otherfolder/filename</li> <li>close the connection</li> </ol>  <p>I can connect to the FTP server, but when I try to use the <code>for /f %%i</code> in the batch it executes it outside the FTP shell.</p>  <pre><code>Open example.com user password binary for /f %%i in "List.txt" do get %%i disconnect bye </code></pre>