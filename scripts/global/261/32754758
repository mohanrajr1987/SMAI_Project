<p>So this is more of a generic question and i hope this is the right place for it!</p>  <p>We have an FTP server that our windows C# service will upload files to. Over local connection the files are uploaded and everything is dandy. However, when we arent connected to the same network and we use the machines public IP address, a simple upload of 10mb can take up to 5 minutes.</p>  <p>Any ideas as to why this is happening? Filezilla uploads the files to the public IP perfectly fine in a matter of Seconds, so why is the service taking so long to upload? I've enabled networking logs on the service and can see that the process gets stuck here for about 5 mins:</p>  <pre><code>System.Net Information: 0 : [4832] FtpControlStream#52697953 - Received response [220 (vsFTPd 3.0.2)] System.Net Information: 0 : [4832] FtpControlStream#52697953 - Sending command [USER dev] System.Net Information: 0 : [4832] FtpControlStream#52697953 - Received response [331 Please specify the password.] System.Net Information: 0 : [4832] FtpControlStream#52697953 - Sending command [PASS ********] System.Net Information: 0 : [4832] FtpControlStream#52697953 - Received response [230 Login successful.] System.Net Information: 0 : [4832] FtpControlStream#52697953 - Sending command [OPTS utf8 on] System.Net Information: 0 : [4832] FtpControlStream#52697953 - Received response [200 Always in UTF8 mode.] System.Net Information: 0 : [4832] FtpControlStream#52697953 - Sending command [PWD] System.Net Information: 0 : [4832] FtpControlStream#52697953 - Received response [257 "/home/dev"] System.Net Information: 0 : [4832] FtpControlStream#52697953 - Sending command [TYPE I] System.Net Information: 0 : [4832] FtpControlStream#52697953 - Received response [200 Switching to Binary mode.] System.Net Information: 0 : [4832] FtpControlStream#52697953 - Sending command [PASV] System.Net Information: 0 : [4832] FtpControlStream#52697953 - Received response [227 Entering Passive Mode (192,168,0,36,239,0).] System.Net Information: 0 : [4832] FtpControlStream#52697953 - Sending command [STOR 119ab9d171cce2528d9a.tar] System.Net Information: 0 : [4832] FtpControlStream#52697953 - Received response [150 Ok to send data.] </code></pre>  <p>I have tried many different codes for uploading files to FTP... The one im currently using is:</p>  <pre><code>public string upload(string tarPath, string uploadPath) {     FtpWebRequest request = (FtpWebRequest)WebRequest.Create("ftp://xx.xxx.xx.xxx" + uploadPath);         request.UseBinary = true;          request.KeepAlive = false;         request.Method = WebRequestMethods.Ftp.UploadFile;         request.Timeout = -1;         request.Credentials = new NetworkCredential("user", "pass");          byte[] b = File.ReadAllBytes(tarPath);          request.ContentLength = b.Length;         using (Stream s = request.GetRequestStream())         {             s.Write(b, 0, b.Length);         }           FtpWebResponse ftpResp = (FtpWebResponse)request.GetResponse();          if (ftpResp != null)         {             Debug.WriteLine(ftpResp.StatusDescription);         }          Console.WriteLine("Upload File Complete, status {0}", ftpResp.StatusDescription);          ftpResp.Close();          return uploadPath;     } </code></pre>  <p>Has anyone else had the same problem? If so, how did you overcome this?</p>