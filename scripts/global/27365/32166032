<p>my     <code>replaceObjectatIndex:withObject:</code> is not being called when I put it inside a block. I know this because when I <code>NSLog</code> in the outer block the value doesn't change. why is the method inside the inner block not being called while the method in the outer block does? what's the difference?  this is the code:</p>  <pre><code>if (cell.selected) {     [[SDImageCache sharedImageCache] queryDiskCacheForKey:imageID                                                      done:^(UIImage *image, SDImageCacheType cacheType)      {          // image is not nil if image was found          if (image == nil) {              //image is not found              [SDWebImageDownloader.sharedDownloader downloadImageWithURL:[NSURL URLWithString:link]                                                                  options:0                                                                 progress:^(NSInteger receivedSize, NSInteger expectedSize)               {                   // progression tracking code               }                                                                completed:^(UIImage *image, NSData *data, NSError *error, BOOL finished)               {                   if (image &amp;&amp; finished)                   {                       // image is finished being downloaded                       // resize image                       UIImage *resizedImage = [self imageWithImage:image forRowAtIndexPath:indexPath];                       // store resized image in cache                       [[SDImageCache sharedImageCache] storeImage:resizedImage forKey:imageID];                       //set image view to resized image                       [textCell.testImage setImage:resizedImage];                       [self.heightArray replaceObjectAtIndex:indexPath.row                                                   withObject:[NSNumber numberWithFloat:image.size.height]];                   }                   //delete original sized image                   image = nil;               }];          } else {              //image is found              [textCell.testImage setImage:image];              NSLog(@"image found %@", [self.heightArray objectAtIndex:indexPath.row]);          }      }]; } else {     //cell is not selected     textCell.testImage.image = nil; } </code></pre>  <p>By the way, the setImage: method works perfectly but not replaceObjectatIndex:withObject:</p>