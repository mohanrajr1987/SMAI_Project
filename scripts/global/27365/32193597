<p>I need to update / add a key -> value pair in a NSMutableArray.</p>  <p>I would like to add a key with a fix value if the key isn't set already.</p>  <p>I tried the following - but the app is crashing at <code>addObject</code> with a "mutating method sent to immutable object" error:</p>  <pre class="lang-cs prettyprint-override"><code>    NSUserDefaults *defaults = [NSUserDefaults standardUserDefaults];     NSMutableArray *bookmarks = [defaults mutableArrayValueForKey:@"bookmarks"];      for (id bookmark in bookmarks) {          if ([bookmark objectForKey:@"type"] == NULL){             [bookmark addObject:@"old" forKey:@"type"];         }     }      [[NSUserDefaults standardUserDefaults] synchronize]; </code></pre>