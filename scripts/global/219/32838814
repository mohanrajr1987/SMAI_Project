<p>I have <code>Address</code> and <code>ZipCode</code> models. <code>Address</code> model has <code>encrypted_post_code</code> field, <code>ZipCode</code> has <code>code</code> field. I would like to tie <code>Address</code> records and <code>ZipCode</code> records with help of has_one association using specified fields. Currently I need it to use such ActiveRecords features as includes, preload, eager_load, etc.</p>  <p>Unfortunately all string fields of address records are encrypted (it's requirement of customer). I cannot use <code>has_one :zip_code, primary_key: :post_code, foreign_key: :code</code>, because I don't have post_code field in addresses table, it contains only encrypted_post_code field.</p>  <p>Please advise how to solve this problem.</p>