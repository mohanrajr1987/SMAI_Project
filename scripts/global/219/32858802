<p>My code decrypt all the encrypted files in folder, but I used Thread.sleep(). If I dont use  Thread.sleep(); program can't decrypt all files. I'm looking for better way how to decrypt all files without Thread.sleep();</p>  <p>I need to write conditions in code, where this code is waiting until the file is decrypted. Could you help me?</p>  <p>My code:</p>  <pre><code>public static void decrypt() throws InterruptedException, IOException {     File folder = new File("c:/Users/hajdukri/Desktop/src");     File[] files = folder.listFiles();      String pass;     Scanner in = new Scanner(System.in);     System.out.println("Enter a password");     pass = in.nextLine();      if("pass123456".equals(pass)){         for(File a :files){             Thread.sleep(500);             Runtime.getRuntime().exec("cmd /C start C:\\Users\\hajdukri\\Documents\\NetBeansProjects\\JavaApplication3\\gpg.bat");              if (a.isFile()) {                 String fileName = a.getName();                 // get only only last index (exeption)                 int co = fileName.lastIndexOf('.')+1;                 StringBuilder sb = new StringBuilder(fileName);                  sb.delete(0, co);                  sb.toString();                  if ("gpg".equals(sb.toString())){                     int last = fileName.lastIndexOf('.');                     StringBuilder delLast = new StringBuilder(fileName);                      delLast.delete(last, 4+last);                      delLast.toString();                      File file = new File("C:\\Users\\hajdukri\\Documents\\NetBeansProjects\\JavaApplication3\\gpg.bat");                     String content = "cd C:\\Users\\hajdukri\\Desktop\\src \r\ngpg --output "+ delLast +" --batch --passphrase "+"\""+pass+"\""+  " "+" --decrypt "+ fileName +"\r\nexit b/";                     FileWriter fw = new FileWriter(file.getAbsoluteFile());                     try (BufferedWriter bw = new BufferedWriter(fw)) {                         bw.write(content);                         bw.close();                     }                    }               }             }     }     else{     System.out.println("Invalid password entered!");}  } </code></pre>  <p>I need to run Runtime.getRuntime().exec (gpg.bat) for the next files only when the  previous file is decripted. </p>  <p>Thank a lot.</p>