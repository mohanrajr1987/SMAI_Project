<p>I implemented an widget that i only want to be available for paid users so i have set my widget receiver to false on the manifest like this:</p>  <pre><code>    &lt;receiver android:name=".widget.MyCustomWidget"         android:enabled="false"&gt;         &lt;intent-filter&gt;             ....         &lt;/intent-filter&gt;     &lt;/receiver&gt; </code></pre>  <p>Now i use the following code to activate the widget:</p>  <pre><code>public void setMyCustomWidgetEnabled( boolean bEnable ) {     Log.d( LOG_TAG_NAME, "Entering setMyCustomWidgetEnabled( " + bEnable + " )..." );      PackageManager rPackageManager = getPackageManager();     if( rPackageManager != null )     {         ComponentName rComponentName = new ComponentName( getBaseContext(), MyCustomWidget.class );          int nComponentEnabledState = rPackageManager.getComponentEnabledSetting( rComponentName );          if( bEnable )         {             //if( nComponentEnabledState == PackageManager.COMPONENT_ENABLED_STATE_DISABLED )             {                 // Change the State to Enabled                 rPackageManager.setComponentEnabledSetting( rComponentName, PackageManager.COMPONENT_ENABLED_STATE_ENABLED, PackageManager.DONT_KILL_APP );                  Log.d( LOG_TAG_NAME, "-&gt; Changed My Custom Widget' to ENABLED!" );             }         }         else         {             //if( nComponentEnabledState == PackageManager.COMPONENT_ENABLED_STATE_ENABLED )             {                 // Change the State to Disabled                 rPackageManager.setComponentEnabledSetting( rComponentName, PackageManager.COMPONENT_ENABLED_STATE_DISABLED, PackageManager.DONT_KILL_APP );                  Log.d( LOG_TAG_NAME, "-&gt; Changed 'My Custom Widget' to DISABLED!" );             }         }     }      Log.d( LOG_TAG_NAME, "Leaving setMyCustomWidgetEnabled( " + bEnable + " )..." ); } </code></pre>  <p>But the code doesnÂ´t work with the receiver set to false in the manifest and only works if the Widget was active on the Manifest on the first place. In that case i can enable and disable at will. Is this a bug on Android or am i doing something wrong?</p>  <p>I am running this on Android 6.0 Marshmallow and think the same happens on Android Lollipop. Any ideas?</p>