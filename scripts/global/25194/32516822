<p>I succeeded in making an unordered list with values from a parent table in a database. Each parent list is supposed to have a sub-unordered list based on if it has values in a child table. I have created a class which achieves this, however, the sublist appears to break the output of the parent unordered list. i havent been able to understand why! Am posting the code of the method that prints out the parent list and child lists based on the parent id; i suspect the error is coming from my foreach(s) but am not sure, i could have posted the whole code, but am not sure if that is right;</p>  <pre><code>     public function construct_list($type,$parent = true){      if($parent){          $this-&gt;load_parent_array = $this-&gt;load_parent_list();          switch($type){              case 'ul':                  $this-&gt;list_string = '';                  foreach($this-&gt;load_parent_array as $o_keys =&gt; $o_vals):                      $this-&gt;list_string .= '&lt;li&gt;';                      foreach($o_vals as $k_vals =&gt; $_vals):                          if($k_vals === 'parent_id'){                              $this-&gt;list_string .= '                                                     &lt;label class="inline-label"&gt;                                                     &lt;input data-toggle="child-id-'.$_vals.'" type="checkbox" name="parent_cat[]" value="'.$_vals.'" class="unicorn" /&gt;                                                 ';                          }                          if($k_vals === 'parent_category_names'){                                  $this-&gt;list_string .= '&lt;span class="check-label"&gt;'.$_vals.'&lt;/span&gt;                                                     &lt;/label&gt;';                          }                          //Inner Unordered list code                              $this-&gt;load_child_array = $this-&gt;load_child_list($_vals);                              if(!empty($this-&gt;load_child_array)){                                  if($k_vals === 'parent_id'){                                      $this-&gt;list_string .= '&lt;ul id="child-id-'.$_vals.'" class="child-category"&gt;';                                          foreach($this-&gt;load_child_array as $o_keys =&gt; $o_vals):                                              $this-&gt;list_string .= '&lt;li&gt;';                                               foreach($o_vals as $v =&gt; $f){                                                  if($v === 'child_category_name'){                                                      $this-&gt;list_string .= '&lt;label class="inline-label"&gt;                                                                         &lt;input type="checkbox" name="child_category[]" value="'.$f.'" /&gt;                                                                         &lt;span class="check-label"&gt;'.$f.'&lt;/span&gt;                                                                     &lt;/label&gt;';                                                 }                                              }                                              $this-&gt;list_string .= '&lt;/li&gt;';                                          endforeach;                                       $this-&gt;list_string .= '&lt;/ul&gt;';                                  }                              }                          endforeach;                      $this-&gt;list_string .= '&lt;/li&gt;';                  endforeach;              break;              case 'select':                  $this-&gt;list_string = '&lt;li&gt;--Parent Category--&lt;/li&gt;';                  foreach($this-&gt;load_parent_array as $o_keys =&gt; $o_vals):                      foreach($o_vals as $k_vals =&gt;$_vals):                          #$this-&gt;list_string .= '&lt;option value="';                          if($k_vals === 'parent_category_slug'){                              $this-&gt;list_string .= '&lt;option value="'.$_vals.'"&gt;';                              }                          if($k_vals === 'parent_category_names'){                              $this-&gt;list_string .= $_vals.'&lt;/option&gt;';                          }                        endforeach;                  endforeach;              break;         }      }else{       }       return $this-&gt;list_string;  } </code></pre>