<p>I'm writing an application in PyQt5 with webkit, and I'd like to access a Python class via JavaScript, inside a Web Worker.</p>  <p>My code, right now, does this:</p>  <pre><code>import sys import time  from PyQt5.QtCore import * from PyQt5.QtGui import * from PyQt5.QtWebKit import * from PyQt5.QtWebKitWidgets import * from PyQt5.QtWidgets import *   class Foo(QObject):     @pyqtSlot(result=str)     def bar(self):         return "baz"   class Window(QWidget):     def __init__(self):         super(Window, self).__init__()         self.view = QWebView(self)          self.setupInspector()          self.splitter = QSplitter(self)         self.splitter.setContentsMargins(800, 600, 0, 0)         self.splitter.setOrientation(Qt.Vertical)          self.layout = QVBoxLayout(self)         self.layout.setContentsMargins(800, 600, 0, 0)         self.layout.addWidget(self.splitter)          self.view.setLayout(self.layout)          self.foo = Foo(self)         self.view.page().mainFrame().addToJavaScriptWindowObject("foo", self.foo)      def setupInspector(self):         page = self.view.page()         page.settings().setAttribute(QWebSettings.DeveloperExtrasEnabled, True)         self.webInspector = QWebInspector(self)         self.webInspector.setPage(page)          shortcut = QShortcut(self)         shortcut.setKey(Qt.Key_F12)         shortcut.activated.connect(self.toggleInspector)         self.webInspector.setVisible(False)      def toggleInspector(self):         self.webInspector.setVisible(not self.webInspector.isVisible())   def main():     app = QApplication(sys.argv)     window = Window()     window.show()     window.view.load(QUrl(sys.argv[1]))     app.exec_()   if __name__ == "__main__":     main() </code></pre>  <p>I load an html file, with a <code>file:/</code> URL, like this: <code>python3 browser.py file:/path-to-html/file.html</code>.</p>  <p>If I run the inspector, I can run <code>foo.bar()</code> and I get <code>"baz"</code> in return.</p>  <p>I'd like to run that inside a worker. If I create a javascript file with:</p>  <pre><code>self.postMessage(foo.test()); </code></pre>  <p>and, in the inspector, I create a worker with:</p>  <pre><code>var worker = new Worker('file:/same-path-as-the-html/file.js'); </code></pre>  <p>I get <code>ReferenceError: Can't find variable: foo</code>, which, to me, seems like it means <code>foo</code> wasn't added by Qt to the worker's scope.</p>