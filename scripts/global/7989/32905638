<p>I have two loops and want to count the iteration of cases <code>OK</code> and <code>NotOK</code> and overall cases inside <code>xslt</code> file. How I cold do so? If I want to know the sum of both iteration how could I write it?</p>  <p>my For loops are as:</p>  <pre><code>   &lt;xsl:for-each select="test"&gt;        &lt;xsl:variable name="LinkName" select="attribute::name"/&gt;            &lt;tr&gt;               &lt;th style="text-align:left;vertical-align:top;position:"&gt;&lt;a name="{$LinkName}"&gt;&lt;xsl:value-of select="$LinkName"/&gt;&lt;/a&gt;&lt;/th&gt;                 &lt;xsl:for-each select="descendant::node()"&gt;                   &lt;xsl:choose&gt;                                                       &lt;xsl:when test="attribute::state='NotOK'"&gt;                         &lt;tr&gt;                             &lt;td bgcolor="red"&gt;&lt;xsl:value-of select="description"/&gt;&lt;/td&gt;                         &lt;/tr&gt;                     &lt;/xsl:when&gt;                     &lt;xsl:when test="attribute::state='OK'"&gt;                         &lt;tr&gt;                             &lt;td bgcolor="lime"&gt;&lt;xsl:value-of select="description"/&gt;&lt;/td&gt;                         &lt;/tr&gt;                     &lt;/xsl:when&gt;                   &lt;/xsl:choose&gt;                 &lt;/xsl:for-each&gt;              &lt;/tr&gt;     &lt;/xsl:for-each&gt; </code></pre>  <p><strong>Update:</strong></p>  <pre><code>               &lt;table&gt;                      &lt;tr bgcolor="coral"&gt;                         &lt;th&gt;Test cases&lt;/th&gt;                         &lt;th&gt;Info&lt;/th&gt;                     &lt;/tr&gt;                     &lt;xsl:for-each select="test"&gt;                         &lt;xsl:variable name="Summation"/&gt;                         &lt;xsl:variable name="LinkIt" select="@name"/&gt;                         &lt;xsl:choose&gt;                             &lt;xsl:when test="descendant::node()/@state='NotOK'"&gt;                                 &lt;tr&gt;                                     &lt;td bgcolor="red"&gt;&lt;a href="#{$LinkIt}" title="click for Information"&gt;&lt;xsl:value-of select="$LinkIt"/&gt;&lt;/a&gt;&lt;/td&gt;                                     &lt;td&gt;                                         &lt;xsl:value-of select="count(descendant::node()[@state='NotOK'])"/&gt; of &lt;xsl:value-of select="count(descendant::node()[@state='OK']) + count(descendant::node()[@state='NotOK'])"/&gt;                                     &lt;/td&gt;                                                                        &lt;/tr&gt;                             &lt;/xsl:when&gt;                             &lt;xsl:when test="descendant::node()/attribute::state='OK'"&gt;                                 &lt;tr&gt;                                     &lt;td bgcolor="lime"&gt;&lt;a href="#{$LinkIt}" title="click for Information"&gt;&lt;xsl:value-of select="$LinkIt"/&gt;&lt;/a&gt;&lt;/td&gt;                                     &lt;td&gt;                                         ---                                     &lt;/td&gt;                                  &lt;/tr&gt;                             &lt;/xsl:when&gt;                         &lt;/xsl:choose&gt;                                                &lt;/xsl:for-each&gt;                 &lt;/table&gt; </code></pre>