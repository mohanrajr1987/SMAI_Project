<p>I'm trying to create a simple proxy server in C#.  Below is a portion of my code where I created a socket with the host name that was parsed from the browser HTTP request. The full request is in the string "header" and is sent to the destination socket.  Then the while loop receives the response from the socket and sends it to the client socket.</p>  <pre><code>Socket destServerSocket = new Socket(AddressFamily.InterNetwork, SocketType.Stream, ProtocolType.Tcp); destServerSocket.Connect(host, 80); destServerSocket.Send(ASCIIEncoding.ASCII.GetBytes(header)); byte[] response = new byte[1];   while (destServerSocket.Receive(response) != 0) {     client.Send(response); }  destServerSocket.Disconnect(false); destServerSocket.Dispose(); client.Disconnect(false); client.Dispose(); </code></pre>  <p>Right now my proxy only works with simple html sites.  Anything else and it just endlessly loads without ever displaying any content in the browser.  How do I alter my code to allow my proxy server to work on websites that are more complex than basic html ones?</p>