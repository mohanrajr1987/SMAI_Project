<p>I have an XmlAdapter for converting between <code>String</code> and <code>DateTime</code> :</p>  <pre><code>public class DateTimeAdapter extends XmlAdapter&lt;String, DateTime&gt; {      private static final DateTimeFormatter DATE_PATTERN = DateTimeFormat.forPattern("yyyy-MM-dd'T'HH:mm:ss.SSS");      public DateTime unmarshal(String dateStr) throws Exception {   //parsing from schema to java class         DateTime result = DATE_PATTERN.parseDateTime(dateStr);         return result;     }      public String marshal(DateTime dateTime) throws Exception {   //printing from java class to schema         String result = DATE_PATTERN.print(dateTime);         return result;     } } </code></pre>  <p>I use the adapter on JAXB annotated classes, at field level:</p>  <pre><code>@XmlJavaTypeAdapter(DateTimeAdapter.class)     @XmlElement(required = true)     protected DateTime transmittedDateTime; </code></pre>  <p>When I try to execute ant schemagen, I get the following exception:</p>  <pre><code>Caused by: java.lang.annotation.AnnotationTypeMismatchException: Incorrectly typed data found for annotation element public abstract java.lang.Class javax.xml.bind.annotation.adapters.XmlJavaTypeAdapter.value() (Found data of type java.lang.Class&lt;? extends javax.xml.bind.annotation.adapters.XmlAdapter&gt;) [ant:schemagen]     at com.sun.tools.apt.mirror.declaration.AnnotationProxyMaker$ValueVisitor$1AnnotationTypeMismatchExceptionProxy.generateException(AnnotationProxyMaker.java:264) [ant:schemagen]     at sun.reflect.annotation.AnnotationInvocationHandler.invoke(AnnotationInvocationHandler.java:83) [ant:schemagen]     at com.sun.proxy.$Proxy62.value(Unknown Source) [ant:schemagen]     at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [ant:schemagen]     at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) [ant:schemagen]     at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [ant:schemagen]     at java.lang.reflect.Method.invoke(Method.java:606) [ant:schemagen]     at com.sun.xml.bind.v2.model.annotation.LocatableAnnotation.invoke(LocatableAnnotation.java:118) [ant:schemagen]     at com.sun.proxy.$Proxy92.value(Unknown Source) [ant:schemagen]     ... 126 more </code></pre>  <p>If I remove all DateTime fields, it'll successfully generate the schema. This is the only occurrence of an <code>XmlAdapter</code> that I have.</p>  <p>The definition of <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/annotation/AnnotationTypeMismatchException.html" rel="nofollow">AnnotationTypeMismatchException</a> is :</p>  <blockquote>   <p>Thrown to indicate that a program has attempted to access an element   of an annotation whose type has changed after the annotation was   compiled (or serialized). This exception can be thrown by the API used   to read annotations reflectively.</p> </blockquote>  <p>How can I resolve this error?</p>