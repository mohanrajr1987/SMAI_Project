<p>So I have <code>Faye</code> set up on node.js doing pubsub type stuff for a time-series chart.  With <code>Smoothie Charts</code> it looks like this:</p>  <pre><code>//set up faye subscription var subscription = client.subscribe('/myfeed', function(message) {     //add data to appropriate series     mySeries.append(new Date(),message.value); }); </code></pre>  <p>That's pretty much it.  Now I'm trying to replace smoothie with <a href="https://square.github.io/cubism/" rel="nofollow">Cubism.js</a>.  Here is an example of pushing a single value that I have working:</p>  <pre><code>// create context and horizon var context = cubism.context().size(960); var horizon = context.horizon().extent([0,2]);  function testFeed(name) {     return context.metric(function(start,stop,step,callback){         var values = [];         //static value I added         values.push(85);         //original random example         //while (+start &lt; +stop){ start = +start +step; values.push(Math.random());}         callback(null, values);     }, name); }  // draw graph var metrics = ["Metric1","Metric2","Metric3"]; horizon.metric(testFeed); </code></pre>  <p>Sadly I have no idea what most of this means.  So 2 things:</p>  <ol> <li>How do I integrate my subscription into the feed?</li> <li>How do I send individual values to each "metric"?  Right now that 85 shows up on all 3 metrics.</li> </ol>  <p><a href="http://i.stack.imgur.com/3GTnq.png" rel="nofollow"><img src="http://i.stack.imgur.com/3GTnq.png" alt="enter image description here"></a></p>  <p>I tried the following and I get my data logged to the console but nothing appears on the chart:</p>  <pre><code>function testFeed(name) {     return context.metric(function(start,stop,step,callback){         var values = [];         var subscription = client.subscribe('/myfeed', function(message) {             values.push(message.messageCount);             console.log(message.messageCount);         });         callback(null, values);     }, name); } </code></pre>