<p>I have code running in 2 projects/platforms.  It works in one, not the other. Code is like this:</p>  <pre><code>uint8_t val = 1; uint8_t buff[16]; sprintf(buff, "%u", val); </code></pre>  <p>The expected output is "1" (gcc) but on one compiler (Keil) it returns "511", which in hex is 0x1FF.  Looks like its not promoting the byte to int with this compiler.  This is confirmed because it works ok if I do this:</p>  <pre><code>sprintf(buff, "%u", (int)val); </code></pre>  <p>My question is this: why does one compiler do what I consider the 'right thing', and one does not?  Is it my incorrect expectations/assumptions, a compiler setting, or something else?</p>