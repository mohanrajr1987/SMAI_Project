<p>I'm trying to create an installer for my application. I choose to use InnoSetup. I succeed to create a simple installer but for my application I have to install in the same time mysql (start the service and create the database). I have seen that I have added ".msi" to files of the project. I have get sample of code to do this but I have an error and I don't understand. I am not familiar with register in windows.  When I use this code,I haven't folder "MYSQL AB" on "HKEY_LOCAL_MACHINE/SOFTWARE" and if I install by clicking on my .msi, install works but I haven't too folder "MYSQL AB" on "HKEY_LOCAL_MACHINE/SOFTWARE". Maybe this version of code doesn't work yet.     [Files]     Source: "Path\to\Appli.exe"; DestDir: "{app}"; Flags: ignoreversion     Source: "Path\to\my.dll"; DestDir: "{app}"; Flags: ignoreversion     Source: "Path\to\mysql-5.5.45.0.msi"; Destdir: "{tmp}"; Flags: nocompression dontcopy </p>  <pre><code>[Icons] ...  [Run] Filename: "{reg:HKLM\SOFTWARE\MySQL AB\MySQL Server 5.5,Location}\bin\mysqld.exe"; Parameters: "--install"; WorkingDir: "{reg:HKLM\SOFTWARE\MySQL AB\MySQL Server 5.5,Location\bin}"; StatusMsg: "Installing MySQL Service"; Description: "Installing MySQL Service"; Flags: runhidden; Check: MySQL_Is  [Code] function MySQL_Is(): Boolean; var iResultCode: Integer; begin   Result := true;   if (not RegKeyExists(HKLM, 'SOFTWARE\MySQL AB\MySQL Server 5.5')) or     (not FileExists(ExpandConstant('{reg:HKLM\SOFTWARE\MySQL AB\MySQL Server 5.5,Location}\bin\mysql.exe')))    then begin      ExtractTemporaryFile('mysql-5.5.45.0.msi');      Exec('msiexec.exe', '/i mysql-5.5.45.0.msi /qn INSTALLDIR="C:\Program Files\mySQL"',        ExpandConstant('{tmp}'), SW_HIDE, ewWaitUntilTerminated, iResultCode);          if not FileExists(ExpandConstant('{reg:HKLM\SOFTWARE\MySQL AB\MySQL Server 5.5,Location}\bin\mysql.exe')) then begin             MsgBox('Something went wrong! Installation should be terminated',                mbInformation, MB_OK);             Result := false;          end;   end; end; </code></pre>  <p>I have tried with mysql-5.5.45.0.msi and mysql-5.6.26.0.msi and I have the same problem.</p>  <p>This is the compiler output :</p>  <pre><code>[10:53:08,966]   *** Setup started [10:53:09,762]   Setup version: Inno Setup version 5.5.6 (a) [10:53:09,762]   ... [10:53:14,708]   -- File entry -- [10:53:14,708]   Dest filename: C:\Program Files (x86)\My App with BDD\unins000.exe [10:53:14,754]   Time stamp of our file: 2015-09-30 10:53:09.450 [10:53:14,754]   Installing the file. [10:53:14,754]   Uninstaller requires administrator: Yes [10:53:14,770]   Successfully installed the file. [10:53:14,770]   -- File entry -- [10:53:14,786]   Dest filename: C:\Program Files (x86)\My App with BDD\App.exe [10:53:14,786]   Time stamp of our file: 2015-09-28 14:06:26.000 [10:53:14,786]   Installing the file. [10:53:14,801]   Successfully installed the file. [10:53:14,801]   -- File entry -- [10:53:14,801]   Dest filename: C:\Program Files (x86)\My App with BDD\my.dll [10:53:14,817]   Time stamp of our file: 2013-04-22 18:03:56.000 [10:53:14,817]   Installing the file. [10:53:16,268]   Successfully installed the file. [10:53:16,268]   -- File entry -- [10:53:25,512]   ... [10:53:25,559]   -- Icon entry -- [10:53:25,559]   Dest filename: C:\ProgramData\Microsoft\Windows\Start Menu\Programs\My App with BDD\My App with BDD.lnk [10:53:25,574]   Creating directory: C:\ProgramData\Microsoft\Windows\Start Menu\Programs\My App with BDD [10:53:25,574]   Creating the icon. [10:53:25,746]   Successfully created the icon. [10:53:25,761]   -- Icon entry -- [10:53:25,761]   Dest filename: C:\ProgramData\Microsoft\Windows\Start Menu\Programs\My App with BDD\Uninstall My App with BDD.lnk [10:53:25,761]   Creating the icon. [10:53:25,777]   Successfully created the icon. [10:53:25,949]   Installation process succeeded. [10:53:25,980]   Extracting temporary file: C:\Users\4MODES~1\AppData\Local\Temp\is-P8CQH.tmp\mysql-5.5.45.0.msi [10:54:18,145]   Message box (OK):     Something went wrong! Installation should be terminated </code></pre>  <p>Extraction of msi seems OK (there are folder MySQL on C:\Program Files (x86)) but I haven't folder MySQL on "C:\Program Files". On regedit,I don't see folder "MySQL AB " on "HKEY_LOCAL_MACHINE/SOFTWARE" </p>  <p>Thank you for your help</p>