<p>I have a non-activity that check for internet access using async task. By the way, the code for internet access check works correctly in an activity. Now when I added the code to a non-activity class, I want the response to be saved into a string and send to MainActivity using "startActivityForResult". I added a Toast to check if the value is passing to the MainActivity, but Toast shows blank. So, either the response is not saving int the string or its not sending to MainActivity. I've also posted the log cat as when I button click in MainActivity due to value being null, the app crashes. </p>  <p><div class="snippet" data-lang="js" data-hide="false"> <div class="snippet-code"> <pre class="snippet-code-js lang-js prettyprint-override"><code>LogCat  09-26 13:31:26.872: E/AndroidRuntime(22041): FATAL EXCEPTION: main 09-26 13:31:26.872: E/AndroidRuntime(22041): Process: com.example.networkping, PID: 22041 09-26 13:31:26.872: E/AndroidRuntime(22041): java.lang.NullPointerException 09-26 13:31:26.872: E/AndroidRuntime(22041): 	at com.example.networkping.MainActivity$1.onClick(MainActivity.java:43) 09-26 13:31:26.872: E/AndroidRuntime(22041): 	at android.view.View.performClick(View.java:4562) 09-26 13:31:26.872: E/AndroidRuntime(22041): 	at android.view.View$PerformClick.run(View.java:18918) 09-26 13:31:26.872: E/AndroidRuntime(22041): 	at android.os.Handler.handleCallback(Handler.java:808) 09-26 13:31:26.872: E/AndroidRuntime(22041): 	at android.os.Handler.dispatchMessage(Handler.java:103) 09-26 13:31:26.872: E/AndroidRuntime(22041): 	at android.os.Looper.loop(Looper.java:193) 09-26 13:31:26.872: E/AndroidRuntime(22041): 	at android.app.ActivityThread.main(ActivityThread.java:5388) 09-26 13:31:26.872: E/AndroidRuntime(22041): 	at java.lang.reflect.Method.invokeNative(Native Method) 09-26 13:31:26.872: E/AndroidRuntime(22041): 	at java.lang.reflect.Method.invoke(Method.java:515) 09-26 13:31:26.872: E/AndroidRuntime(22041): 	at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839) 09-26 13:31:26.872: E/AndroidRuntime(22041): 	at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:655) 09-26 13:31:26.872: E/AndroidRuntime(22041): 	at dalvik.system.NativeStart.main(Native Method)</code></pre> <pre class="snippet-code-css lang-css prettyprint-override"><code>Non-Activity AsyncTask class   public  class Internet extends AsyncTask&lt;Void, Void, Boolean&gt;{ 	    	   String sam; 	   Context context; 	   Activity activity; 	    	   public Internet(Activity ac) { 	        activity = ac; 	    } 	    	    	   public boolean isNetworkAvailable() { 	       ConnectivityManager connectivityManager = (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE); 	       NetworkInfo activeNetworkInfo = connectivityManager.getActiveNetworkInfo(); 	       return activeNetworkInfo != null &amp;&amp; activeNetworkInfo.isConnected(); 	   } 	            @Override       protected void onPostExecute(Boolean result){         if(result){         	         	// Toast.makeText(getApplicationContext(), "Success", Toast.LENGTH_SHORT).show();         	sam="1";         	Intent view = new Intent(activity, MainActivity.class);         	view.putExtra("zipcode", sam.toString());         	activity.startActivityForResult(view, 1);         }                              	         else{         	         	// Toast.makeText(getApplicationContext(), "Failure", Toast.LENGTH_SHORT).show();         	sam="0";     		Intent view = new Intent(activity, MainActivity.class);     		view.putExtra("zipcode", sam.toString());     		activity.startActivityForResult(view, 1);         	         }            	       }          @Override         protected Boolean doInBackground(Void... params) {              if (isNetworkAvailable()) {                   try {                 	  HttpURLConnection urlc = (HttpURLConnection) (new URL( "http://www.google.com"    ).openConnection());                       urlc.connect();                       int resp = urlc.getResponseCode();                        return resp == 200;                   } catch (IOException e) {                       //Log.e(LOG_TAG, "Error checking internet connection", e);                 	  System.out.println("Error checking internet connection"+e);                   }                 } else {                   //Log.d(LOG_TAG, "No network available!");                 	System.out.println("No network available!");                 }                 return false;         }                }</code></pre> <pre class="snippet-code-html lang-html prettyprint-override"><code>MainActivity  public class MainActivity extends Activity {  	     Button check;     String zipcode;         @Override     protected void onCreate(Bundle savedInstanceState) {     	     	     	super.onCreate(savedInstanceState);         setContentView(R.layout.activity_main);                  zipcode = getIntent().getExtras().getString("zipcode");         Toast.makeText(getApplicationContext(), zipcode, 3000).show();          check=(Button)findViewById(R.id.check); 		check.setOnClickListener(new OnClickListener() { 			 			@Override 			public void onClick(View v) { 				// TODO Auto-generated method stub 				//new CheckInternetConnection().execute(); 				//String zipcode = getIntent().getExtras().getString("zipcode"); 				if(zipcode.equals("1")){ 					 					Toast.makeText(getApplicationContext(), "Success", Toast.LENGTH_SHORT).show(); 				 				}else if(zipcode.equals("0")){ 					 					Toast.makeText(getApplicationContext(), "Failure", Toast.LENGTH_SHORT).show(); 				 				} 			} 		});               }// oncreate          } //activity</code></pre> </div> </div> </p>