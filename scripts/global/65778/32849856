<p>I can't update my database when my checkbox is checked and click the Validate Button. Note:(I use Session to my pass my Data page by page)</p>  <p>In this another code behind page, I add a column checkbox to my gridview.</p>  <pre><code>   //Add a colum check row     SubjectlistTable.Columns.Add("Check", Type.GetType("System.Boolean"));      Session["ValidateSubject"] = SubjectlistTable;      Response.Redirect("ValidateSubjectTeacher.aspx"); </code></pre>  <p>In the ValidateSubjectTeacherPage:</p>  <p>This is the program Aspx:</p>  <pre><code>&lt;%@ Page Language="C#" AutoEventWireup="true" CodeBehind="ValidateSubjectTeacher.aspx.cs" Inherits="SoftwareAnalysisAndDesign.SAD.ValidateSubjectTeacher" %&gt;  &lt;!DOCTYPE html&gt;  &lt;html xmlns="http://www.w3.org/1999/xhtml"&gt; &lt;head runat="server"&gt;     &lt;title&gt;Student Assessment Form&lt;/title&gt;     &lt;meta charset="utf-8"/&gt;     &lt;meta name="viewport" content="width=device-width, initial-scale=1"/&gt;     &lt;link rel="stylesheet" href="Bootstrap/css/bootstrap-theme.css" /&gt;     &lt;link rel="stylesheet" href="Bootstrap/css/bootstrap.min.css"/&gt;      &lt;link rel="stylesheet" type="text/css" href="Stylesheets/ValidateSubjectTeacherStyle.css"/&gt;      &lt;!--Side bar link--&gt;     &lt;link rel="stylesheet" href="SidebarBootstrap/css/bootstrap.min.css" /&gt;     &lt;link rel="stylesheet" href="SidebarBootstrap/css/simple-sidebar.css" /&gt; &lt;/head&gt; &lt;body&gt;     &lt;form id="form1" runat="server"&gt;         &lt;div class="headerwrapper"&gt;             &lt;div id="headercontent" class="jumbotron"&gt;                 &lt;img id="img1" src="usjrlogo.png" /&gt;                 &lt;h1 id="title"&gt;Online AppSess System&lt;/h1&gt;             &lt;/div&gt;         &lt;/div&gt;          &lt;div class="container" style="text-align: center; margin: 0 auto;"&gt;             &lt;br /&gt;             &lt;h1&gt;Validation of Subjects&lt;/h1&gt;             &lt;br /&gt;             &lt;asp:GridView runat="server" CssClass="table table-hover table-bordered" ID="ValidateSubject" Style="text-align: center"&gt;&lt;/asp:GridView&gt;         &lt;/div&gt;          &lt;div style="float: right; padding-right: 75px;"&gt;             &lt;button type="button" runat="server" class="btn btn-primary" onserverclick="ValidateSubject_Click"&gt;Validate&lt;/button&gt;             &lt;button type="button" runat="server" class="btn btn-success" onserverclick="GoBackTeacher_Click"&gt;Go Back&lt;/button&gt;         &lt;/div&gt;     &lt;/form&gt;      &lt;script src="jquery/jquery.min.js"&gt;&lt;/script&gt;     &lt;script src="Bootstrap/js/bootstrap.min.js"&gt;&lt;/script&gt; &lt;/body&gt; &lt;/html&gt; </code></pre>  <p>Aspx Code Behind:</p>  <pre><code>using System; using System.Collections.Generic; using System.Linq; using System.Web; using System.Web.UI; using System.Web.UI.WebControls; using System.Data.SqlClient; using System.Data;  namespace SoftwareAnalysisAndDesign.SAD {     public partial class ValidateSubjectTeacher : System.Web.UI.Page     {         CheckBox check = new CheckBox();         protected void Page_Load(object sender, EventArgs e)         {             if (Session["ValidateSubject"] == null)             {                 Response.Redirect("TeacherPage.aspx", true);             }              if (!IsPostBack)             {                 ValidateSubject.DataSource = Session["ValidateSubject"];                 ValidateSubject.DataBind();             }             //Add a checkbox in the last row of GridView Progmatically             foreach (GridViewRow row in ValidateSubject.Rows)             {                 check = row.Cells[row.Cells.Count - 1].Controls[0] as CheckBox; //position Check column on last row in gridview                 check.Enabled = true;                 check.CheckedChanged += ValidateSubject_Click; //Bind the event on the button                 check.AutoPostBack = true; //Set the AutoPostBack property to true             }         }         protected void ValidateSubject_Click(object sender, EventArgs e)         {             CheckBox chk = (CheckBox)sender;             GridViewRow grvRow = (GridViewRow)chk.NamingContainer;//This will give row               string validated = "Validated";             string notyetvalidated = "Not yet validated";             string studid = grvRow.Cells[0].Text;             string coursenum = grvRow.Cells[1].Text;              if (chk.Checked)             {                 grvRow.Cells[10].Text = validated;                 //Open Connection                 using (SqlConnection conn = new SqlConnection("Data Source=Keith;Initial Catalog=SAD;Integrated Security=True"))                 {                     //Open Connection to database                     try                     {                         conn.Open();                     }                     catch (Exception E)                     {                         Console.WriteLine(E.ToString());                     }                      using (SqlCommand cmd = new SqlCommand("Update AssessmentForm set Status = @Validated where StudentID = @studentID and CourseNo = @Coursenumber" ,conn))                     {                         cmd.Parameters.AddWithValue("@Validated", validated);                         cmd.Parameters.AddWithValue("@studentID", studid);                         cmd.Parameters.AddWithValue("@Coursenumber", coursenum);                         cmd.ExecuteNonQuery();                     }                      //Close Connection to database                     try                     {                         conn.Close();                     }                     catch (Exception E)                     {                         Console.WriteLine(E.ToString());                     }                 }              }             else             {                 grvRow.Cells[10].Text = notyetvalidated;             }         }         protected void GoBackTeacher_Click(object sender, EventArgs e)         {             Response.Redirect("TeacherPage.aspx");         }     } } </code></pre>  <p>The code is working but when I click the submit button, the system prompts me with an error and I can't update my database:</p>  <p>Error message:</p>  <blockquote>   <p>An exception of type 'System.InvalidCastException' occurred in   SoftwareAnalysisAndDesign.dll but was not handled in user code   Additional information: Unable to cast object of type   'System.Web.UI.HtmlControls.HtmlButton' to type   'System.Web.UI.WebControls.CheckBox'.</p> </blockquote>  <p>There's something wrong with my checkbox event here:</p>  <pre><code>CheckBox chk = (CheckBox)sender; </code></pre>  <p>It seems that checkbox event and button event can't be simultaneously handled. Please help, this is the only problem I want to fix so that my System is fully working.</p>  <p>Related link <a href="http://stackoverflow.com/questions/32846281/get-specific-data-row-in-gridview">Get specific data and update database</a></p>