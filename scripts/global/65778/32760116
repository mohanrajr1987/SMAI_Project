<p>I want to stop selecting multiple Images and select only single image. I working on a image upload in codeigniter in this example i can select multiple image but i have to select only single images threw it. so how can i change the selection to select single image.  And also in this example when we edit uploaded images the old images will be get delete from database i want to change that but i don't know where and how to change the code for it .   </p>  <p>this is my controller.</p>  <pre><code>public function index() {        $getdata = $this-&gt;db-&gt;query("SELECT p.id,p.product_description,pd.product_name FROM g_product AS p INNER JOIN g_product_detail AS pd ON p.id = pd.product_id GROUP BY p.id ORDER BY p.id ASC");       $this-&gt;load-&gt;view('header');     $this-&gt;load-&gt;view('gallery2/index',array('data' =&gt; $getdata));        $this-&gt;load-&gt;view('footer');   }  public function form() {     $this-&gt;load-&gt;view('gallery2/form', array('error' =&gt; '')); }  public function delete($id) {     $getpic = $this-&gt;db-&gt;query("SELECT full_path FROM g_product_detail WHERE product_id = '{$id}'");         foreach($getpic-&gt;result() as $row)         {             unlink($row-&gt;full_path);         }         $this-&gt;db-&gt;where('product_id',$id);         $this-&gt;db-&gt;delete('g_product_detail');          $this-&gt;db-&gt;where('id',$id);         $this-&gt;db-&gt;delete('g_product');          redirect('gallery2/index'); }  private function setup_upload_option() {     $config = array();     $config['upload_path']      = './uploadmulti';     $config['allowed_types']    = 'jpg|png|gif';     $config['encrypt_name']     = TRUE;     $config['overwrite']        = False;     return $config; }  public function edit($id) {     $getrow = $this-&gt;db-&gt;query("SELECT * FROM g_product WHERE id= '{$id}' ");     $row = $getrow-&gt;row();   $getdetail = $this-&gt;db-&gt;query("SELECT * FROM g_product_detail WHERE product_id = '{$id}'");      $this-&gt;load-&gt;view('header');     $this-&gt;load-&gt;view('gallery2/edit',array('row' =&gt; $row,'result' =&gt; $getdetail));     $this-&gt;load-&gt;view('footer'); }  public function do_update() {     $id = $this-&gt;input-&gt;post('id');     $data = array(                     'product_description' =&gt; $this-&gt;input-&gt;post('product_description')                    );     $this-&gt;db-&gt;where('id',$id);     $te = $this-&gt;db-&gt;update('g_product',$data);      if(!empty($_FILES['userfile']['name'][0]))     {         $getpic = $this-&gt;db-&gt;query("SELECT full_path FROM g_product_detail WHERE product_id = '{$id}'");         foreach($getpic-&gt;result() as $row)         {             unlink($row-&gt;full_path);         }         $this-&gt;db-&gt;where('product_id',$id);         $this-&gt;db-&gt;delete('g_product_detail');          $this-&gt;load-&gt;library('upload');     $files = $_FILES;          $count = count($_FILES['userfile']['name']);         for($i=0;$i&lt;$count;$i++)         {         $_FILES['userfile']['name'] = $files['userfile']['name'][$i];         $_FILES['userfile']['type'] = $files['userfile']['type'][$i];         $_FILES['userfile']['tmp_name'] = $files['userfile']['tmp_name'][$i];         $_FILES['userfile']['size'] = $files['userfile']['size'][$i];         $_FILES['userfile']['error'] = $files['userfile']['error'][$i];          $this-&gt;upload-&gt;initialize($this-&gt;setup_upload_option());         if($this-&gt;upload-&gt;do_upload() == False)         {             $error = array('error' =&gt; $this-&gt;upload-&gt;display_errors());             $this-&gt;load-&gt;view('gallery2/form', $error);         }         else         {             $data = $this-&gt;upload-&gt;data();             $dataarray = array(                  'product_id' =&gt; $id,                 'product_name' =&gt;$data['file_name'],                 'product_size' =&gt;$data['file_size'],                 'product_ext' =&gt;$data['file_ext'],                 'full_path' =&gt;$data['full_path']                 );             $this-&gt;db-&gt;insert('g_product_detail',$dataarray);           }     }     redirect("gallery2/index");     }     else     {         redirect("gallery2/index");     }   }   public function do_upload() {     $this-&gt;load-&gt;library('upload');     $files = $_FILES;  $data = array( 'product_description' =&gt; $this-&gt;input-&gt;post('product_description')             );     $ch = $this-&gt;db-&gt;insert('g_product',$data);     $id = $this-&gt;db-&gt;insert_id();     if($ch &gt; 0)     {         $count = count($_FILES['userfile']['name']);     for($i=0;$i&lt;$count;$i++)     {         $_FILES['userfile']['name'] = $files['userfile']['name'][$i];         $_FILES['userfile']['type'] = $files['userfile']['type'][$i];         $_FILES['userfile']['tmp_name'] = $files['userfile']['tmp_name'][$i];         $_FILES['userfile']['size'] = $files['userfile']['size'][$i];         $_FILES['userfile']['error'] = $files['userfile']['error'][$i];          $this-&gt;upload-&gt;initialize($this-&gt;setup_upload_option());         if($this-&gt;upload-&gt;do_upload() == False)         {             $error = array('error' =&gt; $this-&gt;upload-&gt;display_errors());             $this-&gt;load-&gt;view('gallery2/form', $error);         }         else         {             $data = $this-&gt;upload-&gt;data();             $dataarray = array(                  'product_id' =&gt; $id,                 'product_name' =&gt;$data['file_name'],                 'product_size' =&gt;$data['file_size'],                 'product_ext' =&gt;$data['file_ext'],                 'full_path' =&gt;$data['full_path']                 );             $this-&gt;db-&gt;insert('g_product_detail',$dataarray);           }     }      redirect('gallery2/index');     }  } </code></pre>