<p>I have an UDP client (proxying on behalf of other clients), which does a <code>sendto()</code> to my UDP server, which uses <code>select()</code> and <code>FD_ISSET()</code> to handle all the incoming requests. Both my client and the server are on the same box.</p>  <p>(client)</p>  <pre><code>sock_fd = socket(AF_INET, SOCK_DGRAM, 0 );  setsockopt(socket_fd, SOL_IP, IP_PKTINFO, &amp;enabled, sizeof(int)); setsockopt(socket_fd, SOL_IP, IP_TRANSPARENT, &amp;enabled, sizeof(int)); setsockopt(socket_fd, SOL_IP, IP_RECVORIGDSTADDR, &amp;enabled, sizeof(int)); setsockopt(socket_fd, SOL_SOCKET, SO_REUSEADDR, &amp;enabled, sizeof(int));  /* client_addr points to the source IP (i.e. other client's IP) */ bind(sock_fd, (const struct sockaddr *)client_addr, sizeof(struct sockaddr));  /* dst_addr points to this box's IP */ sendto(sock_fd, dns_packet_buffer, data_len, 0,             (const struct sockaddr *)dst_addr, sizeof(struct sockaddr)); </code></pre>  <p>(server) - excerpt not the full code, obviously!</p>  <pre><code>FD_ZERO(&amp;read_set); FD_SET(fd, &amp;read_set); select(num_of_fds, &amp;read_set, &amp;write_set, &amp;error_set); if (FD_ISSET(fd, read_set))     reply(fd, source_addr.sa.sa_family); </code></pre>  <p>In what scenarios can <code>sendto()</code> returns success but the <code>FD_ISSET()</code> returns false? This seems to be happening for me!</p>  <p>If I don't proxy on behalf of other clients (i.e., other clients directly talk to the server) then it works. Only when I try to proxy there seem some error. What am I doing wrong and where?</p>