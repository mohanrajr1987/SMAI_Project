<p>Currently i am designing my product architect and facing below issue.</p>  <p>I have a Queue in which i am putting object which contain  a string and file name in which string should be written.</p>  <p>Suppose i have 10 files say OneFile.txt ,  twoFile.txt etc. Now i have three object of OneFile.txt , five object of twoFile.txt in Queue.</p>  <p>I have multiple thread which writes to file. Now if i synchronize file writer object then it is block my other threads which not writing to same file.</p>  <p>Suppose Two thread T1 and T2 are there. T1 Thread is writing to OneFile.txt. T2 Thread wants to write to twoFile.txt then T2 thread blocks as T1 is writing to OneFile.txt. T2 should not be block as it wants to write twoFile.txt.</p>  <p>Please suggest what is good architecture. Please provide sample code for that. </p>