<p>I have a Zend Framework 2 application which provides a file download. The download action looks like this</p>  <pre><code>use Zend\Http;  [...]  public function sendDownload() {     $file = '/tmp/foo';     if (!is_readable($file) || !is_file($file)) {         throw new \Core\Mvc\Exception\NotFoundException(sprintf("File '%s' not found.", $file));     }      $baseName = 'foo.zip';      $finfo = finfo_open(FILEINFO_MIME_TYPE);     $mimeType = finfo_file($finfo, $file);     finfo_close($finfo);      $response = new Http\Response\Stream();     $response-&gt;setStream(fopen($file, 'r'));     $response-&gt;setStatusCode(200);      $headers = new Http\Headers();     $headers-&gt;addHeaderLine('Content-Type', $mimeType);     $headers-&gt;addHeaderLine('Content-Disposition', 'attachment; filename="' . $baseName . '"');     $headers-&gt;addHeaderLine('Content-Length', filesize($file));      $response-&gt;setHeaders($headers);     return $response; } </code></pre>  <p>When I open the download link in a fresh Internet Explorer 8 session the download fails.</p>  <p><a href="http://i.stack.imgur.com/Yu0M3.png" rel="nofollow"><img src="http://i.stack.imgur.com/Yu0M3.png" alt="Screenshot"></a></p>  <p>"Text: xxxx can not be downloaded. The website is not available or could not be found. Try again later".</p>  <p>When I try to open the link a second time in the same session, everything works fine.</p>  <p>This is reproducible. I reopen IE - download - fails - again - works.</p>  <p>In other browsers it works.</p>  <p>When checking the action in XDebug, the steps performed are the same. In the apache access log it both times shows code 200 - but a slightly different size.</p>  <p>Did anybody see such a behaviour before?</p>