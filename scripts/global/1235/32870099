<p>I'm writing my first Direct show filter, and everything works fine except when I try to create the custom properties page for the filter.</p>  <p>I would like to create one checkbox control foreach output pin available in the filter.</p>  <pre><code>HRESULT CActivateDeliveryProp::OnActivate(void) {    ...     CWnd * pMyWindow;   pMyWindow = CWnd::FromHandle(this-&gt;m_hwnd); // or may (this-&gt;m_Dlg); ??     ...    CButton *chkOutputPin;   chkOutputPin = new CButton;   chkOutputPin-&gt;Create(_T("&amp;my check")      , WS_CHILD | WS_VISIBLE |   BS_AUTOCHECKBOX      , CRect(10, iTopPosition, 140, 35),pMyWindow, 0x11);  } </code></pre>  <ul> <li>Is this the correct way to get the handle to the parent dialog?</li> </ul>  <p><strong>Update:</strong></p>  <p>Sorry, I didn't express my real problem well, I only wrote a part of my problem. I don't have problem getting main parent form. My problem is when I try to add a new CheckBox control I get this assertion and code doesn't work. <a href="http://i.stack.imgur.com/7a9FV.png" rel="nofollow"><img src="http://i.stack.imgur.com/7a9FV.png" alt="Assertion"></a></p>  <p>Thanks for all! </p>