<p>I'm trying to run PHPUnit to unittest a WordPress plugin, but the error in the title keeps showing up.</p>  <p>I used WP-CLI to setup the unittests, but also WP-CLI throws a similar error when I try to run it.</p>  <p>I use MAMP to run the database.</p>  <p>I have setup WP-CLI and PHPUnit as phars, that are aliased in ~/.bash-profile, and ran with the default "php" supplied by OS X. Changing this, and running WP-CLI and PHPUnit with the latest PHP version supplied by MAMP fixed WP-CLI(It was running and connecting to the database just fine) but PHPUnit was still throwing the same error.</p>  <p>I have tried editing the wp-config.php file, and setting the host to ":/path/to/mamp/mysql.socket", "localhost:/path/to/mamp/mysql.socket" and "127.0.0.1", none of which helped.</p>  <p>I'm totally stuck, and don't know what to try next.</p>