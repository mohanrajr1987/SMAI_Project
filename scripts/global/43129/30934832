<pre><code>List&lt;DataRow&gt; drLatestTestDates = BaseDAL.SelectDataList                                (@"select StudentId, TestDate from                                 (select *, ROW_NUMBER() OVER(PARTITION BY StudentId ORDER BY TestDate DESC) as RowNum from                                  (select PreId As TestId, TestDate, StudentId from                                  (select ROW_NUMBER() OVER(PARTITION BY Assessment.StudentId ORDER BY PreTestSubjectMapping.TestDate DESC) as RowNum,                                  PreTest.Id as PreId, PreTestSubjectMapping.TestDate as TestDate, Assessment.StudentId from PreTestSubjectMapping                                 join PreTest on PreTestSubjectMapping.PreTestId = PreTest.Id                                 join Assessment on PreTest.Id = Assessment.PreTestId                                 join FISY on PreTest.FY = FISY.Id                                 where FISY.BeginDate &lt;= GETDATE() AND FISY.EndDate &gt;= GETDATE()) As Table123                                 where Table123.RowNum = 1                                  Union                                  select PostId As TestId, TestDate, StudentId from                                  (select ROW_NUMBER() OVER(PARTITION BY Assessment.StudentId ORDER BY PostTestSubjectMapping.TestDate DESC) as RowNum,                                  PostTest.Id as PostId, PostTestSubjectMapping.TestDate as TestDate, Assessment.StudentId from PostTestSubjectMapping                                 join PostTest on PostTestSubjectMapping.PostTestId = PostTest.Id                                 join Assessment on PostTest.Id = Assessment.PostTestId                                 join FISY on PostTest.FY = FISY.Id                                 where FISY.BeginDate &lt;= GETDATE() AND FISY.EndDate &gt;= GETDATE()) As Table123                                 where Table123.RowNum = 1) As UnionTable) As FinalTable                                 where RowNum = 1                                 "                                 );  List&lt;LatestTestData&gt; LatestTestDates = new List&lt;LatestTestData&gt;();  foreach (var row in drLatestTestDates) {     LatestTestData test = new LatestTestData();     test.StudentId = int.Parse(row["StudentId"].ToString());     test.TestDate = DateTime.Parse(row["TestDate"].ToString());                     LatestTestDates.Add(test); }              var StudentTestAtten = (from a in db.Attendances                         join d in LatestTestDates on a.StudentId equals d.StudentId                         where a.AttDate &gt;= d.TestDate                         group a by a.StudentId into b                         select new                         {                             StudentId = b.Key,                             TotalAtten = b.Sum(x =&gt; x.HoursApproved)                         }).ToList(); </code></pre>  <p>when I debug my code there is data in 'LatestTestDates' but when it  reacheches the linq where it joins it throws the error</p>  <blockquote>   <p>'Unable to create a constant value of type 'abc.Models.LatestTestData'. Only    primitive types or enumeration types are supported in this context.'.</p> </blockquote>  <p>i refered to similar questions in stack overflow <a href="http://stackoverflow.com/questions/16397711/unable-to-create-a-constant-value-of-type-abc-only-primitive-types-or-enumera">this</a> and <a href="http://stackoverflow.com/questions/7220867/unable-to-create-a-constant-value-of-type-type-only-primitive-types-such-as">this</a>  but could not  find a suitable answer</p>