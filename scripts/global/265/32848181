<p>We just upgraded our test web servers from Server 2008 to Server 2012 R2. We have have a batch script that deploy our site. When it goes to push the site to the server its now failing. Whats weird is that is i can publish through visual studio with the same publish profile and everything is fine. We were able to upgrade our dev web servers and ever ran into this issue.</p>  <p>Here is what happens when i publish through visual studio 2015 (which works):</p>  <pre><code>&gt;C:\Windows\Microsoft.NET\Framework\v4.0.30319\aspnet_compiler.exe -v \ -p "C:\tfs\TRSApps\Test\Web\Secured Account Access\Member\obj\x86\Release\AspnetCompileMerge\Source" -u "C:\tfs\TRSApps\Test\Web\Secured Account Access\Member\obj\x86\Release\AspnetCompileMerge\TempBuildDir"  3&gt;Auto ConnectionString Transformed obj\x86\Release\AspnetCompileMerge\TempBuildDir\Web.config into obj\x86\Release\CSAutoParameterize\transformed\Web.config. 3&gt;Copying all files to temporary location below for package/publish: 3&gt;obj\x86\Release\Package\PackageTmp. 3&gt;Start Web Deploy Publish the Application/package to https://web-test3-new:8172/msdeploy.axd?site=TRS ... 3&gt;Adding directory (TRS/subsections/SecureAccountAccess\App_Browsers). 3&gt;Adding directory (TRS/subsections/SecureAccountAccess\bin). 3&gt;Adding directory (TRS/subsections/SecureAccountAccess\Board). 3&gt;Adding directory (TRS/subsections/SecureAccountAccess\Demographics). 3&gt;Adding directory (TRS/subsections/SecureAccountAccess\Estimates). 3&gt;Adding directory (TRS/subsections/SecureAccountAccess\General Information). 3&gt;Adding directory (TRS/subsections/SecureAccountAccess\Includes). 3&gt;Adding directory (TRS/subsections/SecureAccountAccess\Includes\Images). 3&gt;Adding directory (TRS/subsections/SecureAccountAccess\Includes\Scripts).   </code></pre>  <p>Here is the batch statement to deploy the site:</p>  <pre><code>"C:\Program Files (x86)\MSBuild\14.0\Bin\msbuild.exe" "c:\tfs\trsapps\test\Web\Secured Account Access\Member\TRSSecureAccess.vbproj" /p:VisualStudioVersion=14.0;DeployOnBuild=True;Configuration=Release;Platform=x86;PublishProfile="c:\tfs\trsapps\test\Web\Secured Account Access\Member\My Project\PublishProfiles\Membertest.pubxml";AllowUntrustedCertificate=True;Username=bob;Password=MyPassword /t:Clean;Build /p:OutputPath="c:\tfs\trsapps\test\Web\Secured Account Access\Member\bin"   </code></pre>  <p>afd</p>  <pre><code>PipelineCopyAllFilesToOneFolderForMsdeploy:   Publish Pipeline Deploy phase Stage PipelineCopyAllFilesToOneFolderForMsdeploy GenerateMsdeployManifestFiles:   Generate source manifest file for Web Deploy package/publish ... MSDeployPublish:   Start Web Deploy Publish the Application/package to https://web-test3-new:8172/msdeploy.axd?site=TRS ...   Starting Web deployment task from source: manifest(c:\tfs\trsapps\test\Web\Secured Account Access\Member\bin\_Publish   edWebsites\TRSSecureAccess_Package\TRSSecureAccess.SourceManifest.xml) to Destination: auto(). C:\Program Files (x86)\MSBuild\Microsoft\VisualStudio\v14.0\Web\Microsoft.Web.Publishing.targets(4276,5): error : Web d eployment task failed. (Could not complete the request to remote agent URL 'https://web-test3-new:8172/msdeploy.axd?sit e=TRS'.) [c:\tfs\trsapps\test\Web\Secured Account Access\Member\TRSSecureAccess.vbproj] C:\Program Files (x86)\MSBuild\Microsoft\VisualStudio\v14.0\Web\Microsoft.Web.Publishing.targets(4276,5): error : This error indicates that you cannot connect to the server. Make sure the service URL is correct, firewall and network setti ngs on this computer and on the server computer are configured properly, and the appropriate services have been started  on the server. [c:\tfs\trsapps\test\Web\Secured Account Access\Member\TRSSecureAccess.vbproj] C:\Program Files (x86)\MSBuild\Microsoft\VisualStudio\v14.0\Web\Microsoft.Web.Publishing.targets(4276,5): error : Error  details:\r [c:\tfs\trsapps\test\Web\Secured Account Access\Member\TRSSecureAccess.vbproj] C:\Program Files (x86)\MSBuild\Microsoft\VisualStudio\v14.0\Web\Microsoft.Web.Publishing.targets(4276,5): error : Could  not complete the request to remote agent URL 'https://web-test3-new:8172/msdeploy.axd?site=TRS'.\r [c:\tfs\trsapps\tes t\Web\Secured Account Access\Member\TRSSecureAccess.vbproj] C:\Program Files (x86)\MSBuild\Microsoft\VisualStudio\v14.0\Web\Microsoft.Web.Publishing.targets(4276,5): error : The u nderlying connection was closed: An unexpected error occurred on a send.\r [c:\tfs\trsapps\test\Web\Secured Account Acc ess\Member\TRSSecureAccess.vbproj] C:\Program Files (x86)\MSBuild\Microsoft\VisualStudio\v14.0\Web\Microsoft.Web.Publishing.targets(4276,5): error : Unabl e to read data from the transport connection: An existing connection was forcibly closed by the remote host.\r [c:\tfs\ trsapps\test\Web\Secured Account Access\Member\TRSSecureAccess.vbproj] C:\Program Files (x86)\MSBuild\Microsoft\VisualStudio\v14.0\Web\Microsoft.Web.Publishing.targets(4276,5): error : An ex isting connection was forcibly closed by the remote host [c:\tfs\trsapps\test\Web\Secured Account Access\Member\TRSSecu reAccess.vbproj]   Publish failed to deploy. Done Building Project "c:\tfs\trsapps\test\Web\Secured Account Access\Member\TRSSecureAccess.vbproj" (Clean;Build targe t(s)) -- FAILED.   Build FAILED.  "c:\tfs\trsapps\test\Web\Secured Account Access\Member\TRSSecureAccess.vbproj" (Clean;Build target) (1) -&gt; (MSDeployPublish target) -&gt;   C:\Program Files (x86)\MSBuild\Microsoft\VisualStudio\v14.0\Web\Microsoft.Web.Publishing.targets(4276,5): error : Web  deployment task failed. (Could not complete the request to remote agent URL 'https://web-test3-new:8172/msdeploy.axd?s ite=TRS'.) [c:\tfs\trsapps\test\Web\Secured Account Access\Member\TRSSecureAccess.vbproj] C:\Program Files (x86)\MSBuild\Microsoft\VisualStudio\v14.0\Web\Microsoft.Web.Publishing.targets(4276,5): error : This error indicates that you cannot connect to the server. Make sure the service URL is correct, firewall and network setti ngs on this computer and on the server computer are configured properly, and the appropriate services have been started  on the server. [c:\tfs\trsapps\test\Web\Secured Account Access\Member\TRSSecureAccess.vbproj] C:\Program Files (x86)\MSBuild\Microsoft\VisualStudio\v14.0\Web\Microsoft.Web.Publishing.targets(4276,5): error : Error  details:\r [c:\tfs\trsapps\test\Web\Secured Account Access\Member\TRSSecureAccess.vbproj] C:\Program Files (x86)\MSBuild\Microsoft\VisualStudio\v14.0\Web\Microsoft.Web.Publishing.targets(4276,5): error : Could  not complete the request to remote agent URL 'https://web-test3-new:8172/msdeploy.axd?site=TRS'.\r [c:\tfs\trsapps\tes t\Web\Secured Account Access\Member\TRSSecureAccess.vbproj] C:\Program Files (x86)\MSBuild\Microsoft\VisualStudio\v14.0\Web\Microsoft.Web.Publishing.targets(4276,5): error : The u nderlying connection was closed: An unexpected error occurred on a send.\r [c:\tfs\trsapps\test\Web\Secured Account Acc ess\Member\TRSSecureAccess.vbproj] C:\Program Files (x86)\MSBuild\Microsoft\VisualStudio\v14.0\Web\Microsoft.Web.Publishing.targets(4276,5): error : Unabl e to read data from the transport connection: An existing connection was forcibly closed by the remote host.\r [c:\tfs\ trsapps\test\Web\Secured Account Access\Member\TRSSecureAccess.vbproj] C:\Program Files (x86)\MSBuild\Microsoft\VisualStudio\v14.0\Web\Microsoft.Web.Publishing.targets(4276,5): error : An ex isting connection was forcibly closed by the remote host [c:\tfs\trsapps\test\Web\Secured Account Access\Member\TRSSecu reAccess.vbproj]      0 Warning(s)     1 Error(s) </code></pre>