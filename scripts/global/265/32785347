<p>I have a few projects that I'm building multiple times, targeting different framework versions.  It works well, but for some reason the project references I have between them don't seem to work with my custom build target.</p>  <p>The setup is as follows for each of the projects in my solution:</p>  <pre><code>&lt;Project ... DefaultTargets="CustomBuild" ... &gt;  ...  &lt;PropertyGroup Condition=" '$(TargetFrameworkVersion)' == 'v4.0' "&gt;   &lt;DefineConstants&gt;NET_40&lt;/DefineConstants&gt;   &lt;OutputPath&gt;$(OutputPath)\Net40&lt;/OutputPath&gt;   ... &lt;/PropertyGroup&gt; &lt;PropertyGroup Condition=" '$(TargetFrameworkVersion)' == 'v4.5' "&gt;   &lt;DefineConstants&gt;NET_45&lt;/DefineConstants&gt;   &lt;OutputPath&gt;$(OutputPath)\Net45&lt;/OutputPath&gt;   ... &lt;/PropertyGroup&gt;  ...  &lt;Target Name="CustomBuild"&gt;   &lt;MSbuild Projects="$(MSBuildProjectFile)" Properties="TargetFrameworkVersion=v4.0" Targets="Build"/&gt;   &lt;MSbuild Projects="$(MSBuildProjectFile)" Properties="TargetFrameworkVersion=v4.5" Targets="Build"/&gt; &lt;/Target&gt; </code></pre>  <p>When referencing a project with the above changes to its <code>*.csproj</code> file, anything that references it fails to build as if I were "missing an assembly reference"</p>  <p>However, I have discovered that overriding the <code>BuildDependsOn</code> property like so:</p>  <pre><code>&lt;Project ... DefaultTargets="Build" ... &gt;  ...  &lt;PropertyGroup&gt;   &lt;BuildDependsOn&gt;     CustomBuild   &lt;/BuildDependsOn&gt; &lt;/PropertyGroup&gt; </code></pre>  <p>Fixes the issue. My question is why does it fix the issue?</p>  <p>Thank you</p>