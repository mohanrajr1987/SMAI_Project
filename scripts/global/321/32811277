<p>I want to get numbers from the keyboard (or from a file: ./a.out &lt; file) and store them in an array. The idea is that the length of the array is unknown.</p>  <pre><code>#include &lt;stdio.h&gt; #include &lt;stdlib.h&gt;  int* newElem(){ int* elm= malloc(sizeof(int));   if (elm == NULL) {     printf("\nError: memory allocation failed.\n");     exit(-1);   } return elm; }   int main(){ int *array,x,size,i=0;      while( scanf("%d",&amp;x)==1 ){          array= newElem();         array[i]=x;         i++;      }  size=i; free(array); printf("size=%d",size);   return(0); } </code></pre>  <p>Why does this crash after I enter: 1 2 3 4 5 6 7 8</p>