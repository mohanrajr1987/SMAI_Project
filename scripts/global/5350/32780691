<p>I'm using the following way on F5 to create a pkcs12 by openssl.</p>  <p>First, generate a new RSA key pair for private key (enc.key) with passphrase ABCD</p>  <pre><code>[root@V11full:LICENSE EXPIRED:Standalone] ssl.key # openssl genrsa -aes128 -passout pass:ABCD -out enc.key 2048 Generating RSA private key, 2048 bit long modulus ............................................................................................................................. .........................................................................................................+++ e is 65537 (0x10001) </code></pre>  <p>Verify it.</p>  <pre><code>[root@V11full:LICENSE EXPIRED:Standalone] ssl.key # openssl rsa -passin     pass:ABCD -in enc.key writing RSA key -----BEGIN RSA PRIVATE KEY----- MIIEpAIBAAKCAQEA20+83C3l32rV/WsjNxCVPGI5KntB5Xw9vhlGKCi19t+kg4i6 2sphwP1P+VaZboSUQTg2xl9thho7YHXVTwnN9gM3wsrong9tDks5pwTGKghdKBfE D26AOtW4uakbfhwJgYdMNgas43BlJd2c9oiYZSfMnQJhP4suqKT830SZA7tfCuPj A9vK1Ibm2PDbeqTJpdplIT5uP3RQJugPMiWIqB1LEgnPVGdsJxrUN0Ln3INArFY9 xQ7nhmMtfGGm6Dz9HOyP8BKnTg+vV+yJOif1ITic2rnl8GoROPd1QyitjOmu0Bzy caULl6FPJnvyz3J6prUacqfk5Q5QE0ksBLFZPwIDAQABAoIBAQDbPb9jrU6cJsV9 7djqd115XAgh+85IiAeBPurvwqMGBVUFWW7Swncu4w1MCdKgtVEwUe4QKd3nrdml +KYhuX94bIcV6JrbSDiRjYo4+YDRDEN0jS2m76SpLHbaw7+ENqsaHhOF/u5fAEFd tUnw+2S92yel3ncxewZN+YICASWmn5OZfZjucmCj9t/HRgWPFz6ITBBTQtoZ02HY F626rMecjuEnLdb6sa6YXCfnBeGHSnPFOALpt3WRpcjRpYb5CM5GnICKRqSfATzI 1vL4mWHq7xM594cPmmkBAbl0+YjbKcgQt6VCiVsJ0HGPR4kvMTP8nI+LW2+zwVma PeFRy7mBAoGBAPdKJ7QbnABAGRSYN7IbK2ekCZRuyV5WZKHMwYy5veG6E7GVx5nG eMc4fuhGyb9+89IpzjzrK/nu/AIGzhqzBR5ICxg8v63fa+DM4twloJxZlKkGYGUw b77r2Lf/hts83fi8Czfa1K+p7aQgRR2WsEJsIESME8Um2rnhgiRyh4wvAoGBAOMJ TKfFpcd11+rMfkfwv+3lM/vSgGNu6KeiJpyoGN59CkfT0g6iW5QnQZieyP4NFSnl f/QXKVfOmCDRUF5XEryeynbAeNF93yNjltxMq2ET+OxOuE8g+G2L1OkIWjLi5IvK RECPGSQKKmjtU8sFO86MgrBTuaud8AOOus8OEm/xAoGABlH738uQ2iTJP1CAo+mz 20tC/2sxdFrK6aO9EqawprNFy5Uja9e5wIW+IJumjmFlQ+rTnZT5I8Mq57Za0C3h JJv8xJrQ31XFgRJbffrsNvLHLOa/0fZB9OQ8Pr+mJ7ZPigrsUnoiU3cJXteATLhM OvZegMH/w1sx3exYkivnMPsCgYEA4fO3XqHOQ5x8ryml5GMuIM0j11PAgzU2Rt+S HgcN+R/ow2OEgxwCmIgZOJOO5YiPr4rAtWT3uHPb441ttvZhp2dBiL41gAkNsmLD Ga0UQyFlc4lE1TuzAxNPajztyAcX/ifnlXjVRJD5dEP+SOeEhiRBTMuG1c3xuRir wrX2k4ECgYBwRU3wDjLvOSzxdOpxZXxrcbbVJh1CqLGWC/HfjbHAnXG3G6gq51wK Ntx5nW9V4jGUf6nT64EOwVULRJKuBjKzzIcMiEkGleVUKjnTSS+6gSQEgUXFj5aN 5vSxbaAHs0jCUPmD+zWDYbGYzC6lqckr0fUR/9VgBqSanGW6i8gqkw== -----END RSA PRIVATE KEY----- </code></pre>  <p>Second, create a self-sign cert from this key and some other parameters.</p>  <pre><code>[root@V11full:LICENSE EXPIRED:Standalone] ssl.key # openssl req -new -key enc.key -x509 -days 365 -out enc.crt Enter pass phrase for enc.key: You are about to be asked to enter information that will be incorporated into your certificate request. What you are about to enter is what is called a Distinguished Name or a DN. There are quite a few fields but you can leave some blank For some fields there will be a default value, If you enter '.', the field will be left blank. ----- Country Name (2 letter code) [XX]:SG State or Province Name (full name) []:SG Locality Name (eg, city) [Default City]:SG Organization Name (eg, company) [Default Company Ltd]:DD Organizational Unit Name (eg, section) []:GSC Common Name (eg, your name or your server's hostname) []:TEST Email Address []:test@test.test </code></pre>  <p>Then I create a PKCS12 from generated key and cert, providing the old passphrase (ABCD) and new export password (1234).</p>  <p>[root@V11full:LICENSE EXPIRED:Standalone] ssl.key # openssl pkcs12 -passout pass:1234 -export -out pkcs.p12 -passin pass:ABCD -inkey enc.key -in enc.crt</p>  <p>After this step, is the private key still protected? or in clear text?</p>  <p>I feel it should be still encrypted, but if I import this pkcs.p12 to F5 via GUI (pre 11.5.0), only key in the export password (1234) and then I already can view the private key in clear text.</p>  <p>result from a second F5 after importing the PKCS12 file, note the key is same as above.</p>  <pre><code>[root@v11:Active:Standalone] tmp # openssl rsa -in /config/filestore/files_d/Common_d/certificate_key_d/\:Common\:test.key_1 writing RSA key -----BEGIN RSA PRIVATE KEY----- MIIEpAIBAAKCAQEA20+83C3l32rV/WsjNxCVPGI5KntB5Xw9vhlGKCi19t+kg4i6 2sphwP1P+VaZboSUQTg2xl9thho7YHXVTwnN9gM3wsrong9tDks5pwTGKghdKBfE D26AOtW4uakbfhwJgYdMNgas43BlJd2c9oiYZSfMnQJhP4suqKT830SZA7tfCuPj A9vK1Ibm2PDbeqTJpdplIT5uP3RQJugPMiWIqB1LEgnPVGdsJxrUN0Ln3INArFY9 xQ7nhmMtfGGm6Dz9HOyP8BKnTg+vV+yJOif1ITic2rnl8GoROPd1QyitjOmu0Bzy caULl6FPJnvyz3J6prUacqfk5Q5QE0ksBLFZPwIDAQABAoIBAQDbPb9jrU6cJsV9 7djqd115XAgh+85IiAeBPurvwqMGBVUFWW7Swncu4w1MCdKgtVEwUe4QKd3nrdml +KYhuX94bIcV6JrbSDiRjYo4+YDRDEN0jS2m76SpLHbaw7+ENqsaHhOF/u5fAEFd tUnw+2S92yel3ncxewZN+YICASWmn5OZfZjucmCj9t/HRgWPFz6ITBBTQtoZ02HY F626rMecjuEnLdb6sa6YXCfnBeGHSnPFOALpt3WRpcjRpYb5CM5GnICKRqSfATzI 1vL4mWHq7xM594cPmmkBAbl0+YjbKcgQt6VCiVsJ0HGPR4kvMTP8nI+LW2+zwVma PeFRy7mBAoGBAPdKJ7QbnABAGRSYN7IbK2ekCZRuyV5WZKHMwYy5veG6E7GVx5nG eMc4fuhGyb9+89IpzjzrK/nu/AIGzhqzBR5ICxg8v63fa+DM4twloJxZlKkGYGUw b77r2Lf/hts83fi8Czfa1K+p7aQgRR2WsEJsIESME8Um2rnhgiRyh4wvAoGBAOMJ TKfFpcd11+rMfkfwv+3lM/vSgGNu6KeiJpyoGN59CkfT0g6iW5QnQZieyP4NFSnl f/QXKVfOmCDRUF5XEryeynbAeNF93yNjltxMq2ET+OxOuE8g+G2L1OkIWjLi5IvK RECPGSQKKmjtU8sFO86MgrBTuaud8AOOus8OEm/xAoGABlH738uQ2iTJP1CAo+mz 20tC/2sxdFrK6aO9EqawprNFy5Uja9e5wIW+IJumjmFlQ+rTnZT5I8Mq57Za0C3h JJv8xJrQ31XFgRJbffrsNvLHLOa/0fZB9OQ8Pr+mJ7ZPigrsUnoiU3cJXteATLhM OvZegMH/w1sx3exYkivnMPsCgYEA4fO3XqHOQ5x8ryml5GMuIM0j11PAgzU2Rt+S HgcN+R/ow2OEgxwCmIgZOJOO5YiPr4rAtWT3uHPb441ttvZhp2dBiL41gAkNsmLD Ga0UQyFlc4lE1TuzAxNPajztyAcX/ifnlXjVRJD5dEP+SOeEhiRBTMuG1c3xuRir wrX2k4ECgYBwRU3wDjLvOSzxdOpxZXxrcbbVJh1CqLGWC/HfjbHAnXG3G6gq51wK Ntx5nW9V4jGUf6nT64EOwVULRJKuBjKzzIcMiEkGleVUKjnTSS+6gSQEgUXFj5aN 5vSxbaAHs0jCUPmD+zWDYbGYzC6lqckr0fUR/9VgBqSanGW6i8gqkw== -----END RSA PRIVATE KEY----- </code></pre>  <p>On the old box (which generating the key and PKCS12), it seems the openssl pkcs12 produce a different result, here I think -passin should be the export password, then I was asked for "PEM pass phrase", which I key in ABCD but the result is different from original private key.</p>  <pre><code>[root@V11full:LICENSE EXPIRED:Standalone] ssl.key # openssl pkcs12 -in pkcs.p12 -passin pass:1234 MAC verified OK Bag Attributes     localKeyID: D0 3E FC 77 20 A4 C4 DA 71 65 BA D2 9D ED 8B 1D 09 9D DF 05 subject=/C=SG/ST=SG/L=SG/O=DD/OU=GSC/CN=TEST/emailAddress=test@test.test issuer=/C=SG/ST=SG/L=SG/O=DD/OU=GSC/CN=TEST/emailAddress=test@test.test -----BEGIN CERTIFICATE----- MIIDszCCApugAwIBAgIJALmvsuRfX0sdMA0GCSqGSIb3DQEBBQUAMHAxCzAJBgNV BAYTAlNHMQswCQYDVQQIDAJTRzELMAkGA1UEBwwCU0cxCzAJBgNVBAoMAkREMQww CgYDVQQLDANHU0MxDTALBgNVBAMMBFRFU1QxHTAbBgkqhkiG9w0BCQEWDnRlc3RA dGVzdC50ZXN0MB4XDTE1MDkyNTEwMTUwMVoXDTE2MDkyNDEwMTUwMVowcDELMAkG A1UEBhMCU0cxCzAJBgNVBAgMAlNHMQswCQYDVQQHDAJTRzELMAkGA1UECgwCREQx DDAKBgNVBAsMA0dTQzENMAsGA1UEAwwEVEVTVDEdMBsGCSqGSIb3DQEJARYOdGVz dEB0ZXN0LnRlc3QwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDbT7zc LeXfatX9ayM3EJU8Yjkqe0HlfD2+GUYoKLX236SDiLraymHA/U/5VpluhJRBODbG X22GGjtgddVPCc32AzfCyuieD20OSzmnBMYqCF0oF8QPboA61bi5qRt+HAmBh0w2 BqzjcGUl3Zz2iJhlJ8ydAmE/iy6opPzfRJkDu18K4+MD28rUhubY8Nt6pMml2mUh Pm4/dFAm6A8yJYioHUsSCc9UZ2wnGtQ3Qufcg0CsVj3FDueGYy18YaboPP0c7I/w EqdOD69X7Ik6J/UhOJzaueXwahE493VDKK2M6a7QHPJxpQuXoU8me/LPcnqmtRpy p+TlDlATSSwEsVk/AgMBAAGjUDBOMB0GA1UdDgQWBBR1m/qVFjkHTnbZ8siq3b7f Y2Q4hDAfBgNVHSMEGDAWgBR1m/qVFjkHTnbZ8siq3b7fY2Q4hDAMBgNVHRMEBTAD AQH/MA0GCSqGSIb3DQEBBQUAA4IBAQC8O53FmxQdWYBmlpC3GLMw9FLfPaUpYVPM CynFsrH6Ptcm7zilZv2AcBFtA/WZHD4DpldVnNasfzpGS87cxY76yjJnHwUI9zGX sBYQkjDKBHn5/1bg5QL4ZXvtNU9sr1NLDoSTBHJtpH/XH/6IUmu5yD/jO5SPyjVt FGaMvl1OwmGu4sVhtAqGeoChsxktRV10xzW1YOx1Dovirjuh5r6be0OR3TRDOIt5 zXlgY+rgVNBhL6Ue9My8po/Ms/F9iZwxXNl8yCBpozqB4sn0QuOXJat8doLLRhj9 TaDE0BQtk/9D/FvESjS61mvm+0m94fPgiJB4ETf8SjmXZ8/1SnZM -----END CERTIFICATE----- Bag Attributes     localKeyID: D0 3E FC 77 20 A4 C4 DA 71 65 BA D2 9D ED 8B 1D 09 9D DF 05 Key Attributes: &lt;No Attributes&gt; </code></pre>  <p>Enter PEM pass phrase: //I key in ABCD here but private key is different</p>  <p>Verifying - Enter PEM pass phrase: //I key in ABCD here but private key is different</p>  <pre><code>-----BEGIN ENCRYPTED PRIVATE KEY----- MIIFDjBABgkqhkiG9w0BBQ0wMzAbBgkqhkiG9w0BBQwwDgQI2CsAauL0eW0CAggA MBQGCCqGSIb3DQMHBAjdzwe0ufByKQSCBMiUZAASkg5p5oxW4TLghaIcv80hNS7Q 5j69IVkDiRohpN8xt4aOlOiv1jsbtNeAoE1zhwHf8Ez/6O79vfWe2eCINII8Ephk 7sKtVvvC0yGIjLEP95B4BE9Bg7HN+5ZDJFU5ZcOqqX2GsM0RdJzOYKNiaHRwuxIg Gbak06AB67/eEpYk499yPjCYIb3OVW/XVy2piGELT9ebZndMB8SNPxLn9eZtGhEn 2h/03JFIE3eMHsXLBxQM8z7zAMotAzDvKwzfi2HsWbonsDHfqwdNESq5P0YukOBU 4awJ39QJaWoPfF41Emwqe0iEOoSOWp2gt/21zlcOeYtVyiSC3mucckDeoAhvmQ2D 3YCt8aeCcSJrMb/o6jX7YsemnhI294y2BchkNL7c+gu48Goi2u/im9zzZfbSvlOX Ev1RCHSCSHWf+EJ2JGUBsk5GLoetY1hMTi3Z14XyuYQHiPEhw1FPcKE4j+sQiJBJ OWz7CzkNrCNOgeEK/EfG2wX2lg8oWGC3edtrpYo1SNvvkF/crekPyxdiSMjkXKA2 jHRTTKSQ3yPQ+Gkq50kSdFACsr4ScFwrDaFWcmQBBhWKKjTHrku5GwxSigRkZ6+N ZdCiZQI/f0cvUy2RTMkt2Qznbr34HLE+DdkVah7NJDOKnQUV2PbZwkr9wfZOdkCx JTigWKf0XKlm4K/Icm1j8i3v6c1/PsruoHvyX3SKZPH8G83daGc79rrH6xC1PCSA mCPQMmC3st/GBIabrQ7bTW5D9JRzj0fgA+VuD1B5GeGsPWk8EombibRixVowFlUA 5RQzT/PSKMXlaUpqt2LLXBrvnVFMf51zOxPG9aCB5saQR0qBM0d3ewH93/EsNmYj aGxyrv/8Zb+26rA8uBd7NtoLSZ9CpNMsQKXevbFsRmabvtvjJBuoEzT/dPYwzJE6 apH1HDGDne1F3j1zMtGtXE2IxBHAmH/lI8JoUcJQeKYBPkFUTTUCVc8kioSB/kOb Ji07f/VINPKTsRMsDUuK0cLEC+XRSCELKpYw1odzNA+tzVqT6y0spboUi1rqwYJ+ HT4B7sLYDuxT5Q4gPIz90sljUigjYHLu2Zh0W/e/fRYvQ0EhM3xhbObXqeodKrb0 eeV1kCIS6lqHEMHF+H9cd8uHR9OI+JG2R9c3kRgJd8xnI+4WpGKLz98h2iWERbCR embJukhejQnuQJR4HHW5PJG7Gu/pGcFLRoUu6RU5hQitlR09FZZ870HJFfKN1GyI KuEr4IQSfof425P7KvatN2vA4TRmoO1nNqJWkQBh6+5bvkJApgcAj0vu4vXQrL3u +R95uvgkUBWAqPqfZb58Ocynnzq4vdAaBrBMjx6QmoDlMHmSiluGi9JOqvpZez48 KbJKFY+i6vwsaqm8DnmSx3IatyqpnikzF35jiuHto0w4NyENz3EWvMbwraB07S9Y 2eYXdd4ihy7CjK36YwP6PPylB6US27dDZ7LjIRkZQOHIg+X2ATpdWAfVanLQqRig H5xXA8xu21mHOppyZtQysyQqPKEB+SP8nNhKjdG9waFuGBr45S3OSqauiZuoSj/z G0rKvVDk9D01aWaIwCooRT8Wm1GrhEjt8kxib1HR2PQKSRKnBJyJ8k18mPDBXlLh 9AA= -----END ENCRYPTED PRIVATE KEY----- </code></pre>  <p>I tried this, but the output is still different than original private key.</p>  <pre><code>openssl pkcs12 -in pkcs.p12 -passin pass:1234 -nodes </code></pre>