<p>I am really new with .Bat scripting and I am trying to put together a nested loop process where the script counts how many files are in a "pending" folder if it is below a certain amount it reaches out to a "source" folder to drop a set amount of files. if the amount matches then it moves to another loop where it counts how many files are in "docs" folder, once again if it is below a set amount then have files from "pending" moved over if not then have it go to timecount for 30 seconds and start over from the first loop. </p>  <pre><code> @echo off   setlocal enabledelayedexpansion   :: loop1 reads through the pending folder to determine if there are files in it.  :: if there are the min amount of files the process moves to loop2 if not then it  :: adds files from the source to the pending  :loop1   :: folder names and counts  set acount=0  set bcount=2  set ccount=0  set gcount=2  set srcdir=C:...\sourcefolder1  set dstdir=C:...\pendingfolder   :: counts files in dstdir and determine if files need to be added  :: or can move on to next loop  for /f %%F in ('dir /b %dstdir%') do set /a acount+=1  if %acount% GEQ %bcount% goto loop2   ::add files to dstdir  pushd %srcdir%  for %%i in (*.txt) do (  set /a ccount+=1  move %%i %dstdir%\%%i  if !ccount! GEQ %gcount% goto loop2  )  popd  :: loop2 checks to see if there are any files in the docs folder. if there     is a min amount it goes to timecount :: if there are not a min amount, files from pending get added to docs.  :loop2 :: folder names and counts set dcount=-5 set fcount=2 set mcount=0 set srcdir=C:...\pendingfolder set dstdir=C:...\docs  for /f %%F in ('dir /b %dstdir%') do set /a dcount+=1 if %dcount% GEQ %fcount% goto timecount   ::add files to dstdir pushd %srcdir% for %%i in (*.txt) do ( set /a mcount+=1 move %%i %dstdir%\%%i if !mcount! GEQ %fcount% goto timecount  ) popd  :timecount TIMEOUT 30 goto loop1  PAUSE </code></pre>  <p>With the code above i get "the syntax of the command is incorrect" Any help would be appreciated.</p>