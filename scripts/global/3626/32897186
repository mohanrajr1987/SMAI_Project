<p>I have a simple many-to-many database model. I'd like to create a Rails form that contains fields that are dynamically generated using records from the many-to-many (2 relationship distant) table. Then the submitted data needs to be recorded in the join table.</p>  <p>Here's the setup:</p>  <pre><code>class Criterium &lt; ActiveRecord::Base    has_many :criteria_rankings    has_many :users, :through =&gt; :criteria_rankings end  class User &lt; ActiveRecord::Base    has_many :criteria_rankings    has_many :criteria, :through =&gt; :criteria_rankings end  class CriteriaRanking &lt; ActiveRecord::Base    belongs_to :criterium    belongs_to :user end </code></pre>  <p>Ideally, I would be able to use the Criterium model to generate a form that, when submitted, creates multiple records in the CriteriaRanking model, but only one per user. Imagine a form such as this:</p>  <pre><code>Criterium A:    User 1 Ranking    |_____|    User 2 Ranking    |_____|    . . . .   User n Ranking    |_____|   </code></pre>  <p>So, if there are <em>n</em> users, then there will be <em>n</em> fields in the form. Each form field, however, will correspond to a field in the CriteriaRanking join table. How can I generate the form to not only present the fields in this fashion but then to <em><strong>record</strong></em> the values in the CriteriaRanking join table, with each record containing the correct User ID?</p>  <p>FWIW I'm using SimpleForm.</p>