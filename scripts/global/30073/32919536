<p>I want to write a query in MongoDB to insert a object in a document if it doesn't exist or increment a certain field of it if it exists in the specified document. There are two queries follows as an example:</p>  <p>Documents Structures:</p>  <pre><code>     Movies:      {          integer _id,          string Name,          array(object) WatchingList          [             {                 integer UserID,                 integer WatchTimes             }             .....          ]      } </code></pre>  <p>Insert Query:</p>  <pre><code>db.Movies.update({_id:x}, {$push: {WatchingList:{UserID:y,WatchTimes:1}}}); </code></pre>  <p>Increment Query:</p>  <pre><code>db.Movies.update({_id:x,"WatchingList.UserID":y},{$inc:{"WatchingList.$.WatchTimes":1}}); </code></pre>  <p>How can I combine them together into one or more queries to acheive the requirement?</p>