<p>I would like to reuse a RabbitMQ channel in different node modules. Since the channel is created asynchronously, I am not sure what the best approach would be to "inject" this channel object to other modules.</p>  <p>If possible, I would like to avoid external dependencies like DI containers for this. </p>  <p>Below, you find my simplified code. </p>  <p>Thank you in advance for any advice.</p>  <p><strong>web.js</strong></p>  <pre><code>require('./rabbitmq')(function (err, conn) {     ...      // Start web server     var http = require('./http');     var serverInstance = http.listen(process.env.PORT || 8000, function () {         var host = serverInstance.address().address;         var port = serverInstance.address().port;      }); }); </code></pre>  <p><strong>rabbitmq.js</strong>:</p>  <pre><code>module.exports = function (done) {     ...      amqp.connect(rabbitMQUri, function (err, conn) {        ...          conn.createChannel(function(err, ch) {             ...             // I would like to reuse ch in other modules         });     }); } </code></pre>  <p><strong>someController.js</strong></p>  <pre><code>module.exports.post = function (req, res) {    // Reuse/inject "ch" here, so I can send messages } </code></pre>