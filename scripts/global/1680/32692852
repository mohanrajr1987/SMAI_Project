<p><a href="http://i.stack.imgur.com/WJUsu.png" rel="nofollow"><img src="http://i.stack.imgur.com/WJUsu.png" alt="c reaches to 15 and then if statement passes"></a><a href="http://i.stack.imgur.com/0Aq9z.png" rel="nofollow"><img src="http://i.stack.imgur.com/0Aq9z.png" alt="image showing 1 === 16"></a>I am trying to make a progress bar which gets completed when all the images are loaded. It works fine in chrome but not in firefox. I googled but could not find any relevant bug or workaround. Below is the code:</p>  <pre><code>;(function(){ function id(v){return document.getElementById(v); } function loadbar() {     var ovrl = id("overlay"),     prog = id("progress"),     stat = id("progstat"),     img = document.images,     c = 0;     tot = img.length;     function doneLoading(){         ovrl.style.opacity = 0;         setTimeout(function(){             ovrl.style.display = "none";             //var vid = document.getElementById("video_background");             //vid.play();         }, 1200);     }     for(var i=0; i&lt;tot; i++) {              var tImg     = new Image();             tImg.src     = img[i].src;              tImg.onload  = (function(j){                  return function(){                      c++;                     var perc = ((100/tot*c) &lt;&lt; 0) +"%";                     prog.style.width = perc;                     stat.innerHTML = "Loading "+ perc;                     if(c===tot){                         return doneLoading();                     }                 }             }(i));             tImg.onerror = (function(j){                 return function(){                     c++;                     var perc = ((100/tot*c) &lt;&lt; 0) +"%";                     prog.style.width = perc;                     stat.innerHTML = "Loading "+ perc;                     if(c===tot){                         return doneLoading();                     }                 }             }(i));      } } document.addEventListener('DOMContentLoaded', loadbar, false);}()); </code></pre>  <p>when I put breakpoints in firefox, I realized that if condition(if(c===tot)) returns true even if c is less than tot.</p>