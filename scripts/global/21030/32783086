<p>I have a dataset where the images have <strong>VARYING</strong> number of labels. The number of labels is between 1 and 5. There are 100 classes.</p>  <p>After googling, it seems like HDF5 db with slice layer can deal with multiple labels, as in the following <a href="https://groups.google.com/forum/#!searchin/caffe-users/james$20guo/caffe-users/_NdX1tpHt5Y/4A7ln18nr3YJ" rel="nofollow">URL</a>.</p>  <p>The only problem is that it supposes a fixed number of labels. Following this, I would have to create a 1x100 matrix, where entry value is 1 for the labeled classes, and 0 for non-label classes, as in the following definition:</p>  <pre><code>layers {   name: "slice0"   type: SLICE   bottom: "label"   top: "label_matrix"   slice_param {       slice_dim: 1       slice_point: 100   } } </code></pre>  <p>where each image contains a a label looking like (1,0,0,...1,...0,....,0,1) where the vector size is 100 dimension. </p>  <p>Now, I apologize that my question becomes somehow vague, but is this a feasible idea? I.e., is there a better approach to this problem?</p>