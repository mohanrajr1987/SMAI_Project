<pre><code>private void ListDirectory(TreeView treeView, string path) {     treeView.Nodes.Clear();     var rootDirectoryInfo = new DirectoryInfo(path);     treeView.Nodes.Add(CreateDirectoryNode(rootDirectoryInfo)); }  private static TreeNode CreateDirectoryNode(DirectoryInfo directoryInfo) {     var directoryNode = new TreeNode(directoryInfo.Name);     foreach (var directory in directoryInfo.GetDirectories())         directoryNode.Nodes.Add(CreateDirectoryNode(directory));     foreach (var file in directoryInfo.GetFiles().Where(s =&gt; s.Extension == ".jpg"))         directoryNode.Nodes.Add(new TreeNode(file.Name));     return directoryNode; } </code></pre>  <p>using this code I can list all jpg files and folders from a given directory. But it will list empty folders of jpg files too. How can I avoid it?</p>