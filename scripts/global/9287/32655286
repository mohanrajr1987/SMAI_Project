<p>I am trying to crawl Agoda's daily hotel price of multiple room types along with additional information such as the promotion information, breakfast condition, and book-now-pay-later regulation.</p>  <p>The codes I have are as below:</p>  <pre><code>import requests import math from bs4 import BeautifulSoup  url = "http://www.agoda.com/ambassador-hotel-taipei/hotel/taipei-tw.html?asq=8m91A1C3D%252bTr%252bvRSmuClW5dm5vJXWO5dlQmHx%252fdU9qxilNob5hJg0b218wml6rCgncYsXBK0nWktmYtQJCEMu0P07Y3BjaTYhdrZvavpUnmfy3moWn%252bv8f2Lfx7HovrV95j6mrlCfGou99kE%252bA0aX0aof09AStNs69qUxvAVo53D4ZTrmAxm3bVkqZJr62cU&amp;tyra=1%257c2&amp;searchrequestid=2e2b0e8c-cadb-465b-8dea-2222e24a1678&amp;pingnumber=1&amp;checkin=2015-10-01&amp;los=1" res = requests.get(url) soup = BeautifulSoup(res.text, 'html.parser') n = len(soup.select('.room-name'))  for i in range(0, n):     en_room = soup.select('.room-name')[i].text.strip()     currency = soup.select('.currency')[i].text     price = soup.select('.sellprice')[i].text      try:         sp_info = soup.select('.left-room-info')[i].text.strip()     except Exception as e:         sp_info = "N/A"      try:         pay_later = soup.select('.book-now-paylater')[i].text.strip()     except Exception as e:         pay_later = "N/A"       print en_room, i+1, currency, price, en_room, sp_info, pay_later     time.sleep(1) </code></pre>  <p>I have two questions:</p>  <p>(1) The "left-room-info" class seems to contain two sub-classes "breakfast" and "room-promo". These sub-classes only show up when the particular room type provides such services. </p>  <p>When there is only one of the sub-classes shows up, the output works out well. However, when none of the sub-classes shows up, the output is empty when I expect to show "N/A". Also when both of the sub-classes show up, the output format has unnecessary empty lines which cannot be removed by .strip().</p>  <p>Is there any way to solve these problems?</p>  <p>(2) When I tried to extract information from the class '.book-now-paylater', the extracted data does not match each room type. For example, assuming there are 10 room types and only room 2, 4, 6, 8 allow travelers to book now pay later, the codes can extract exactly 4 pieces of book-now-pay-later information but these 4 pieces of information are then assigned inappropriately to room type 1, 2, 3, 4.</p>  <p>Is there any way to fix this problem?</p>  <p>Thank you for your help!</p>  <p>Gary</p>