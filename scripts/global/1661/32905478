<p>Here in a.php file only 1 row is getting displayed.I used fetch(PDO::FETCH_ASSOC) stll i didnt get whole of the rows from chatlog. where is the problem?   </p>  <p>a.php</p>  <pre><code>&lt;html&gt; &lt;head&gt; &lt;/head&gt; &lt;body&gt; &lt;?php Include ('connect.php'); $query = $handler-&gt;prepare("SELECT message FROM chatlog"); $query-&gt;execute(); while ($row = $query-&gt;fetch()) {     $message = $row['message'];     $query = $handler-&gt;prepare("SELECT * FROM smilies");      $query-&gt;execute();     while ($row = $query-&gt;fetch()) {          $emoji = $row['emoji'];         $smiley = "&lt;img src='image/" . $row['smiley'] . "'/&gt;";         $message = str_replace($emoji, $smiley, $message);      }     print_r("$message"); } ?&gt; &lt;/body&gt; &lt;/html&gt; </code></pre>