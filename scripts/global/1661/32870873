<p>I had used a query using <code>mysql_query()</code> and <code>mysql_connect()</code>, bun now i am using <code>PDO</code> in php</p>  <p>please help me, what is the best and fastest way for this query:</p>  <p>my old query was:</p>  <pre><code>$sql = "SELECT * FROM products WHERE publish = '1'      AND id IN          (SELECT product_id FROM category_controller WHERE category_id IN                  (SELECT id FROM categories WHERE publish = '1'))"; $result = mysql_query($sql); </code></pre>  <p>my new query is:</p>  <pre><code>$PDO = new PDO("mysql:host=localhost;dbname=mydb", 'root', ''); $sql = "SELECT * FROM products WHERE publish = '1'      AND id IN          (SELECT product_id FROM category_controller WHERE category_id IN                  (SELECT id FROM categories WHERE publish = '1'))";  $result = $PDO-&gt;query($sql); </code></pre>  <p>but the both ways that i had used was very slowly beacuse there are more than 5000 records in <code>products</code> table.</p>  <p>please help me to find a new and fastest way to run this query.</p>