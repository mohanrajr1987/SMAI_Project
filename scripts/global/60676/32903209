<p>I have a <code>User</code> entity, with a <code>Many-To-One</code> relationship with <code>Company</code> entity, <code>Many-To-Many</code> relationship with <code>Department</code> entity, and also has a <code>role</code> field.  </p>  <p>A user <code>U1</code> is a manager in the "D" department in the "C" company if they has a <code>role="manager"</code>, <code>company="C"</code>, <code>departments=["D", ...]</code>. But one department can has only one manager, so I need somehow maintain this restriction.  </p>  <p>When a new user <code>U2</code> is created with <code>role="manager"</code>, <code>company="C"</code>, <code>departments=["D", ...]</code>, I must delete "D" department from the <code>U1.departments</code> collection. </p>  <p>What is the best way for maintaining such a data consistency logic (and where to put it, doctrine lc events?)? (I know the logic is quite weird but I can't change it).</p>