<p>I'm trying to fetch some results inside a cursor iteration, so I get related elements and stuff. But when executing this query inside the iteration, the iteration cursor die and the iteration will end even if there's more data to get.</p>  <p>An example</p>  <pre><code>protected $em; public function __construct() {     $this-&gt;em = $this-&gt;get('doctrine')-&gt;getManager('default'); } public function getProducts() {     $query = "SELECT * FROM products"; // 100 Products     $stmt = $this-&gt;select($query);      while($result = $stmt-&gt;fetch()) {         // This breaks the cursor so only 1 product is parsed.         // If I remove this line, iteration ends perfectly (100 products)         $pictures = $this-&gt;getPictures($result['id']);     } } public function getPictures($product) {     $query = "SELECT * FROM pictures WHERE product_id = :product_id";     $stmt = $this-&gt;select($query, array('product_id' =&gt; $product));     return $stmt-&gt;fetchAll(); } public function select($query, array $params = array()) {     $conn = $this-&gt;em-&gt;getConnection();     $stmt = $conn-&gt;prepare($query);     foreach($params as $key =&gt; $value) {         $stmt-&gt;bindValue($key, $value);     }     $stmt-&gt;execute();      return $stmt; } </code></pre>