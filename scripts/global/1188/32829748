<p>I have an swing application that connects to a Jboss 7 AS.  Invoking some background threads causes a no such ejb error on client side. Here is an example</p>  <pre><code>package com.asf.capone.client.util;  import java.util.Hashtable;  import javax.naming.Context; import javax.naming.InitialContext; import javax.naming.NamingException;  import com.asf.capone.common.exception.AppException;  import ro.asf.capone.ejb.beans.security.SecurityController; import ro.asf.capone.ejb.beans.security.SecurityControllerRemote;  public class TestJndi { public static void main(final String[] args) throws AppException {     final Hashtable env = new Hashtable();     env.put("java.naming.factory.initial", "org.jboss.naming.remote.client.InitialContextFactory");     env.put("java.naming.provider.url", "remote://localhost:4447");     env.put("java.naming.security.credentials", "c4ca4238a0b923820dcc509a6f75849b");     env.put("java.naming.security.principal", "capone");     env.put(Context.URL_PKG_PREFIXES, "org.jboss.ejb.client.naming");     env.put("jboss.naming.client.ejb.context", "true");     env.put("jboss.naming.client.connect.options.org.xnio.Options.SASL_POLICY_NOPLAINTEXT", "false");      try {         final InitialContext ctx = new InitialContext(env);         System.out.println("ctx: " + ctx);         final SecurityController o = (SecurityControllerRemote) ctx.lookup(                 "ejb:agency-ear/agency-ejb/SecurityControllerBean!ro.asf.capone.ejb.beans.security.SecurityControllerRemote");         System.out.println("1outcome: " + o.getServerTimeMillis());          new Thread(new Runnable() {              @Override             public void run() {                 System.out.println("2outcome: " + o.getServerTimeMillis());             }         }).start();      } catch (final NamingException e) {         // TODO Auto-generated catch block         e.printStackTrace();     } } </code></pre>  <p>}</p>  <p>The output for this is:</p>  <pre><code>ctx: javax.naming.InitialContext@307f6b8c 1outcome: 1443465336127 Exception in thread "Thread-4" java.lang.IllegalStateException: EJBCLIENT000025: No EJB receiver available for handling [appName:agency-ear, moduleName:agency-ejb, distinctName:] combination for invocation context org.jboss.ejb.client.EJBClientInvocationContext@381dfddb at org.jboss.ejb.client.EJBClientContext.requireEJBReceiver(EJBClientContext.java:754) at org.jboss.ejb.client.ReceiverInterceptor.handleInvocation(ReceiverInterceptor.java:116) at org.jboss.ejb.client.EJBClientInvocationContext.sendRequest(EJBClientInvocationContext.java:186) at org.jboss.ejb.client.EJBInvocationHandler.sendRequestWithPossibleRetries(EJBInvocationHandler.java:253) at org.jboss.ejb.client.EJBInvocationHandler.doInvoke(EJBInvocationHandler.java:198) at org.jboss.ejb.client.EJBInvocationHandler.doInvoke(EJBInvocationHandler.java:181) at org.jboss.ejb.client.EJBInvocationHandler.invoke(EJBInvocationHandler.java:144) at com.sun.proxy.$Proxy2.getServerTimeMillis(Unknown Source) at com.asf.capone.client.util.TestJndi$1.run(TestJndi.java:36) at java.lang.Thread.run(Thread.java:745) </code></pre>  <p>I am missing something that should allow me to get the same output on both calls but I cannot figure what is the problem. Thanks!</p>