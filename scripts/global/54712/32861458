<p>I have a flask's controller (POST) to upload a file:</p>  <pre><code>f = request.files['external_data'] filename = secure_filename(f.filename) f.save(filename) </code></pre>  <p>I have tried to test it:</p>  <pre><code>handle = open(filepath, 'rb') fs = FileStorage(stream=handle, filename=filename, name='external_data') payload['files'] = fs url = '/my/upload/url' test_client.post(url, data=payload) </code></pre>  <p>But in the controller <code>request.files</code> contains:</p>  <pre><code>ImmutableMultiDict: ImmutableMultiDict([('files', &lt;FileStorage: u'myfile.png' ('image/png')&gt;)]) </code></pre>  <p>My tests pass in case I replace <code>'external_data'</code> with <code>'files'</code></p>  <p>How is it possible to create <a href="http://flask.pocoo.org/docs/0.10/testing/" rel="nofollow">flask test</a> request that contains <code>request.files('external_data')</code>? </p>