<p>Eg if I compile with:</p>  <pre><code>gcc -o vuln vuln.c -fno-stack-protector -D_FORTIFY_SOURCE=0 </code></pre>  <p>and use piestrip or change_mach_o_flags.py to set the heap executable and disable ASLR:</p>  <p><a href="https://src.chromium.org/svn/trunk/src/build/mac/change_mach_o_flags.py" rel="nofollow">https://src.chromium.org/svn/trunk/src/build/mac/change_mach_o_flags.py</a></p>  <p>If I overwrite the rip to say, the address of an environment variable containing shellcode, the process segfaults.  I can clearly see in gdb that it is in the right place, the shellcode starts right there, but it has already segfaulted so there must be some other protection in place.</p>  <p>How can I disable this?</p>