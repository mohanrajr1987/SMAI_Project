<p>I was trying to design my own simple implementation of a discrete-time integrator in Simulink using the trapezoidal rule. This is the result of my efforts (consider I'm using 1 as time integration interval): <a href="http://i.stack.imgur.com/ArQM8.png" rel="nofollow"><img src="http://i.stack.imgur.com/ArQM8.png" alt=""></a> Then, just to double check if I did everything right I compared the results with the standard Simulink discrete-time integrator block (configured to use Trapezoidal rule of course): <a href="http://i.stack.imgur.com/vy72T.png" rel="nofollow"><img src="http://i.stack.imgur.com/vy72T.png" alt=""></a></p>  <p>Everything runs fine when I let the step rise at time 1 (both the custom and default integrator blocks have 0 as initial condition):</p>  <p><a href="http://i.stack.imgur.com/mrqmv.png" rel="nofollow"><img src="http://i.stack.imgur.com/mrqmv.png" alt=""></a></p>  <p>while with the step rising at time 0 I got a difference between the two integrators block response:</p>  <p><a href="http://i.stack.imgur.com/oozu7.png" rel="nofollow"><img src="http://i.stack.imgur.com/oozu7.png" alt=""></a></p>  <ul> <li>custom block:  @ Integral(t=0)=0.5;  @ Integral(t=1)=1.5 </li> <li>default block: @ Integral(t=0)=0;    @t=1 Integral(t=1)=1</li> </ul>  <p>I think this depends on my custom block integrating between t=0 and the initial condition = 0 (i.e. applying the trapezoidal rule between 0 and 1, therefore getting 0.5).</p>  <p>Which is the best way to fix this and make my custom block show the same behaviour as the default one also at zero time? Is there any parameter/setting I am missing?</p>  <p>Thank you!</p>