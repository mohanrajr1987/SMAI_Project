<p>I'm working on some code to concatenate PDF's using iTextSharp. At this stage I've simplified the code to concatenate just one PDF:</p>  <pre><code>public static void Concat(string outputFilePath, string inputFilePath) {     using (var document = new Document())     {         using (var fileStream = new FileStream(outputFilePath, FileMode.Create, FileAccess.ReadWrite))         using (var copier = new PdfCopy(document, fileStream))         {             copier.SetMergeFields();             document.Open();              var reader = new PdfReader(inputFilePath);             copier.AddDocument(reader);             copier.AddJavaScript(reader.JavaScript);              copier.Close();         }         document.Close();     } } </code></pre>  <p>I have a particular PDF that breaks with this code:</p>  <ul> <li><a href="https://www.dropbox.com/s/nhy7av9b37uwowl/in1.pdf?dl=0" rel="nofollow">Input file</a></li> <li><a href="https://www.dropbox.com/s/g58fe27p0row8qc/out.pdf?dl=0" rel="nofollow">Output file</a></li> </ul>  <p>The input file works fine in Foxit Reader: all the fields are read-only except for the large field at the bottom which can be edited.<br> The output file however, does not work right in Foxit Reader. Editing the bottom field and clicking elsewhere yields the error <code>TypeError: Cannot read property '__validate' of undefined</code></p>  <p>I've compared the structure of the AcroForm fields, but I cannot identify which difference would cause this error. I also tried to find out which part of <a href="https://www.dropbox.com/s/tolhjj5wk4lmzpv/script.js?dl=0" rel="nofollow">the Javascript</a> is causing the error, but as far as I can tell the error does not happen inside the PDF's javascript, but rather when Foxit Reader tries to call <code>__validate()</code> on an entry in <code>elements</code> which does not exist.</p>  <p>The file seems to be working fine using Adobe Reader.</p>  <p>Any ideas?</p>