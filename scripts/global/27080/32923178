<p>preg_match(): Compilation failed: nothing to repeat at offset 1 My code</p>  <pre><code>define("IN_MYBB", 1); define('THIS_SCRIPT', 'safelink.php');  require_once("./global.php");  $lang-&gt;load("safelink");  // Add link in breadcrumb add_breadcrumb($lang-&gt;safelink, "safelink.php"); if($mybb-&gt;settings['safelink_enabled'] == 1) {     if($mybb-&gt;input['url'])     {          if(!filter_var($mybb-&gt;input['url'], FILTER_VALIDATE_URL))         {             $error = $lang-&gt;badurl;         }         else         {             $v = substr($_SERVER['REQUEST_URI'], strpos($_SERVER['REQUEST_URI'], "safelink.php?url=")); // these 2 lines filter out the url to continue to             $url = str_replace('safelink.php?url=', '', $v); // only problem with these is it will replace all occurrencesof 'safelink.php?url=' in the url, and I don't know how to fix this (preg_replace perhaps?)             $group = $mybb-&gt;user['usergroup'];             $groups = explode(",", $mybb-&gt;settings['safelink_groups']);             $excludes = explode("\n", $mybb-&gt;settings['safelink_urls']);             foreach($excludes as $exclude)             {                 if(!preg_match("#^".trim($exclude)."+[\d\w]*#i", $url) &amp;&amp; !in_array($group, $groups)) // not an excluded site, go to safelink page and link intended URL                 {                     $warning = $lang-&gt;warning;                     $continue = $lang-&gt;continue;                 }                 else // site excluded from safelink OR user is in excluded usergroup                 {                     header("location:$url");                 }             }         }     }     else     {         $error = $lang-&gt;nourl;     } } else {     $error = $lang-&gt;disabled; } eval("\$safelink = \"".$templates-&gt;get("safelink")."\";");  output_page($safelink);  exit; </code></pre>