<p>How can I preg_match until no more results is found?</p>  <p>I'm using curl to login a page and then delete posts from there.</p>  <p>But to delete those posts I need to preg_match the content and filter the IDs and if found ids there my script run the delete command.</p>  <p>So, basically:</p>  <pre><code>$pattern = '/(?&lt;=list_id=).*?(?=&amp;cmd=edit)/s'; preg_match($pattern, $LoginResult, $id); //THIS PREG_MATCH IS WORKING, IT GETS THE FIRST RESULT OF THE PAGE (WHAT I NEED). BUT I NEED TO MAKE A LOOP TO THIS SCRIPT RUN OVER AND OVER UNTIL NOTHING MORE IS FOUND. $idpagina = $id[0]; </code></pre>  <p>In words it should make something like:</p>  <ul> <li>If > preg_match is true > run delete command.</li> <li>Loop If until preg_match is false.</li> </ul>  <p>With this code I can find everything there is between <strong>list_id=</strong> and <strong>&amp;cmd=edit</strong>. If the script find something between this two strings, It needs to perform a curl to delete this ID:</p>  <pre><code>//THIS IS WORKING $paginadelete = "https://example/list/folder/0?list_id=".$idpagina."&amp;cmd=delete&amp;type=AD_DELETE";       curl_setopt($login, CURLOPT_URL, $paginadelete);     curl_setopt($login, CURLOPT_POST, 1);     curl_setopt($login, CURLOPT_FOLLOWLOCATION, 1);     $step1 = curl_exec($login);     echo $step1; </code></pre>  <p>What this basically does is (or should do):</p>  <ol> <li>Loop preg_match and if preg_match is true go to #2</li> <li>Run Delete Curl</li> <li>Return to #1 until nothing is found in preg_match</li> </ol>  <p>But this script run 3 curl processes:</p>  <ol> <li>Login</li> <li>Go to delete page (this one above)</li> <li>Confirm delete</li> </ol>  <p>So this loop should be between step #2 and #3 until nothing more is found.</p>  <p>My #3 step (confirm delete) is this one:</p>  <pre><code>$url = curl_getinfo($login, CURLINFO_EFFECTIVE_URL); $url = parse_url($url, PHP_URL_PATH); $url = substr($url, 9); $url = "http://example.com/cmd/act/".$url;  $post_data = array( '1' =&gt; 'delete', '2' =&gt; '1', '3' =&gt; '2', '4' =&gt; '10', '5' =&gt; '', '6' =&gt; 'continue', );  //traverse array and prepare data for posting (key1=value1) foreach ( $post_data as $key =&gt; $value) {     $post_items[] = $key . '=' . $value; }   //create the final string to be posted using implode() $post_string = implode ('&amp;', $post_items);   curl_setopt($login, CURLOPT_URL, $url); curl_setopt($login, CURLOPT_POST, 1); curl_setopt($login, CURLOPT_FOLLOWLOCATION, 1); curl_setopt($login, CURLOPT_POSTFIELDS, $post_string); $step2 = curl_exec($login); //echo $step2; </code></pre>  <p><strong><em>////////////////////// EDIT</em></strong></p>  <p>I was trying:</p>  <pre><code>if (preg_match('/(?&lt;=list_id=).*?(?=&amp;cmd=edit)/s', $LoginResult, $id)){ } else { } </code></pre>  <p>But this will only work for the first result. After that, the script stops. I need to re-run the if until preg_match is false and then end in the else.</p>  <p>I thought about using DO and WHILE, but I don't know how and neither if it'll work.</p>  <p><strong>////////////////// EDIT 2</strong></p>  <p>I'm now trying to use a GOTO until get false and close connection</p>  <pre><code>verification: if (preg_match('/(?&lt;=list_id=).*?(?=&amp;cmd=edit)/s', $LoginResult, $id)){ [..........] } else { //close the connection curl_close($login);       } goto verification;   </code></pre>  <p>But doesn't seem to work, lol.</p>