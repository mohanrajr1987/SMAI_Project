<p>I am trying to search for variables being defined in a shell script.</p>  <pre><code>&lt;?php $code = ' #!/bin/bash foo = "Hello world!" bar="123" echo -e "The value of foo is $foo\n" echo -e "The value of bar is $bar" '; $var_pattern = "/(^[a-zA-Z0-9_]+[\= ]+([\"\']?)+(.)+([\"\']?))*$/"; preg_match($var_pattern, $code, $matches, PREG_OFFSET_CAPTURE); print_r($matches); </code></pre>  <p>There are two variables being defined in the above example (foo &amp; bar). The regex I have checked using regex101.com.</p>  <p>The result I am getting is...</p>  <pre><code>Array (     [0] =&gt; Array         (             [0] =&gt;              [1] =&gt; 121         )  ) </code></pre>  <p>121 appears to be the number of chars within the code. The result I am expecting is something more like...</p>  <pre><code>Array (     [0] =&gt; Array         (             [0] =&gt;              [1] =&gt; foo = "Hello world!"         ),     [1] =&gt; Array         (             [0] =&gt;             [1] =&gt; bar="123"         ) ) </code></pre>  <p>Or similar! What am I doing wrong?</p>