<p>I am having some strange behaviour when deploying this ear. What I have is an ear that contains and war project and an ejb project. The idea been a Servlet will call a local ejb using a local interface.</p>  <p>I am also using the maven plugins to build these projects as you can see the pom files below. What I do is I run package my ejb then, run install on my web application and ear in that order and the deploy my ear which contains the other two projects.And the run install on my ejb to create the target.</p>  <p>The first time I deploy I get an error that my web application cannot find the ejb</p>  <pre><code>Failed to process phase INSTALL of subdeployment "CRMWeb-0.0.1-SNAPSHOT.war" of deployment "CRMEnteprise.ear" at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:166) [wildfly-server-8.2.0.Final.jar:8.2.0.Final] at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1948) [jboss-msc-1.2.2.Final.jar:1.2.2.Final] at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1881) [jboss-msc-1.2.2.Final.jar:1.2.2.Final] at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [rt.jar:1.8.0_45] at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [rt.jar:1.8.0_45] at java.lang.Thread.run(Thread.java:745) [rt.jar:1.8.0_45] Caused by: org.jboss.as.server.deployment.DeploymentUnitProcessingException:     JBAS014544: No EJB found with interface of type 'ejb.Ping' for binding     servlet.PingServlet/pingInstance </code></pre>  <p>Then I tried to comment out my ejb references to see a normal output from a Servlet and I get this error and my servlets dont exists as part of the deployment.</p>  <pre><code>Caused by: java.lang.ClassNotFoundException: servlet.PingServlet from [Module "deployment.CRMEnteprise.ear.CRMWeb-0.0.1-SNAPSHOT.war:main" from Service Module Loader] </code></pre>  <p>I am deploying in Wildfly 8 and have tested this in Wildfly 9 as well. I even tried to deploy in Glassfish and got this error</p>  <pre><code>Error occurred during deployment: Exception while deploying the app [CRMEnteprise-0.0.1-SNAPSHOT] : Cannot resolve reference [Remote ejb-ref name=servlet.PingServlet/pingInstance,Remote 3.x interface =ejb.PingLocal,ejb-link=null,lookup=,mappedName=,jndi-name=,refType=Session] because there are [2] ejbs in the application with interface ejb.PingLocal. Some of the possible causes: 1. The EJB bean class was packaged in an ear lib library (or through any other library mechanism which makes the library visible to all component modules), this makes all the component modules include this bean class indirectly. 2. The EJB bean class was packaged in a component module which references the EJB, either directly or indirectly through Manifest, WEB-INF/lib. The EJB bean class should only be packaged in the declaring ejb module and not the referencing modules. The referencing modules should only include EJB interfaces.. Please see server.log for more details.  </code></pre>  <p>Ear project pom</p>  <pre><code>&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;groupId&gt;CRMEnteprise&lt;/groupId&gt; &lt;artifactId&gt;CRMEnteprise&lt;/artifactId&gt; &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; &lt;packaging&gt;ear&lt;/packaging&gt; &lt;dependencies&gt;     &lt;dependency&gt;         &lt;groupId&gt;javax&lt;/groupId&gt;         &lt;artifactId&gt;javaee-api&lt;/artifactId&gt;         &lt;version&gt;7.0&lt;/version&gt;     &lt;/dependency&gt;     &lt;dependency&gt;         &lt;groupId&gt;javax.ejb&lt;/groupId&gt;         &lt;artifactId&gt;ejb-api&lt;/artifactId&gt;         &lt;version&gt;3.0&lt;/version&gt;     &lt;/dependency&gt;     &lt;dependency&gt;         &lt;groupId&gt;CRMEjb&lt;/groupId&gt;         &lt;artifactId&gt;CRMEjb&lt;/artifactId&gt;         &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;         &lt;type&gt;ejb&lt;/type&gt;     &lt;/dependency&gt;     &lt;dependency&gt;         &lt;groupId&gt;CRMWeb&lt;/groupId&gt;         &lt;artifactId&gt;CRMWeb&lt;/artifactId&gt;         &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;         &lt;type&gt;war&lt;/type&gt;     &lt;/dependency&gt;     &lt;dependency&gt;         &lt;groupId&gt;maven&lt;/groupId&gt;         &lt;artifactId&gt;maven-ear-plugin&lt;/artifactId&gt;         &lt;version&gt;1.9&lt;/version&gt;         &lt;type&gt;plugin&lt;/type&gt;         &lt;scope&gt;test&lt;/scope&gt;     &lt;/dependency&gt; &lt;/dependencies&gt; &lt;build&gt;     &lt;plugins&gt;         &lt;plugin&gt;             &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;             &lt;artifactId&gt;maven-ear-plugin&lt;/artifactId&gt;             &lt;version&gt;2.3.2&lt;/version&gt;             &lt;!-- configuring the ear plugin --&gt;             &lt;configuration&gt;                 &lt;defaultLibBundleDir&gt;lib&lt;/defaultLibBundleDir&gt;                 &lt;skinnyWars&gt;true&lt;/skinnyWars&gt;                 &lt;modules&gt;                     &lt;webModule&gt;                         &lt;groupId&gt;CRMWeb&lt;/groupId&gt;                         &lt;artifactId&gt;CRMWeb&lt;/artifactId&gt;                     &lt;/webModule&gt;                     &lt;ejbModule&gt;                         &lt;groupId&gt;CRMEjb&lt;/groupId&gt;                         &lt;artifactId&gt;CRMEjb&lt;/artifactId&gt;                     &lt;/ejbModule&gt;                 &lt;/modules&gt;             &lt;/configuration&gt;         &lt;/plugin&gt;     &lt;/plugins&gt; &lt;/build&gt; </code></pre>  <p></p>  <p>Web application pom</p>  <pre><code>&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;groupId&gt;CRMWeb&lt;/groupId&gt; &lt;artifactId&gt;CRMWeb&lt;/artifactId&gt; &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; &lt;packaging&gt;war&lt;/packaging&gt; &lt;dependencies&gt;     &lt;dependency&gt;         &lt;groupId&gt;javax.ejb&lt;/groupId&gt;         &lt;artifactId&gt;ejb-api&lt;/artifactId&gt;         &lt;version&gt;3.0&lt;/version&gt;     &lt;/dependency&gt;     &lt;dependency&gt;         &lt;groupId&gt;javax&lt;/groupId&gt;         &lt;artifactId&gt;javaee-api&lt;/artifactId&gt;         &lt;version&gt;7.0&lt;/version&gt;     &lt;/dependency&gt;     &lt;dependency&gt;         &lt;groupId&gt;CRMEjb&lt;/groupId&gt;         &lt;artifactId&gt;CRMEjb&lt;/artifactId&gt;         &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;         &lt;type&gt;ejb&lt;/type&gt;         &lt;scope&gt;provided&lt;/scope&gt;     &lt;/dependency&gt; &lt;/dependencies&gt; &lt;build&gt;     &lt;plugins&gt;         &lt;plugin&gt;             &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;             &lt;version&gt;2.3.2&lt;/version&gt;             &lt;configuration&gt;                 &lt;source&gt;1.7&lt;/source&gt;                 &lt;target&gt;1.7&lt;/target&gt;             &lt;/configuration&gt;         &lt;/plugin&gt;         &lt;plugin&gt;             &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;             &lt;version&gt;2.12&lt;/version&gt;         &lt;/plugin&gt;     &lt;/plugins&gt; &lt;/build&gt; </code></pre>  <p></p>  <p>EJB Project</p>  <pre><code>&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;groupId&gt;CRMWeb&lt;/groupId&gt; &lt;artifactId&gt;CRMWeb&lt;/artifactId&gt; &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; &lt;packaging&gt;war&lt;/packaging&gt; &lt;dependencies&gt;     &lt;dependency&gt;         &lt;groupId&gt;javax.ejb&lt;/groupId&gt;         &lt;artifactId&gt;ejb-api&lt;/artifactId&gt;         &lt;version&gt;3.0&lt;/version&gt;     &lt;/dependency&gt;     &lt;dependency&gt;         &lt;groupId&gt;javax&lt;/groupId&gt;         &lt;artifactId&gt;javaee-api&lt;/artifactId&gt;         &lt;version&gt;7.0&lt;/version&gt;     &lt;/dependency&gt;     &lt;dependency&gt;         &lt;groupId&gt;CRMEjb&lt;/groupId&gt;         &lt;artifactId&gt;CRMEjb&lt;/artifactId&gt;         &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;         &lt;type&gt;ejb&lt;/type&gt;         &lt;scope&gt;provided&lt;/scope&gt;     &lt;/dependency&gt; &lt;/dependencies&gt; &lt;build&gt;     &lt;plugins&gt;         &lt;plugin&gt;             &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;             &lt;version&gt;2.3.2&lt;/version&gt;             &lt;configuration&gt;                 &lt;source&gt;1.7&lt;/source&gt;                 &lt;target&gt;1.7&lt;/target&gt;             &lt;/configuration&gt;         &lt;/plugin&gt;         &lt;plugin&gt;             &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;             &lt;version&gt;2.12&lt;/version&gt;         &lt;/plugin&gt;     &lt;/plugins&gt; &lt;/build&gt; </code></pre>  <p></p>  <p>Here is my ejb code</p>  <pre><code>package ejb;  import javax.ejb.Local; import javax.ejb.Stateless; @Stateless @Local(PingLocal.class) public class Ping implements PingLocal { public Ping() {     // TODO Auto-generated constructor stub } public String PingMe(){     return "Pong"; } } </code></pre>  <p>The stragest thing about this is that it worked before and then stopped working after I deployed.</p>  <p>My questions are:</p>  <ol> <li>Am I useing the maven plugins correctly?</li> <li>Why is the servlets not getting created?</li> <li>Is there something wrong with my ejb?</li> </ol>