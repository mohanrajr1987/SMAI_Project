<p>test file contains</p>  <pre><code>$ cat test i-d119c118,vol-37905322,,,2015-07-29T03:50:32.511Z,General Purpose SSD,15 i-2278b42e,vol-c90539cc,,,2014-11-12T04:27:22.618Z,General Purpose SSD,10 </code></pre>  <p>script output:</p>  <pre><code>$ for instance_id in $(cut -d"," -f1 test); do python getattrib.py get $instance_id | cut -d"'" -f2; done 10.10.0.68 10.10.0.96 </code></pre>  <p>inserting variable using sed yields following result, note the same IP address</p>  <pre><code>$ insert=( `for instance_id in $(cut -d"," -f1 test); do python getattrib.py get $instance_id | cut -d"'" -f2; done` ) $ sed "s|$|,${insert}|" test i-d119c118,vol-37905322,,,2015-07-29T03:50:32.511Z,General Purpose SSD,15,10.10.0.68 i-2278b42e,vol-c90539cc,,,2014-11-12T04:27:22.618Z,General Purpose SSD,10,10.10.0.68 </code></pre>  <p>but i am looking for output as below:</p>  <pre><code>10.10.0.68,i-d119c118,vol-37905322,,,2015-07-29T03:50:32.511Z,General Purpose SSD,15 10.10.0.96,i-2278b42e,vol-c90539cc,,,2014-11-12T04:27:22.618Z,General Purpose SSD,10 </code></pre>