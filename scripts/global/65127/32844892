<p>I am trying to create a new socket.io real time analytic connection. I have two types of users. Normal users and their drivers.</p>  <p>Here is the code for authorization</p>  <pre><code>io.configure(function()  {     io.set('authorization', function(handshake, callback)      {         var userId    = handshakeData.query.userId;         var type      = handshakeData.query.type;         var accessKey = handshakeData.query.accessKey;          var query = "";         if(type = '')             query = 'SELECT * FROM users WHERE id = ' + userId + ' AND accessKey = ' + accessKey;         else             query = 'SELECT * FROM drivers WHERE id = ' + userId + ' AND accessKey = ' + accessKey;                      db.query(query)             .on('result', function(data)             {                 if(data)                 {                     if(type == '')                     {                         var index = users.indexOf(userId);                         if (index != -1)                          {                             users.push(userId)                         }                                        }                     else                     {                         var index = drivers.indexOf(userId);                         if (index != -1)                          {                             drivers.push(userId)                         }                                        }                 }                 else                 {                     socket.emit('failedAuthentication', "Unable to authenticate");                 }             })             .on('end', function(){                  socket.emit('failedAuthentication', "Unable to authenticate");             })     }); }); </code></pre>  <p>For disconnection i have this</p>  <pre><code> socket.on('disconnect', function()      {      }); </code></pre>  <p>i want to remove the very userId i added on disconnect. How would i do that. can i append anything to socket or what should i do?</p>