<p>I have a test rig set up that attempts to create two sockets between the same client and a backend server. With debugging turned on, I can see the xhr open GET requests for two different sockets (AAAA, and AAAB) and the corresponding socket receive messages with type "open" and the data's sid echoing the socket id (AAAA or AAAB). I've highlighted these in the trace below. However, these both occur before the socket.on("connect... function is called so the socket.io.engine.id reflects only the 2nd socket's request and that method appears to get called twice. If I were to guess, the lookup is seeing the URI ending in / that was used for both connections and is reading the latter (as if it can't distinguish between two outstanding calls). I am maintaining the channelName shown in an object that performs the io.connect so I can trace which socket is being called back.</p>  <p>I would hope this part of the trace might show what occurred -- I haven't found where the subscriptions are managed to understand how it looks up which listener to all... Both io.connect calls (one for NatA and one for NatB) use the same URI and port and both use forceNew set to true:</p>  <pre><code>            console.log(this.channelName+": Connecting to " + uri);             this.socket = io.connect(uri,{'channelName': initEvent.channelName, 'forceNew': true});             this.socket.on("connect", function() {                 console.log(self.channelName+": Setting SocketID:"+self.socket.io.engine.id); </code></pre>  <p>so, in the log below, you can see the NatA and NatB tags where the io.connect was called, and where the listener for on("connect" is called but only the 2nd NatB socket is called, and it is called twice...</p>  <blockquote>   <p><strong>NatA: Connecting to <a href="http://localhost:3001" rel="nofollow">http://localhost:3001</a></strong></p> </blockquote>  <p>socket.io-client:url parse <a href="http://localhost:3001" rel="nofollow">http://localhost:3001</a> +0ms</p>  <p>socket.io-client ignoring socket cache for <a href="http://localhost:3001" rel="nofollow">http://localhost:3001</a> +0ms</p>  <p>socket.io-client:manager readyState closed +0ms</p>  <p>socket.io-client:manager opening <a href="http://localhost:3001" rel="nofollow">http://localhost:3001</a> +1ms</p>  <p>engine.io-client:socket creating transport "polling" +0ms</p>  <p>engine.io-client:polling polling +1ms</p>  <p>engine.io-client:polling-xhr xhr poll +1ms</p>  <p>engine.io-client:polling-xhr xhr open GET: <a href="http://localhost:3001/socket.io/?EIO=3&amp;transport=polling&amp;t=1443463452620-0" rel="nofollow">http://localhost:3001/socket.io/?EIO=3&amp;transport=polling&amp;t=1443463452620-0</a> +1ms</p>  <p>engine.io-client:polling-xhr xhr data null +1ms</p>  <p>engine.io-client:socket setting transport polling +1ms</p>  <p>socket.io-client:manager connect attempt will timeout after 20000 +6ms</p>  <p>socket.io-client:manager readyState opening +1ms</p>  <p><strong>NatB: Connecting to <a href="http://localhost:3001" rel="nofollow">http://localhost:3001</a></strong></p>  <p>socket.io-client:url parse <a href="http://localhost:3001" rel="nofollow">http://localhost:3001</a> +10ms</p>  <p>socket.io-client ignoring socket cache for <a href="http://localhost:3001" rel="nofollow">http://localhost:3001</a> +9ms</p>  <p>socket.io-client:manager readyState closed +2ms</p>  <p>socket.io-client:manager opening <a href="http://localhost:3001" rel="nofollow">http://localhost:3001</a> +1ms</p>  <p>engine.io-client:socket creating transport "polling" +5ms</p>  <p>engine.io-client:polling polling +1ms</p>  <p>engine.io-client:polling-xhr xhr poll +1ms</p>  <p>engine.io-client:polling-xhr xhr open GET: <a href="http://localhost:3001/socket.io/?EIO=3&amp;transport=polling&amp;t=1443463452629-1" rel="nofollow">http://localhost:3001/socket.io/?EIO=3&amp;transport=polling&amp;t=1443463452629-1</a> +1ms</p>  <p>engine.io-client:polling-xhr xhr data null +0ms</p>  <p>engine.io-client:socket setting transport polling +1ms</p>  <p>socket.io-client:manager connect attempt will timeout after 20000 +6ms</p>  <p>socket.io-client:manager readyState opening +0ms</p>  <p>engine.io-client:polling polling got data ArrayBuffer +8ms</p>  <p>engine.io-client:socket socket receive: type "open", data "{"sid":"<strong>As6yk_kvlPxYGYdBAAAA</strong>","upgrades":["websocket"],"pingInterval":25000,"pingTimeout":60000}" +4ms</p>  <p>engine.io-client:socket socket open +1ms</p>  <p>socket.io-client:manager open +12ms</p>  <p>socket.io-client:socket transport is open - connecting +0ms</p>  <p>engine.io-client:socket starting upgrade probes +1ms</p>  <p>engine.io-client:socket probing transport "websocket" +0ms</p>  <p>engine.io-client:socket creating transport "websocket" +0ms</p>  <p>engine.io-client:polling polling +1ms</p>  <p>engine.io-client:polling-xhr xhr poll +0ms</p>  <p>engine.io-client:polling-xhr xhr open GET: <a href="http://localhost:3001/socket.io/?EIO=3&amp;transport=polling&amp;t=1443463452647-2&amp;sid=" rel="nofollow">http://localhost:3001/socket.io/?EIO=3&amp;transport=polling&amp;t=1443463452647-2&amp;sid=</a><strong>As6yk_kvlPxYGYdBAAAA</strong> +1ms</p>  <p>engine.io-client:polling-xhr xhr data null +0ms</p>  <p>engine.io-client:polling polling got data ArrayBuffer +4ms</p>  <p>engine.io-client:socket socket receive: type "open", data "{"sid":"<strong>QRjctK24vsx9-rJzAAAB</strong>","upgrades":["websocket"],"pingInterval":25000,"pingTimeout":60000}" +1ms</p>  <p>engine.io-client:socket socket open +0ms</p>  <p>socket.io-client:manager open +9ms</p>  <p>socket.io-client:socket transport is open - connecting +8ms</p>  <p>engine.io-client:socket starting upgrade probes +1ms</p>  <p>engine.io-client:socket probing transport "websocket" +0ms</p>  <p>engine.io-client:socket creating transport "websocket" +1ms</p>  <p>engine.io-client:polling polling +0ms</p>  <p>engine.io-client:polling-xhr xhr poll +0ms</p>  <p>engine.io-client:polling-xhr xhr open GET: <a href="http://localhost:3001/socket.io/?EIO=3&amp;transport=polling&amp;t=1443463452655-3&amp;sid=" rel="nofollow">http://localhost:3001/socket.io/?EIO=3&amp;transport=polling&amp;t=1443463452655-3&amp;sid=</a><strong>QRjctK24vsx9-rJzAAAB</strong> +1ms</p>  <p>engine.io-client:polling-xhr xhr data null +0ms</p>  <p>engine.io-client:socket probe transport "websocket" opened +1ms</p>  <p>engine.io-client:socket probe transport "websocket" pong +12ms</p>  <p>engine.io-client:socket pausing current transport "polling" +0ms</p>  <p>engine.io-client:polling we are currently polling - waiting to pause +1ms</p>  <p>engine.io-client:socket probe transport "websocket" opened +0ms</p>  <p>engine.io-client:socket probe transport "websocket" pong +3ms</p>  <p>engine.io-client:socket pausing current transport "polling" +1ms</p>  <p>engine.io-client:polling we are currently polling - waiting to pause +0ms</p>  <p>engine.io-client:polling polling got data ArrayBuffer +7ms</p>  <p>engine.io-client:socket socket receive: type "message", data "0" +1ms</p>  <p>socket.io-parser decoded 0 as %j +0ms Object {type: 0, nsp: "/"}</p>  <p><strong>NatB: Setting SocketID:QRjctK24vsx9-rJzAAAB</strong></p>  <p>global: publishing ChannelInitialized:{"channelName":"NatB"}</p>  <p>engine.io-client:polling pre-pause polling complete +3ms</p>  <p>engine.io-client:polling paused +1ms</p>  <p>engine.io-client:socket changing transport and sending upgrade packet +0ms</p>  <p>engine.io-client:socket setting transport websocket +1ms</p>  <p>engine.io-client:socket clearing existing transport polling +0ms</p>  <p>engine.io-client:polling ignoring poll - transport state "paused" +0ms</p>  <p>engine.io-client:polling polling got data ArrayBuffer +1ms</p>  <p>engine.io-client:socket socket receive: type "message", data "0" +0ms</p>  <p>socket.io-parser decoded 0 as %j +7ms Object {type: 0, nsp: "/"}</p>  <p><strong>NatB: Setting SocketID:QRjctK24vsx9-rJzAAAB</strong></p>