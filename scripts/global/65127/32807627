<p>I've got a simple express app and I'd like to have my socket listening info in separate files in a <code>sockets</code> directory (each file in there would correspond to a controller - separation of concerns).</p>  <p>In <code>app.js</code>, I'm trying to get this to work:</p>  <pre><code>io.on('connection', function(socket) {   socket.on('game-save-comment', require('./sockets/games.js')(data)); }); </code></pre>  <p>And <code>./sockets/games.js</code> looks like:</p>  <pre><code>var GameSockets = function(data) {   console.log('got here'); }  exports.GameSockets = GameSockets; </code></pre>  <p>However, I'm getting this error:</p>  <pre><code>  socket.on('game-save-comment', require('./sockets/games.js')(data));                                                                ^ ReferenceError: data is not defined </code></pre>  <p>What am I missing?</p>