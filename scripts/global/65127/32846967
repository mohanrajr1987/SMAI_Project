<p>I'm having a weird problem with Socket.io and SSL. I'm seeing this in the logs: </p>  <pre><code>socket.io-parser encoded %j as Object +0ms 2["data",{"data":"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDACAWGBwYFCAcGhwkIiAm…CmsTRRQBXkYk06McZoooGTA0uTmiimA7JFNlY4oooAgX7h9zUq/LgCiikBITkCpE9aKKAP/9k=","aspectRatio":0.75,"streamId":"base","timestamp":1443536969377}] engine.io-client:socket flushing 1 packets in socket +8ms engine.io-client:socket socket receive: type "message", data "2["data",{"data":"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDACAWGBwYFCAcGhwkIiAm…AKGOKKKBlaRjmnRDvRRQBMDxmnA0UUxDgTTZWOKKKBlZfufU1Mp24AoopASE1JH0zRRQB//9k=","aspectRatio":0.75,"streamid":"base"}]" +20ms socket.io-parser decoded 2["data",{"data":"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDACAWGBwYFCAcGhwkIiAm…AKGOKKKBlaRjmnRDvRRQBMDxmnA0UUxDgTTZWOKKKBlZfufU1Mp24AoopASE1JH0zRRQB//9k=","aspectRatio":0.75,"streamid":"base"}] as %j +22ms Object {type: 2, nsp: "/", data: Array[2]} socket.io-client:socket emitting event %j +27ms ["data", Object] socket.io-client:manager writing packet %j +60ms Object {type: 2, data: Array[2], nsp: "/"} socket.io-parser encoding packet %j +37ms Object {type: 2, data: Array[2], nsp: "/"} socket.io-parser encoded %j as Object +1ms 2["data",{"data":"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDACAWGBwYFCAcGhwkIiAm…YmiigCvIxJp0Y4zRRQBMDS5OaKKYDskU2VjiiigCBfuH3NSr8uAKKKQEhOcVInTNFFAH//2Q==","aspectRatio":0.75,"streamId":"base","timestamp":1443536969437}] engine.io-client:socket flushing 1 packets in socket +39ms engine.io-client:socket socket close with reason: "transport close" +32ms socket.io-client:manager close +34ms socket.io-client:socket close (transport close) +71ms socket.io-client:manager will wait 762ms before reconnect attempt +0ms socket.io-client:manager attempting reconnect +764ms socket.io-client:manager readyState closed +0ms socket.io-client:manager opening https://server.tld:4003 +0ms engine.io-client:socket creating transport "polling" +767ms engine.io-client:polling polling +1ms engine.io-client:polling-xhr xhr poll +0ms engine.io-client:polling-xhr xhr open GET: https://server.tld:4003/socket.io/?EIO=3&amp;transport=polling&amp;t=1443536970238-5 +1ms engine.io-client:polling-xhr xhr data null +0ms engine.io-client:socket setting transport polling +1ms socket.io-client:manager connect attempt will timeout after 20000 +5ms </code></pre>  <p>As can be seen, the socket is closed for reason: transport close</p>  <p>This happens every now and then, with unconsistent intervals (intervals are in the order of seconds (10-60)).</p>  <p>Why is that caused? There are no errors in the log.</p>  <p>Code to instantiate the server:</p>  <p><div class="snippet" data-lang="js" data-hide="false"> <div class="snippet-code"> <pre class="snippet-code-js lang-js prettyprint-override"><code>var fs = require( 'fs' ); var app = require('express')(); var https        = require('https'); https.globalAgent.maxSockets = 20000; https.globalAgent.keepAlive = true; var server = https.createServer({     key: fs.readFileSync('/path/to/key.key'),     cert: fs.readFileSync('/path/to/crt/.crt'),     ca: fs.readFileSync('/path/to/ca-bundle.crt'),     requestCert: false,     rejectUnauthorized: false },app); server.listen(4003);  var io = require('socket.io').listen(server);</code></pre> </div> </div> </p>  <p>When swapping above code with this (and thus disabling SSL) no problems occur:</p>  <p><div class="snippet" data-lang="js" data-hide="false"> <div class="snippet-code"> <pre class="snippet-code-js lang-js prettyprint-override"><code>var fs = require('fs'); var io = require('socket.io').listen(4002);</code></pre> </div> </div> `</p>