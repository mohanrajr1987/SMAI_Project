<p>I am writing a socket.io application that is supposed to add two players into a room and then let them play a game. I have a few issues with my code.</p>  <p>This is what the relevant part of my server socket.io code looks like:</p>  <pre><code>io.sockets.on('connection', function(socket) {      socket.on('update-users', function() {          var players = [];         var clients = io.sockets.adapter.rooms['waiting room'];          if ( Object.size(clients) == 2 ) {             players.push(clients);              // generate a unique game room name             var gameRoom = 'gameRoomId' + Math.floor(Math.random() * 999) + 1;              // console.log(gameRoom);              players.join(gameRoom);              io.sockets.in(gameRoom).emit('game start');         }     }); }); </code></pre>  <p>This here works, I get the two different users, but the first issue here is, that, for some reason, two rooms are generated. If i uncomment and log the rooms I get two, but there is no cycle involved.</p>  <p>This is the relevant client side of socket.io code:</p>  <pre><code>socket.on('game start', function() {     console.log('we are in the same room'); }); </code></pre>  <p>But nothing gets logged into either of the consoles. Could you please help me out with this? I am new to socket.io</p>