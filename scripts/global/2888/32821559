<p>So I'm trying to make a program which sends a file that I want to print from my client in my main PC, to my 2nd PC that runs the server and that is connected to a printer.  When I was testing my code I ran the client and server on my main pc and it worked fine. However, when I ran the client on my main PC and the server on my 2nd PC the file was corrupted and I'm not sure why. </p>  <p>Here's my <code>Listener</code> (I removed the parts that I thought were unnecessary):</p>  <pre><code>void Listener() {     //All of these strings and bools are filled correctly I just removed it because its long     string file="";     string size = "";     bool print;      Socket server = myList.AcceptSocket();      var output = File.Create(file);     Console.WriteLine("Client connected. Starting to receive the file");      int k = 0;     int read = 0;     byte[] buffer = new byte[long.Parse(size)];     NetworkStream stm = new NetworkStream(server);      while ((k = stm.Read(buffer, 0, buffer.Length-read)) &gt; 0)     {         read += k;     }     output.Write(buffer, 0, buffer.Length);      output.Close();     if (print) { PrintFile(file); }     server.Close();     Thread.CurrentThread.Abort();             } </code></pre>  <p>Here is the client code (I removed the parts that I thought were unnecessary):</p>  <pre><code>void startClient() {     FileInfo f = new FileInfo(file);     Socket client = new Socket(AddressFamily.InterNetwork, SocketType.Stream, ProtocolType.Tcp);     client.Connect(IPAddress.Parse("10.0.0.13"), 27015);     Console.WriteLine("Connected");     byte[] bytes = File.ReadAllBytes(file);     client.SendFile(file);     Console.WriteLine("File Sent");     client.Close(); } </code></pre>  <p>Does anybody know how to solve this? Thanks in advance!        </p>