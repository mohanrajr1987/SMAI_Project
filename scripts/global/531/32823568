<p>Input xml: </p>  <pre><code>&lt;BOOKMSG&gt;   &lt;BOOK&gt;     &lt;NAME&gt;TEST1&lt;/NAME&gt;     &lt;CHAPTER&gt;INTRO&lt;/CHAPTER&gt;     ...     &lt;AUTHOR&gt;Chris&lt;AUTHOR&gt;   &lt;/BOOK&gt; &lt;/BOOKMSG&gt; &lt;BOOKMSG&gt;    &lt;BOOK&gt;      &lt;NAME&gt;TEST2&lt;/NAME&gt;      &lt;CHAPTER&gt;INTRO&lt;/CHAPTER&gt;      ...      &lt;AUTHOR&gt;James&lt;AUTHOR&gt;   &lt;/BOOK&gt; &lt;/BOOKMSG&gt; ... </code></pre>  <p>Like wise I have 50000 messages. Each <code>BOOKMSG</code> have around 60 xpaths to be fetched.</p>  <p>I have following code which fetches the value for given xpath from xml messages:</p>  <pre><code>xValue="$( xmllint --shell "./sample.xml" &lt;&lt;&lt; "cat /$path/text()" | sed '1d;$d' )" </code></pre>  <p>However the time required to fetch all 60 xpath values takes approximatly 10 seconds. This is not efficient for the case, when you have to parse 50000 messages. 50000 times 10 seconds are too long.</p>  <p>I think we have other perl tool or xmlstarlet or similar that might work efficiently  but I can only use a bash shell script. My Xmllint don't have xpath feature as well.</p>  <p>Is there any workaround to this, to speed up the solution effectively? Any inputs, suggestion will be highly appreciated. Thanks.</p>