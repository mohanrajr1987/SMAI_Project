<p>I've been struggling for days on connecting Java to Riak running in a Docker container. If someone can help me, i'll be very greatfull. </p>  <p>I'm using <strong>RiakClient</strong> as API for JAVA. But i can't figure out how build the RiakClient in the constructor RiakClient(). </p>  <p>Maybe is my container setup to be wrong. Here what i've done: </p>  <p>The docker container expose the port 8098 for http and 8087 for protocol buffer. I've then opened the two ports on VirtualBox, in this way:</p>  <pre><code>-Host Ip: 127.0.0.1 - Host Port 8098 - Guest Port 8098 -Host Ip: 127.0.0.1 - Host Port 8087 - Guest Port 8087 </code></pre>  <p>Then i've run i container with:</p>  <pre><code>docker run -d -p 8098:8098 -p 8087:8087 --name test -h localhost hectcastro/riak. </code></pre>  <p>When i start riak in the container, i get an error like: riak failed to start within 15 seconds... and RiakClient on JAVA doesn't work.</p>  <p>If i run the container without mapping the ports, riak works fine. I really can't figure out what happens.</p>  <p>Any ideas to solve the problem? Thank you!</p>