<p>My dock-compose.yml file</p>  <pre><code> db:   image: postgres   ports:     - "5432" web:   build: .   command: bundle exec rails s -p 3000 -b '0.0.0.0'   volumes:     - .:/myapp   ports:     - "3030:3030"   links:     - db </code></pre>  <p>my Dockerfile </p>  <pre><code>FROM ruby:2.1.4 RUN apt-get update -qq &amp;&amp; apt-get install -y build-essential libpq-dev nodejs RUN mkdir /myapp WORKDIR /myapp ADD Gemfile /myapp/Gemfile RUN bundle install ADD . /myapp # RUN bundle exec rake db:create # RUN bundle exec rake db:migrate # RUN bundle exec rake db:seed </code></pre>  <p>when I run docker-compose up, it creates two containers, one with rails app and one with database. I was of the understanding that each docker file creates one final docker image (and hence one container)and but in this case we end up creating two different containers. Can someone explain it me, how is this happening ?</p>