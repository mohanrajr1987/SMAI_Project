<p>I want to restrict an <code>appuser</code> to only have one <code>lead</code> per 30 days.</p>  <p>I know you can do conditions in the has_many. So I want to do something like this:</p>  <pre><code>class Appuser &lt; ActiveRecord::Base   has_many :leads, -&gt; { where created_at: created_at &gt; leads.last.created_at + 30.days } end </code></pre>  <p>But that doesn't work. Any ideas how to adjust the <code>has_many</code> conditions to ensure a new lead isn't created for at least 30 days?</p>