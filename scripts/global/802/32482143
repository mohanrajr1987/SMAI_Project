<p>I would like to be able to perform regular expression-type searches on Mercurial changesets and display results using <code>log</code>.</p>  <p>I've come up with the following function, which seems to work, but has a number of possible bugs (e.g. <code>$1</code> is in line of text containing the word <code>changeset</code>). </p>  <pre><code>function hgs { hg log `hg log | grep changeset | grep "$1" \     | sed 's/changeset: *//g' | sed 's/:.*$//g' | \     awk '{print " -r " $0}'`; }  export -f hgs </code></pre>  <p>Am I trying to recreate something here that already exists as a well-tested solution elsewhere?</p>