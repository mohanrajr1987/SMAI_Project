<p>I have a hard time to create rewrite rule for a redirect using part of an old URL for WP. Example:</p>  <p>Old URL:</p>  <p><a href="http://www.example.com/news/index.php/2014/11/07/my-blog-post-from-old-site" rel="nofollow">http://www.example.com/news/index.php/2014/11/07/my-blog-post-from-old-site</a></p>  <p>or</p>  <p><a href="http://www.example.com/news/index.php/2014/11/07/my_blog_post_from_old_site" rel="nofollow">http://www.example.com/news/index.php/2014/11/07/my_blog_post_from_old_site</a></p>  <p>New URL:</p>  <p><a href="http://www.example.com/2014/11/07/my-blog-post" rel="nofollow">http://www.example.com/2014/11/07/my-blog-post</a></p>  <p>New URL should to have only dates and first three elements of a permalink after stripping from dashes. </p>  <p>My solution came after combining answers from here <a href="http://stackoverflow.com/a/32852444/1090360">http://stackoverflow.com/a/32852444/1090360</a> and here <a href="http://stackoverflow.com/a/1279758/1090360">http://stackoverflow.com/a/1279758/1090360</a></p>  <p>Somehow part for replacing underscores with dashes creates infinite redirect and a server freezes. If I will remove part with replacing underscores to dashes all the rest works as should.</p>  <p>Here are my .httaccess rules</p>  <pre><code>&lt;IfModule mod_rewrite.c&gt; RewriteEngine On RewriteBase /  #replace underscores with dashes RewriteRule ^(/news/.*/[^/]*?)_([^/]*?_[^/]*)$ $1-$2 [N] RewriteRule ^(/news/.*/[^/]*?)_([^/_]*)$ $1-$2 [R=301,L,NC]  #redirect to new URL RewriteRule ^news/index\.php/([^-]+-[^-]+-[^-]+).* /$1 [R=301,L,NC]  #WP standard stuff RewriteRule ^index\.php$ - [L] RewriteCond %{REQUEST_FILENAME} !-f RewriteCond %{REQUEST_FILENAME} !-d RewriteRule . /index.php [L] &lt;/IfModule&gt; </code></pre>