<p>The goal is for all links like <a href="http://www.example.com/company/[rest-of-the-link]" rel="nofollow">http://www.example.com/company/[rest-of-the-link]</a> to go to <a href="http://www.example.com/company/#[rest-of-the-link]" rel="nofollow">http://www.example.com/company/#[rest-of-the-link]</a>, so basically append a hash symbol after <code>company/</code>. I have achieved it locally with the following rewrite (use NE flag for ensuring hash symbol to work correctly):</p>  <pre><code>RewriteCond %{REQUEST_URI} ^/company/[^#].*$ [NC] RewriteRule ^company/(.*)$ http://www.example.com/company/#$1 [NE,L] </code></pre>  <p>However, when I take the very same .htaccess file and put it in the server root (file structure and database are identical locally and in production), and go to say <a href="http://www.example.com/company/members" rel="nofollow">http://www.example.com/company/members</a>, I get a 404 error. </p>  <p>Moreover, for example the rule</p>  <pre><code>RewriteRule ^company/(.*)$ http://www.example.com/ [NE,L] </code></pre>  <p>would also cause 404 error, while for example</p>  <pre><code>RewriteRule ^company/(.*)$ http://www.google.com/ [NE,L] </code></pre>  <p>works alright and redirects to google.</p>  <p>So I was wondering, what would cause such a very strange behavior, I don't know where to start. Thank you in advance!</p>