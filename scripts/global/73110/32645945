<p>Please help me to solve a problem.  I use NancyFx and for code optimisation i decided to use only OWIN SelfHost  without usage NancyFx SelfHost.  I create windows service where i place code (OnStart function)</p>  <blockquote> <pre><code> _s7Comm = _container.Resolve&lt;IS7Comm&gt;(); // s7 controller class connection  _context = Rhs60Hub.HubContext;          // hub context  // events for send info to hub from s7 _s7Comm.OnErrorEvent += S7CommOnErrorEvent;  ......  var startup = _container.Resolve&lt;Startup&gt;(); // use Unity IoC   Service = WebApp.Start("http://+:8081/", startup.Configuration); </code></pre> </blockquote>  <p>Start service with a help of Windows Service Helper - everythin is working.  Do service stop, code (OnStop function)</p>  <blockquote>   <p>_s7Comm.OnErrorEvent -= S7CommOnErrorEvent;      .....</p>      <p>_s7Comm.Dispose(); // free all tasks in object</p>      <p>Service.Dispose(); // stop nancy</p> </blockquote>  <p>start again - branch with initialise NancyFX does not start but gives exception NullReferenceException. my Start Class for Owin</p>  <blockquote>   <p>app.UseCors(CorsOptions.AllowAll);      app.MapSignalR("/signalr", new HubConfiguration() { EnableDetailedErrors = true, EnableJSONP = true, EnableJavaScriptProxies = true });      app.UseNancy(options => options.Bootstrapper = new Bootstrapper(UnityHelper.GetConfiguredContainer())); &lt;- error here</p> </blockquote>  <p>For test I determine start of NancyFX with a help of package NancyFx SelfHost - all is good, start? stop and restar.  </p>  <p>(OnStart function)</p>  <blockquote>   <p>_s7Comm = _container.Resolve(); // s7 controller class connection     _context = Rhs60Hub.HubContext;          // hub context</p>      <p>// events for send info to hub from s7     _s7Comm.OnErrorEvent += S7CommOnErrorEvent;      ......</p>      <p>_host = new NancyHost(new Uri("<a href="http://localhost:8082" rel="nofollow">http://localhost:8082</a>"), new Bootstrapper(_container));</p>      <p>_host.Start();</p>      <p>var startup = _container.Resolve(); // use Unity IoC </p>      <p>Service = WebApp.Start("<a href="http://+:8081/" rel="nofollow">http://+:8081/</a>", startup.Configuration);</p> </blockquote>  <p>and remove string from Start class with definitions for nancyFx</p>  <p>Where can be a problem with usage host in OWIN?  Code debuf shows that container is initialised and all dependencies are present.  How I can discover with dependence is not present? Show you stack tracing </p>  <blockquote>   <p>>   в Microsoft.Practices.Unity.UnityDefaultBehaviorExtension.SetLifetimeManager(           Type lifetimeType, String name, LifetimeManager lifetimeManager)\r\n<br>           в Microsoft.Practices.Unity.UnityDefaultBehaviorExtension.OnRegisterInstance           (Object sender, RegisterInstanceEventArgs e)\r\n<br>           в System.EventHandler<code>1.Invoke(Object sender, TEventArgs e)\r\n<br>           в Microsoft.Practices.Unity.UnityContainer.RegisterInstance           (Type t, String name, Object instance, LifetimeManager lifetime)\r\n<br>           в Microsoft.Practices.Unity.UnityContainerExtensions.RegisterInstance[TInterface](IUnityContainer container, TInterface instance, LifetimeManager lifetimeManager)\r\n<br>           в Nancy.Bootstrappers.Unity.UnityNancyBootstrapper.RegisterBootstrapperTypes(IUnityContainer applicationContainer)\r\n<br>           в Nancy.Bootstrapper.NancyBootstrapperBase</code>1.Initialise()\r\n<br>           в Nancy.Owin.NancyMiddleware.UseNancy(NancyOptions options)\r\n<br>           в Owin.AppBuilderExtensions.UseNancy(IAppBuilder builder, NancyOptions options)\r\n<br>           в Owin.AppBuilderExtensions.UseNancy(IAppBuilder builder, Action`1 configuration)\r\n<br>           в RHS60SystemService.Startup.Configuration(IAppBuilder app)           в c:\......\Startup.cs:строка 16"    string</p> </blockquote>  <p>string 16 is </p>  <blockquote>   <p>app.UseNancy(options => options.Bootstrapper = new Bootstrapper(UnityHelper.GetConfiguredContainer()));</p> </blockquote>