<p>A follow on for <a href="http://stackoverflow.com/questions/32681551/python-testing-using-mock-library-for-user-input-in-a-loop">this question</a>.</p>  <p>I am accepting user input in a for loop and have written a test case, <code>test_apple_record</code>. In this for loop, it queries a method <code>self.dispatch_requested()</code> ( not shown) which can randomly return True or False. Based on this answer, the code asks user for another input -- where the tray should be dispatched. </p>  <p>I am using the <code>side_effect</code> argument for <code>mock.patch</code>. How to automatically pass the hotel number as the user input using mock?  I still want to continue passing the numbers <code>[5, 6, 7]</code> to the for loop, but now also want to pass in the hotel number based on response by <code>self.dispatch_requested()</code></p>  <p>thank you</p>  <pre><code>class SomeClass(unittest.TestCase):     def apple_counter(self):         apple_record = {}          for i in range(3):             apple_tray = input("enter tray number:")             apple_record[apple_tray]  =  (i+1)*10             print("i=%d, apple_record=%s"%(i, apple_record))              if self.dispath_requested():                 number = input("Enter Hotel number to dispatch this tray:")                 update_hotel_record(number, apple_tray)      def update_hotel_record(self, number, tray):         self.hotel_record[number] = tray      def test_apple_record(self):         with mock.patch('builtins.input', side_effect=[5, 6, 7]):             self.apple_counter() </code></pre>