<p>I have the ability to boot into several partitions from u-boot: currently running kernel/rootfs, last known good kernel/rootfs, and factory reset kernel/rootfs.</p>  <p>If a kernel/rootfs overwrites part of itself and then continuously resets, should it be able to recover?  I feel like hard-coding fallbacks as a script in the bootcmd environment variable is a bit of a hack.  Is there a common approach to this?</p>  <p>Within the bootcmd variable, nesting a script along the lines of:</p>  <pre><code>setenv bootargs "root=/dev/mmcblk0p2 rdinit=/bin/kinit rw single" setenv bootcmd_mmc "ext2load mmc 0:1 0x40000000 my_kernel.itb &amp;&amp; bootm" run bootcmd_mmc  setenv bootargs "root=/dev/mmcblk0p4 rdinit=/bin/kinit rw single" setenv bootcmd_mmc "ext2load mmc 0:3 0x40000000 my_kernel.itb &amp;&amp; bootm" run bootcmd_mmc  setenv bootargs "root=/dev/mmcblk0p6 rdinit=/bin/kinit rw single" setenv bootcmd_mmc "ext2load mmc 0:5 0x40000000 my_kernel.itb &amp;&amp; bootm" run bootcmd_mmc </code></pre>