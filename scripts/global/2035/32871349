<p>I am writing operating system for educational purpose and as a maybe productive system in the future and I want to start it from scratch (I already did) and I really got upset working with hardware, writing simple VGA text mode driver was really nightmare. the problem is that working with hardware is difficult to debug and most hardware are closed source and I am working alone (too much to cope with all available hardware alone)my operating system runs on x86 and maybe x86_64 architecture in the future so I am asking if there is way that can help avoiding working directly with hardware , something like HAL but target independent that provide a interface for communicating with wide range of available hardware  if such thing is available It should be in C or assembly (but not C++) because I want my os to be written in pure C and assembly(for performance favor)</p>