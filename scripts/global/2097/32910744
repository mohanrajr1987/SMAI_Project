<p>I'm trying to iterate through a map and remove certain elements to construct a controlled vocabulary. Here is my code: </p>  <pre><code>    public static Map&lt;String, Integer&gt; controlVocab(Map&lt;String, Integer&gt; docf){     Set&lt;String&gt; set = docf.keySet();     Iterator&lt;String&gt; itr = set.iterator();     for (Map.Entry &lt;String, Integer&gt; entry : docf.entrySet())     {         if(entry.getValue()&lt;50){             docf.remove(entry.getKey());         }     }     return docf; } </code></pre>  <p>But I keep getting this error:     Exception in thread "main" java.util.ConcurrentModificationException     at java.util.HashMap$HashIterator.nextNode(HashMap.java:1429)     at java.util.HashMap$EntryIterator.next(HashMap.java:1463)     at java.util.HashMap$EntryIterator.next(HashMap.java:1461)     at org.tartarus.snowball.TestApp.controlVocab(TestApp.java:114)     at org.tartarus.snowball.TestApp.main(TestApp.java:619)</p>  <p>Does this make sense?</p>