<p>I have a PHP file serving image files. I looks like this:</p>  <pre><code>$dir = 'directory/containing/files'; $file = getFileInfoFromDatabase(filter_input(INPUT_GET, 'article'));  header("Content-Type: $file-&gt;type; name=\"$file-&gt;filename\""); header("Name: \"$file-&gt;filename\""); header("Content-Disposition: inline; filename=\"$file-&gt;filename\""); header("Content-Length: $file-&gt;size");  die(readfile($dir.'/'.$file-&gt;id)); </code></pre>  <p>An url calling this file looks like this: <code>www.example.com/article/image.php?article=4</code>. <code>4</code> is the id of the article, which is sent to the database to get information stored there about the image file associated with that article.</p>  <p>This works well. When loading the url, I get the image and some response headers looking like this:</p>  <pre><code>Cache-Control:private, max-age=10800, pre-check=10800 Connection:Keep-Alive Content-Disposition:inline; filename="filename.jpg" Content-Length:37308 Content-Type:image/jpeg; name="filename.jpg" Date:Wed, 30 Sep 2015 08:42:26 GMT Keep-Alive:timeout=5, max=75 Last-Modified:Wed, 30 Sep 2015 08:32:19 GMT Name:"filename.jpg" Server:Apache </code></pre>  <p>The next time I try loading the url, the request contains the following header:</p>  <pre><code>If-Modified-Since:Wed, 30 Sep 2015 08:32:19 GMT </code></pre>  <p>And I get a <code>304 Not Modified</code> response, which is fine.</p>  <p>However, if I update the database to point to a different file, I get the same <code>304 Not Modified</code> response! I have to modify the php file serving the image file to get the new version of the image file.</p>  <p>How can I solve this? Do I have to turn off caching for this file? Or can I change the <code>Last-Modified</code> header to be that of the image file instead of the php file in some way?</p>