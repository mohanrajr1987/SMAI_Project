<p>I have e-commerce site, during checkout process it automatically create account for anonymous user. I have added following two rules to achieve this <strong><em>Assign an anonymous order to a pre-existing user</em></strong> and <strong><em>Create a new account for an anonymous order</em></strong>. What I want is instead of creating account i want the user to automatically login during checkout </p>  <p>I have tried <a href="https://www.drupal.org/project/commerce_checkout_complete_registration" rel="nofollow">Commerce Checkout Complete Registration</a>, but I am facing some error, when user enter the email address and moves to next page the site goes maintenance mode. When I checked the dblog it throws the exception </p>  <pre><code>EntityMetadataWrapperException: Unable to set the data property uid as the parent data structure is not set. in EntityStructureWrapper-&gt;setProperty() (line 473 of /home/knackforge/Public/dropts/sites/all/modules/contrib/entity/includes/entity.wrapper.inc). </code></pre>  <p>When i refresh the page user is automatically logged in.  Is there any way resolve this error. Thank you</p>