<p>I have two tables:</p>  <p>1)</p>  <pre><code>CREATE TABLE IF NOT EXISTS book(     id INT NOT NULL AUTO_INCREMENT PRIMARY KEY,     class__id INT,     book_order INT,     title VARCHAR(255),     content TEXT(65535) ) ENGINE=MyISAM; </code></pre>  <p>2)</p>  <pre><code>CREATE TABLE IF NOT EXISTS book_image(     id INT NOT NULL AUTO_INCREMENT PRIMARY KEY,     class__id INT,     type VARCHAR(12),     type__id INT,     image_order INT,     url VARCHAR(50) ) ENGINE=MyISAM; </code></pre>  <p>I need to get a list of books for a given <code>book.class__id</code>, and all images for each of those books with <code>book_image.type = 'book'</code> and <code>book_image.type__id = book.id</code>. Furthermore, the book_images need to be ordered by the <code>image_order</code> column, separately for each book.</p>  <p>I need the resulting object to look somewhat like this:</p>  <pre><code>object(stdClass) 'books' =&gt; array (size=2)     0 =&gt;          object(stdClass)         'id' =&gt; 13         'class__id' =&gt; 55         'book_order' =&gt; 1         'title' =&gt; xyz         'content' =&gt; xyz         'book_images' =&gt; array (size=2)             0 =&gt;                 object(stdClass)                 'id' =&gt; 529                 'class__id' =&gt; 55                 'type' =&gt; book                 'type__id' =&gt; 13                 'image_order' =&gt; 1                 'url' =&gt; xyz             1 =&gt;                 object(stdClass)                 'id' =&gt; 27                 'class__id' =&gt; 55                 'type' =&gt; book                 'type__id' =&gt; 13                 'image_order' =&gt; 2                 'url' =&gt; xyz     1 =&gt;          object(stdClass)         'id' =&gt; 21         'class__id' =&gt; 55         'book_order' =&gt; 2         'title' =&gt; xyz         'content' =&gt; xyz         'book_images' =&gt; array (size=1)             0 =&gt;                 object(stdClass)                 'id' =&gt; 420                 'class__id' =&gt; 55                 'type' =&gt; book                 'type__id' =&gt; 21                 'image_order' =&gt; 1                 'url' =&gt; xyz </code></pre>  <p>I'd like to avoid a convoluted foreach() loop with mutliple queries one after the other for each book... I tried various types of joins and select subqueries to no avail. </p>  <p>How do I do this with a single query?</p>