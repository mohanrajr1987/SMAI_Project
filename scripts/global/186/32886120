<p>I have this error, when I'am testing my controller</p>  <pre><code>ActionView::Template::Error: undefined method `full_name' for nil:NilClass </code></pre>  <p>My tests:</p>  <pre><code>class PostsControllerTest &lt; ActionController::TestCase include Devise::TestHelpers  setup do     @post = Post.create!(title: "my title", content: "bla bla bla")     user = User.create!(email: "example@mail.com", first_name: "name", last_name: "surename",                     password: "password", password_confirmation: "password")     sign_in user end  test "should show post" do     get :show, id: @post     assert_response :success end </code></pre>  <p>full_name method in model:</p>  <pre><code>def full_name   "#{first_name} #{last_name}" end </code></pre>  <p>and my view:</p>  <pre><code>Wrote by   = @post.user.full_name </code></pre>  <p>Thanks for help</p>