<p>I have a class which has a method that makes use of PHP's global <code>file_get_contents</code> function. I need to test the method on the class, without actually calling the global function.</p>  <p>I know that I could use namespaces to override what gets returned from <code>file_get_contents</code>, however my tests are in a separate namespace already so I cannot simply match namespaces with the class.</p>  <p>Here's some code:</p>  <h2>The class</h2>  <pre><code>&lt;?php namespace MyVendor\MyProject;  class MyClass {  private $someProperty;  public function __construct($override = '') {     $this-&gt;someProperty = $override; }  public function myMethod() {     $request = 'http://domain.com';     $response = $this-&gt;someMethodUsingGlobals($request);     // Do something with the response.. } public function someMethodUsingGlobals($url) {     return json_decode(file_get_contents($url),true)['results'][0]; }  } </code></pre>  <h2>The test</h2>  <pre><code>&lt;?php namespace MyProjectTests;  public function test_it_does_something_with_the_response() {     $sut = new MyClass();      $response = $sut-&gt;myMethod();      $this-&gt;assertEquals('Some expectation', $response); } </code></pre>  <p>I need to mock the <code>someMethodUsingGlobals()</code> method on the class, but not entirely sure how to go about this.</p>