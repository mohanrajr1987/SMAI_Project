<p>I'm trying to create a docker image that will run a command for the users. The command will need a number of variable entries, specific for the person running it. I tried simply creating it with the variables and, because the command couldn't be run upon build, the process wouldn't complete. I then tried using the '${varname:-possible value}, and I got a little further.</p>  <p>I'm guessing part of the problem may be that some of the variables are URLs, since the folder name, also a variable, is being accepted. I did try adding escape characters ('\') to all the special characters in the URL and all that did was get me a 'bad substitution' error instead.</p>  <p>What then, should I change in my syntax?</p>  <pre><code>RUN /usr/bin/java -jar export.jar calendar \     --output /var/www \     --format public \     --restUri ${one_uri:-http://my.site:8080/subdir/restservice} \     --daysForward ${days_forward:-30} </code></pre>