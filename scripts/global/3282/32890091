<p>I am working on chat app where i am using openfire to store messages and xmmpframework for connection. When i login first time i can authenticate, send and receive messages but when i terminate app and reconnect again then i am able to authenticate but i am not able to fetch messages.. I am using following code to fetch data from openfire..</p>  <pre><code>   XMPPJID *jid = [XMPPJID jidWithString:[NSString stringWithFormat:@"%@%@",[[NSUserDefaults standardUserDefaults]valueForKey:@"user_id"],DomainName]];     NSFetchRequest *request = [[NSFetchRequest alloc]init];     NSManagedObjectContext *context=[[AppDel xmppMessageArchivingCoreDataStorage] mainThreadManagedObjectContext];      NSEntityDescription *messageEntity = [NSEntityDescription entityForName:@"XMPPMessageArchiving_Contact_CoreDataObject" inManagedObjectContext:context];      [request setEntity:messageEntity];     [request setReturnsObjectsAsFaults:NO];     NSString *predicateFrmt = @"streamBareJidStr == %@";     NSPredicate *predicateName = [NSPredicate predicateWithFormat:predicateFrmt,jid];     request.predicate = predicateName;     // NSSortDescriptor *sortDescriptor = [NSSortDescriptor sortDescriptorWithKey:@"mostRecentMessageTimestamp" ascending:NO];    // request.sortDescriptors = [NSArray arrayWithObject:sortDescriptor];     NSError *error = nil;     NSArray *friends1 = [context executeFetchRequest:request error:&amp;error];     _friendData=[NSMutableArray arrayWithArray:friends1];     NSLog(@"friend data : %@", _friendData);  Anybody is having idea ? why it is happening here ? </code></pre>