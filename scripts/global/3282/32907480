<p>Following is  a code snippet from chat.java class of Smack library. In some cases the number of listeners is zero and my chat wont work. But when the listener is created the chat works.  I am unable to understand under which conditions the listeners are created successfully, can anyone suggest me the reason.</p>  <p>Please find the code below:</p>  <pre><code>void deliver(Message message) {         // Because the collector and listeners are expecting a thread ID with         // a specific value, set the thread ID on the message even though it         // probably never had one.         message.setThread(threadID);          for (MessageListener listener : listeners) {             listener.processMessage(this, message);         }     } </code></pre>  <p>I would like to know, under which scenarios the message listeners are created successfully. I have been stuck with debugging.  If anyone has encountered this situation please reply. </p>