<p>Sometimes sent messages in my chat application are coming back.</p>  <p>Message type:chat Ejabberd-15.07</p>  <p>Here is the Error.</p>  <pre><code>&lt;message xmlns="jabber:client" from="user2@local-mbp"  to="user1@local-mbp/27165765321442393248102225"  type="error"&gt;&lt;body&gt;Hey&lt;/body&gt;&lt;error code="503"  type="cancel"&gt;&lt;service-unavailable  xmlns="urn:ietf:params:xml:ns:xmpp-stanzas"/&gt;&lt;/error&gt;&lt;/message&gt; </code></pre>  <p>When this happens i can see user1 offline in my app but in ejabberd (web admin/virtual hosts) the user1 is online.i have mod_offline enabled in the configuration.</p>  <pre><code>mod_offline:  access_max_user_messages: max_user_offline_messages  ## Maximum number of offline messages that users can have: max_user_offline_messages:  admin: 5000 all: 100 </code></pre>  <p>No idea what is going on here but it seems like the problem is at server side.Could anyone please help me with this or guide me in the right direction.</p>