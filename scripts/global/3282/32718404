<p>I'm making one xmpp client and I have a lot doubts in extensions .. </p>  <p>I did need get a list of old messages with one user, so .. I'm using the QXmppArchiveManager class for that. So I make one class like that:</p>  <pre><code>...  class QXmppArchiveManager; class MessageController : public QXmppClient { ...  private:     QNetworkAccessManager *nam_;     QXmppClient *xmppClient_;     QXmppArchiveManager *archiveMng_;     QDateTime m_startDate;     QDateTime m_endDate;  protected slots:     virtual void onConnected();     virtual void onMessageReceived(const QXmppMessage &amp;);     virtual void archiveListReceived(const QList&lt;QXmppArchiveChat&gt; &amp;chats, const QXmppResultSetReply &amp;rsmReply); } </code></pre>  <p>And implements</p>  <pre><code>... void MessageController::onConnected() //before client connects listener... {      QXmppResultSetQuery rsmQuery;     rsmQuery.setMax(0);     m_startDate = QDateTime::currentDateTime().addDays(-201);     m_endDate = QDateTime::currentDateTime();      archiveMng_-&gt;listCollections("", m_startDate, m_endDate, rsmQuery);  }  void MessageController::connect() {      xmppClient_ = new QXmppClient();     QObject::connect( xmppClient_, SIGNAL( connected() ), this, SLOT( onConnected() ) );     QObject::connect( xmppClient_, SIGNAL( messageReceived( QXmppMessage ) ), this, SLOT( onMessageReceived( QXmppMessage ) ) );      archiveMng_ = new QXmppArchiveManager;     xmppClient_-&gt;addExtension(archiveMng_);       QObject::connect(archiveMng_, SIGNAL(archiveChatReceived(QXmppArchiveChat, QXmppResultSetReply)),                     SLOT(archiveChatReceived(QXmppArchiveChat, QXmppResultSetReply)));       QObject::connect(archiveMng_, SIGNAL(archiveListReceived(QList&lt;QXmppArchiveChat&gt;, QXmppResultSetReply)),                 SLOT(archiveListReceived(QList&lt;QXmppArchiveChat&gt;, QXmppResultSetReply)));       xmppClient_-&gt;logger()-&gt;setLoggingType( QXmppLogger::StdoutLogging );        QXmppConfiguration config;      config.setDomain("(censored)");     config.setHost("(censored)");     config.setPort(5222);     config.setUser((censored));     config.setPassword((censored));     config.setResource("Android-Client");      xmppClient_-&gt;connectToServer( config );  }  void MessageController::archiveChatReceived(const QXmppArchiveChat &amp;chat, const QXmppResultSetReply &amp;rsmReply) {     qDebug() &lt;&lt; "archiveChatReceived"; }  void MessageController::archiveListReceived(const QList&lt;QXmppArchiveChat&gt; &amp;chats, const QXmppResultSetReply &amp;rsmReply) {     qDebug() &lt;&lt; "archiveListReceived"; } </code></pre>  <p>The problem is ... this code not called this listeners, in this case not call "archiveListReceived".</p>  <p>How I can fix that ?</p>  <p>Thanks</p>