<p>I am trying to join a MultiUserChat using Smack on Android. Currently I can chat 1-on-1 perfectly fine, and I am connected to the server as I show online. I followed the examples provided <a href="https://www.igniterealtime.org/builds/smack/docs/latest/documentation/extensions/muc.html" rel="nofollow">here</a>.</p>  <p>I have the following code to join a <code>MultiUserChat</code> (MUC).</p>  <pre><code>final XMPPTCPConnectionConfiguration config = XMPPTCPConnectionConfiguration.builder()         .setUsernameAndPassword(user.getUsername(), user.getJabberPassword())         .setServiceName("app.buur.nu")         .setHost("app.buur.nu")         .setPort(5222)         .build();  AbstractXMPPConnection connection = new XMPPTCPConnection(config);  String room = "testroom"; MultiUserChatManager manager = MultiUserChatManager.getInstanceFor(connection); MultiUserChat muc = manager.getMultiUserChat(room + "@groups.app.buur.nu");  try {     muc.join(user.getUsername(), null, null, connection.getPacketReplyTimeout()); } catch (SmackException.NoResponseException e) {     e.printStackTrace(); } catch (XMPPException.XMPPErrorException e) {     e.printStackTrace(); } catch (SmackException.NotConnectedException e) {     e.printStackTrace(); } </code></pre>  <p>But this gives me  <code>org.jivesoftware.smack.SmackException$NoResponseException: No response received within reply timeout. Timeout was 5000ms (~5s). Used filter: AndFilter: (FromMatchesFilter (full): testroom@groups.app.buur.nu/test, StanzaTypeFilter: org.jivesoftware.smack.packet.Presence). </code></p>  <p>I tried increasing the timeout to 10000 ms, but I still get a timeout. What could be wrong here? Creating 1-on-1 chats works fine and <code>connection.isConnected())</code> returns True...</p>  <hr>  <p>So it turns out that I get an error</p>  <p><code>&lt;presence to="app.buur.nu/7c65be6" id="lgcSp-4" type="error"&gt;&lt;x xmlns="http://jabber.org/protocol/muc"/&gt;&lt;c xmlns="http://jabber.org/protocol/caps" hash="sha-1" node="http://www.igniterealtime.org/projects/smack" ver="os2Kusj3WEOivn5n4iFr/ZEO8ls="/&gt;&lt;error code="401" type="auth"&gt;&lt;not-authorized xmlns="urn:ietf:params:xml:ns:xmpp-stanzas"/&gt;&lt;/error&gt;&lt;/presence&gt;</code></p>  <p>Basically, the authentication is not completed when I am attempting to join the room. Can a listener be added to receive an update when the authentication has been completed? I saw <a href="https://www.igniterealtime.org/builds/smack/docs/latest/javadoc/org/jivesoftware/smack/SASLAuthentication.html#authenticate%28java.lang.String,%20javax.security.auth.callback.CallbackHandler%29" rel="nofollow">https://www.igniterealtime.org/builds/smack/docs/latest/javadoc/org/jivesoftware/smack/SASLAuthentication.html#authenticate%28java.lang.String,%20javax.security.auth.callback.CallbackHandler%29</a> but implementing my own authentication mechanism seems a little overkill...</p>  <p>Isn't there a <code>onAuthenticationCompletedListener</code> or something?</p>