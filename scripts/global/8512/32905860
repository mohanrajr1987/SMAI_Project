<p>I need to create a set of matrices from the file below, the lines/rows with the same value of Z will go in a matrix together.</p>  <p>Below is a shortened version of my txt file:</p>  <pre><code>X  Y    Z -1 10   0 1  20   5 2  15   10 2  50   10 2  90   10 3  15   11 4  50   11 5  90   11 6  13   14 7  50   14 8  70   14 8  95   14 8  75   14 </code></pre>  <p>So for example my first matrix will be </p>  <pre><code> [-1, 10, 0],  </code></pre>  <p>my second one will be </p>  <pre><code>[1, 20, 5],  </code></pre>  <p>my third will be</p>  <pre><code>([2, 15, 10],  [2, 50, 10],  [2, 90, 10]) etc </code></pre>  <p>I've looked at a few questions related to this but nothing seems to be quite right. </p>  <p>I started by making each column an array. I was thinking a for loop might work well. So far I have </p>  <pre><code>f = open("data.txt", "r") header1 = f.readline() for line in f:     line = line.strip()     columns = line.split()     x = columns[0]     y = columns[1]     z = columns[2] i = line in f z.old = line(i-1,4) i=1 for line in f:     f.readline(i)     if z(0) == [i,3]:        line(i) = matrix[i,:]     else z(0) != [i,3]:          store line(i) as M          continue     i = i+1 </code></pre>  <p>however, I'm getting 'invalid syntax' for line, </p>  <pre><code>else z(0) != line(4): </code></pre>  <p>By this else clause, I mean that <code>if z(0)/(z initial) is not equal to line(4)</code> then this line will then get stored as the first line of the next matrix we will check under this code.</p>  <p>However, I'm not sure how well this would work.</p>  <p>Any help would be greatly appreciated!</p>