<p>I have a <code>CustomAuthorizeAttribute</code>class implemented like this.</p>  <pre><code>Public Overrides Sub OnAuthorization(actionContext As HttpActionContext)     If Authorize(actionContext) Then         Return     End If     HandleUnauthorizedRequest(actionContext) End Sub  Protected Overrides Sub HandleUnauthorizedRequest(actionContext As HttpActionContext)     Dim challengeMessage = New HttpResponseMessage(HttpStatusCode.Unauthorized)     challengeMessage.Headers.Add("WWW-Authenticate", "Basic")     Throw New HttpResponseException(challengeMessage)  End Sub  Private Function Authorize(actionContext As HttpActionContext) As Boolean     Dim isAuthorized = False     Try         'make it true if all goes validations go well         Return True     Catch generatedExceptionName As Exception     End Try     Return isAuthorized End Function </code></pre>  <p>When authorization fails, it gets hit on <code>Throw New HttpResponseException(challengeMessage)</code> and never enters the service endpoint as expected. The problem is that my <code>HTTPResponse=200 OK</code> when I call the API instead of <code>403 UnAuthorized</code>. What is wrong with my code?</p>  <p>Update:</p>  <pre><code>&lt;AttributeUsage(AttributeTargets.Class Or AttributeTargets.Method, AllowMultiple:=False, Inherited:=True)&gt; Public Class CustomAuthorizeAttribute     Inherits AuthorizeAttribute </code></pre>