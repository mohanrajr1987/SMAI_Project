<p>I want to create a dynamic camemebrt in which i will use an sql code to get the percentage. I have a table in which i have : </p>  <pre><code>  Montant  |  libelle | Bureau   |   20     |    A1    |   B1    | |   30     |    A2    |   B2    | |   70     |    A1    |   B2    | |   80     |    A2    |   B1    | </code></pre>  <hr>  <p>In my Camembert I have a filter from which I will choose the value of the "Bureau" column :</p>  <p>So when I choose <code>B1</code> value I get a camember  with : <br> for Bureau 1 : 20% A1 and 80% A2  </p>  <p>And when I choose "all bureau" to get a statisitc of all bureau i get : <br> For all bureau :  50% A1 and 50% a2.</p>  <p>I'm using this query :  </p>  <pre><code>select (sum(MONTANT) / (select  sum(MONTANT) from table1))  from table1  where id_bureau= "the value of filtre"  group by libelle; </code></pre>  <p>It's work when I choose all bureau from the filter , but when I want to show the percentage of only one "bureau" I got a wrong values.</p>