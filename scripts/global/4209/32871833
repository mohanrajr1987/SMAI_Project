<p>This is my index page:</p>  <pre class="lang-xml prettyprint-override"><code> &lt;%@ page language="java" contentType="text/html; charset=ISO-8859-1"      pageEncoding="ISO-8859-1"%&gt;  &lt;%@ taglib prefix="s" uri="/struts-tags" %&gt;  &lt;html&gt;  &lt;head&gt;  &lt;meta http-equiv="SContent-Type" content="text/html; charset=ISO-8859-1"&gt;  &lt;title&gt;Insert title here&lt;/title&gt;  &lt;/head&gt;  &lt;body&gt;  &lt;s:form action="clickupload" method="post" enctype="multipart/form-data" &gt;  &lt;s:file name="myFile"&gt;&lt;/s:file&gt;  &lt;s:submit value="Upload"/&gt;  &lt;/s:form&gt;   &lt;/body&gt;  &lt;/html&gt; </code></pre>  <p>struts.xml</p>  <pre class="lang-xml prettyprint-override"><code> &lt;?xml version="1.0" encoding="UTF-8"?&gt;  &lt;!DOCTYPE struts PUBLIC     "-//Apache Software Foundation//DTD Struts Configuration 2.3//EN"     "http://struts.apache.org/dtds/struts-2.3.dtd"&gt;  &lt;struts&gt;    &lt;include file="struts-default.xml"/&gt;    &lt;constant name="struts.enable.DynamicMethodInvocation" value="false" /&gt;    &lt;constant name="struts.devMode" value="true" /&gt;    &lt;package name="uploadSnew" namespace="/" extends="struts-default"&gt;      &lt;action name="clickupload" class="tryupload.UploadNewFile" method="execute"&gt;          &lt;interceptor-ref name="basicStack"/&gt;         &lt;interceptor-ref name="fileUpload"&gt;             &lt;param name="maximumSize"&gt;2048000&lt;/param&gt;             &lt;param name="allowedTypes"&gt;image/jpeg,image/gif&lt;/param &gt;             &lt;/interceptor-ref&gt;              &lt;result name="success" &gt;/success.jsp&lt;/result&gt;              &lt;result name="error"&gt;/error.jsp&lt;/result&gt;              &lt;result name="input"&gt;/index.jsp&lt;/result&gt;      &lt;/action&gt;    &lt;/package&gt;  &lt;/struts&gt; </code></pre>  <p>When I upload a file and submit it shows:</p>  <pre><code>     Struts Problem Report      Struts has detected an unhandled exception:        Messages:        File: java/io/File.java       Line number: 291         -------------------------------------------------------------------------------- </code></pre>  <p>Stacktraces</p>  <pre><code>     java.lang.NullPointerException           java.io.File.&lt;init&gt;(File.java:291)          tryupload.UploadNewFile.execute(UploadNewFile.java:32)          sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)          sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)          sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)          java.lang.reflect.Method.invoke(Method.java:606)          ognl.OgnlRuntime.invokeMethod(OgnlRuntime.java:870)          ognl.OgnlRuntime.callAppropriateMethod(OgnlRuntime.java:1293)          ognl.ObjectMethodAccessor.callMethod(ObjectMethodAccessor.java:68)          com.opensymphony.xwork2.ognl.accessor.XWorkMethodAccessor.callMethodWithDebugInfo(XWorkMethodAccessor.java:117)          com.opensymphony.xwork2.ognl.accessor.XWorkMethodAccessor.callMethod(XWorkMethodAccessor.java:108)          ognl.OgnlRuntime.callMethod(OgnlRuntime.java:1369)          ognl.ASTMethod.getValueBody(ASTMethod.java:90)          ognl.SimpleNode.evaluateGetValueBody(SimpleNode.java:212)          ognl.SimpleNode.getValue(SimpleNode.java:258)          ognl.Ognl.getValue(Ognl.java:494)          ognl.Ognl.getValue(Ognl.java:458)          com.opensymphony.xwork2.ognl.OgnlUtil$2.execute(OgnlUtil.java:309)          com.opensymphony.xwork2.ognl.OgnlUtil.compileAndExecute(OgnlUtil.java:340)          com.opensymphony.xwork2.ognl.OgnlUtil.getValue(OgnlUtil.java:307)          com.opensymphony.xwork2.DefaultActionInvocation.invokeAction(DefaultActionInvocation.java:423)          com.opensymphony.xwork2.DefaultActionInvocation.invokeActionOnly(DefaultActionInvocation.java:287)          com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:250)          org.apache.struts2.interceptor.FileUploadInterceptor.intercept(FileUploadInterceptor.java:326)          com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:244)          org.apache.struts2.interceptor.DeprecationInterceptor.intercept(DeprecationInterceptor.java:41)          com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:244)          com.opensymphony.xwork2.interceptor.ConversionErrorInterceptor.intercept(ConversionErrorInterceptor.java:138)          com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:244)          com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:229)          com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)          com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:244)          com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:229)          com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)          com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:244)          org.apache.struts2.interceptor.MultiselectInterceptor.intercept(MultiselectInterceptor.java:73)          com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:244)          org.apache.struts2.interceptor.DateTextFieldInterceptor.intercept(DateTextFieldInterceptor.java:125)          com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:244)          org.apache.struts2.interceptor.CheckboxInterceptor.intercept(CheckboxInterceptor.java:91)          com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:244)          com.opensymphony.xwork2.interceptor.PrepareInterceptor.doIntercept(PrepareInterceptor.java:171)          com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)          com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:244)          org.apache.struts2.interceptor.ServletConfigInterceptor.intercept(ServletConfigInterceptor.java:164)          com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:244)          com.opensymphony.xwork2.interceptor.ExceptionMappingInterceptor.intercept(ExceptionMappingInterceptor.java:189)          com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:244)          org.apache.struts2.impl.StrutsActionProxy.execute(StrutsActionProxy.java:54)          org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:564)          org.apache.struts2.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:434)          org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239)          org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)          org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:219)          org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:106)          org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)          org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:142)          org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)          org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:617)          org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:88)          org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:518)          org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1091)          org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:668)          org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1527)          org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1484)          java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)          java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)          org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)          java.lang.Thread.run(Thread.java:724)          You are seeing this page because development mode is enabled. Development mode, or devMode, enables extra debugging behaviors and reports to assist developers. To disable this mode, set:        struts.devMode=false       in your WEB-INF/classes/struts.properties file.        My console:       Sep 30, 2015 10:16:29 PM org.apache.struts2.interceptor.FileUploadInterceptor warn      WARNING: Content-Type not allowed: myFile "FiveFingerDeathPunch.jpg" "upload_1a24317f_cf06_45b2_be8d_1b56d56eab1e_00000000.tmp" image/pjpeg      Server path:E:\.metadata\.plugins\org.eclipse.wst.server.core\tmp0\wtpwebapps\tryupload\      Filename:null </code></pre>  <p>UploadNewFile- My action class </p>  <pre><code>package tryupload;  import java.io.File; import java.io.IOException;  import javax.servlet.http.HttpServletRequest;  import org.apache.commons.io.FileUtils; import com.opensymphony.xwork2.ActionSupport; import org.apache.struts2.interceptor.ServletRequestAware;     public class UploadNewFile extends ActionSupport implements ServletRequestAware {     /**      *       */      private static final long serialVersionUID = 1L;     private HttpServletRequest servletRequest;      private File myFile;     private String myFileContentType;     private String myFileFileName;      public File getMyFile() {         return myFile;         }     public void setMyFile(File myFile) {         this.myFile = myFile;         }     public String getMyFileFileName() {         return myFileFileName;         }         public void setMyFileFileName(String myFileFileName) {         this.myFileFileName = myFileFileName;          }     public String getMyFileContentType() {         return myFileContentType;         }     public void setMyFileContentType(String myFileContentType) {         this.myFileContentType = myFileContentType;         }       public String execute() throws Exception {          /*File saveFilePath = new File("WebContent/images" +myFileFileName);         System.out.println("Filename:"+myFileFileName); */     try {             String filePath = servletRequest.getSession().getServletContext().getRealPath("/");             System.out.println("Server path:" + filePath);           System.out.println("Filename:"+myFileFileName);            File fileToCreate = new File(filePath, this.myFileFileName);               FileUtils.copyFile(this.myFile, fileToCreate);         }          catch (IOException ex) {             System.out.println("Couldn't save file: " + ex.getMessage());             ex.getStackTrace();             addActionError(ex.getMessage());                return ERROR;         }         return SUCCESS;     }      @Override     public void setServletRequest(HttpServletRequest servletRequest) {         // TODO Auto-generated method stub         this.servletRequest = servletRequest;        }  } </code></pre>