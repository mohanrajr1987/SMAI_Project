<p>Here is my code where i am trying to take user credentials and pulling the data from database(mongoDB) to validate it. When i am correct user id and password it is working fine. On giving either incorrect id or password, it should go to error page but i am getting <strong>'NoneType' object is not subscriptable</strong>. How do i fix it? </p>  <pre><code>def user_authentication(username, password): connection = pymongo.MongoClient("mongodb://localhost") db = connection.users users = db.users query = {'username': username, 'password': password} auth_token = False doc = None try:     doc = users.find_one(query) except Exception as e:     print("Unexpected error:", type(e), e) name = doc['username'] pwd = doc['password'] print(name, pwd) if str(name) == username and str(pwd) == password:     auth_token = True else:     auth_token = False return auth_token   @csrf_exempt def signin(request): print(request.method.upper()) username = request.POST.get('username') password = request.POST.get('password') auth_token = user_authentication(username, password) print(auth_token) if auth_token:     print("coming to if")     return render(request, 'trends/userhome.html', {'user': username}) else:     print("Coming to else")     return render(request, 'trends/error.html', {'message': "Invalid credentials. try again."}) </code></pre>  <p>Below is the error that i get.</p>  <blockquote>   <p>Request Method:   POST</p>      <p>Request URL:  <a href="http://127.0.0.1:9098/trends/signin" rel="nofollow">http://127.0.0.1:9098/trends/signin</a></p>      <p>Django Version:   1.8.3</p>      <p>Exception Type:   TypeError</p>      <p>Exception Value:  'NoneType' object is not subscriptable</p> </blockquote>