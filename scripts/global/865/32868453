<p>So, I've had problems with adding buttons through coding. This is the error message I get from logcat when I get to the activity which is supposed to do the things:</p>  <pre><code>09-30 09:36:51.591: E/AndroidRuntime(14956): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.gameproj/com.example.gameproj.MapMain}: java.lang.NullPointerException </code></pre>  <p>Here's the code which seems to be relevant:</p>  <pre><code>&lt;code&gt;         map = new Button[loadedMap.getX()][loadedMap.getY()];         LinearLayout layout = (LinearLayout) findViewById(R.id.mapything);         LinearLayout.LayoutParams coord;         for (int i = 0; i &lt; map.length; i++){             for (int j = 0; j &lt; map[i].length; i++){                 map[i][j] = new Button(this);                 coord = new LayoutParams(16*i, 75+16*j);                 map[i][j].setLayoutParams(coord);                 map[i][j].setGravity(Gravity.CENTER_HORIZONTAL);                 layout.addView(map[i][j]);             }         } &lt;/code&gt; </code></pre>  <p>From what I could debug, the error is around the layout.addView(map[i][j]) line, but I've been unable to find out how to get it to work.</p>