<p>I have a QAbstractItemModel (a tree) that gives me valid key=value pairings:</p>  <pre><code>+ key1     + val1     + val2 + key2     + val3     + val4     + val5 </code></pre>  <p>I further have a QTableView showing the key=value pairs assigned to an object in my app. E.g.:</p>  <pre><code>| Key  | value | +------+-------+ | key1 | val1  | </code></pre>  <p>The QTableView has a custom context menu to add new key=value pairs to the object. Is there (or has anyone build) something to generate a menu structure from an QAbstractItemModel?</p>  <p>Bonus points for:</p>  <ol> <li><p>displaying a checkmark before keys and values the object already has. I think this could use a proxy model that sets the checkmark role so the menu factory only has to use that.</p></li> <li><p>ghosting unselectable items</p></li> </ol>  <p>Note: I'm looking for python code</p>