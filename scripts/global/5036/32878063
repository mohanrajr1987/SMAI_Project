<p>I get different results for the following program, depending on whether I have optimizations enabled or not. </p>  <p>I was expecting to see 10 printed out, but when I have optimizations enabled, I get random values printed.</p>  <p>This happens on both GCC and Clang. It looks like the constructor is getting optimized out, because if I add an output statement in the constructor, I get the expected results even with optimization. Could somebody please explain what I am missing? Is it undefined behavior?</p>  <pre><code>#include &lt;iostream&gt;  using namespace std;  struct wrapper {     const int &amp;ref;     wrapper(const char &amp;t):ref(t)     {//cout&lt;&lt;"";  If I un-comment this statement, I get the expected result     } };   int main() {     int a=10;     char c=a;     cout&lt;&lt;wrapper(c).ref&lt;&lt;endl;      return 0; } </code></pre>