<p>I've spend days now, trying to get a basic push notification test working, without any success.(I got the same thing working for android in half an hour or so.)</p>  <p>Things i've tried(without mac). 0) create public private key using linux/open ssl 1) create push certificate signing request 2) send it to apple for signing 3) download the push_certificate from apple, and convert it to .pem using private key.</p>  <p>4) create another private/public key pair 5) create self signed ssl certificate for apache2/php https.</p>  <p>Now, the confusing part is...in the code below, which certificate goes where. Does my server even needs an https connection at all? Can it be self signed.</p>  <p>My simple demo looks like this.(with some vars cropped out for simplicity)</p>  <pre><code>$ctx = stream_context_create(); stream_context_set_option($ctx, 'ssl', 'passphrase', 'my_appache2_pass'); stream_context_set_option($ctx, "ssl", "local_cert", '/etc/apache2/ssl/mywebsite.com.pem'); stream_context_set_option($ctx, "ssl", "allow_self_signed", true); stream_context_set_option($ctx, "ssl", "verify_peer", true); stream_context_set_option($ctx, "ssl", "cafile", '/etc/apache2/ssl/Entrust.net-Certification-Authority-2048.pem');   $fp = stream_socket_client("tls://gateway.sandbox.push.apple.com:2195", $errno, $errstr, 60, STREAM_CLIENT_CONNECT|STREAM_CLIENT_PERSISTENT, $ctx);  //errors i keep getting  [Sat Oct 03 21:00:46.852453 2015] [:error] [pid 17460] [client 217.159.180.56:52870] PHP Warning:  stream_socket_client(): SSL: Connection reset by peer in /var/www/html/ezleads_api/ApnsPHP/test.php on line 28 OR [Sat Oct 03 21:01:36.033972 2015] [:error] [pid 17467] [client 217.159.180.56:52877] PHP Warning:  stream_socket_client(): SSL operation failed with code 1. OpenSSL Error messages:\nerror:14090086:SSL routines:SSL3_GET_SERVER_CERTIFICATE:certificate verify failed in /var/www/html/ezleads_api/ApnsPHP/test.php on line 28 [Sat Oct 03 21:01:36.034157 2015] [:error] [pid 17467] [client 217.159.180.56:52877] PHP Warning:  stream_socket_client(): Failed to enable crypto in /var/www/html/ezleads_api/ApnsPHP/test.php on line 28 [Sat Oct 03 21:01:36.034398 2015] [:error] [pid 17467] [client 217.159.180.56:52877] PHP Warning:  stream_socket_client(): unable to connect to tls://gateway.sandbox.push.apple.com:2195 (Unknown error) in /var/www/html/ezleads_api/ApnsPHP/test.php on line 28 </code></pre>  <p>So, in total , i have 3 certificates. 1 - to enable https connection for appache2 2 - push_cert.pem downloaded and converted from apple  3 - Root Certificate downloaded and signed/exported from entrust.net.</p>  <p>Atm, im using only 2 of the certs.  How and where am i supposed to include those certs ?</p>