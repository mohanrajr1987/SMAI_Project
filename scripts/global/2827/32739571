<p>I am Newbie in iOS Development. I have no knowledge about <code>dispatch_get_main_queue()</code> so I want to get image size from my Server image url like as</p>  <p>First I parse my JSON Data and Get image Size like as</p>  <pre><code>[self.feedArray addObjectsFromArray:[pNotification.userInfo valueForKey:@"items"]]; [self fillHeightArray]; </code></pre>  <p>Here I set parse data in my <code>self.feedArray</code> and after that I get Height like as</p>  <pre><code>-(void)fillHeightArray { NSMutableArray *requestArray=[[NSMutableArray alloc]init]; NSMutableArray *dataArray=[[NSMutableArray alloc]init]; for (int i=0; i&lt;[self.feedArray count];i++) {     NSString *urlString = [[self.feedArray objectAtIndex:i]valueForKey:@"photo"];     NSURL *imageFileURL = [NSURL URLWithString:urlString];     NSURLRequest *urlRequest = [NSURLRequest requestWithURL:imageFileURL];     [requestArray addObject:urlRequest]; } dispatch_queue_t callerQueue = dispatch_get_main_queue(); dispatch_queue_t downloadQueue = dispatch_queue_create("Lots of requests", NULL); dispatch_async(downloadQueue, ^{     for (NSURLRequest *request in requestArray) {         [dataArray addObject:[NSURLConnection sendSynchronousRequest:request returningResponse:nil error:nil]];     }     dispatch_async(callerQueue, ^{         for (int i=0; i&lt;[dataArray count]; i++)         {             UIImage *imagemain=[UIImage imageWithData:[dataArray objectAtIndex:i]];             UIImage *compimage =[self  resizeImage:imagemain resizeSize:CGSizeMake(screenWidth/2-16,180)];             CGSize size = CGSizeMake(screenWidth/2-16,compimage.size.height);             [self.cellHeights addObject:[NSValue valueWithCGSize:size]];         }         [GlobalClass StopSpinner:self.view];         self.cltItem.hidden=FALSE;         [self.cltItem reloadData];        [self.cltItem.collectionViewLayout invalidateLayout];         [[NSUserDefaults standardUserDefaults]setValue:@"1" forKey:Loading];     }); }); } </code></pre>  <p>And resize my image like as</p>  <pre><code>-(UIImage *)resizeImage:(UIImage *)orginalImage resizeSize:(CGSize)size { float oldWidth = orginalImage.size.width; float scaleFactor = size.width / oldWidth; float newHeight = orginalImage.size.height * scaleFactor; float newWidth = oldWidth * scaleFactor; UIGraphicsBeginImageContext(CGSizeMake(newWidth, newHeight)); [orginalImage drawInRect:CGRectMake(0,0,newWidth,newHeight)]; UIImage *newImage = UIGraphicsGetImageFromCurrentImageContext(); UIGraphicsEndImageContext(); return newImage; } </code></pre>  <p>So, from this code i got fine result at first time but when i want to load more data so this code are Running second time then i got not valid image size </p>  <p>I don't understand what the issue is there, but I think my </p>  <pre><code>dispatch_queue_t callerQueue = dispatch_get_main_queue(); dispatch_queue_t downloadQueue = dispatch_queue_create("Lots of requests", NULL); </code></pre>  <p>Have issue when I load more data.</p>  <p>Please help me for that.</p>