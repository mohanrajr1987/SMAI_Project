<p>I want to take image using from camera as a service. And using following code, i have got this from somewhere on google- </p>  <pre><code>import java.io.FileOutputStream; import java.io.IOException; import android.app.Service; import android.content.Context; import android.content.Intent; import android.graphics.Bitmap; import android.hardware.Camera; import android.hardware.Camera.Parameters; import android.os.IBinder; import android.util.Log; import android.view.SurfaceHolder; import android.view.SurfaceView;  public class CameraService extends Service {      //Camera variables      //a surface holder      private SurfaceHolder sHolder;     //a variable to control the camera      private Camera mCamera;     //the camera parameters     private Parameters parameters;      boolean mPreviewRunning = false;   /** Called when the activity is first created. */ @Override public void onCreate() {     super.onCreate();  } @Override public void onStart(Intent intent, int startId) {     // TODO Auto-generated method stub     super.onStart(intent, startId);      mCamera = Camera.open();     SurfaceView sv = new SurfaceView(getBaseContext());       try {          Camera.Parameters p = mCamera.getParameters();         mCamera.setParameters(p);         mCamera.startPreview();          mCamera.takePicture(null, null, mPictureCallback);      } catch (Exception e) {         // TODO Auto-generated catch block         e.printStackTrace();     }       //Get a surface     sHolder = sv.getHolder();     //tells Android that this surface will have its data constantly replaced     sHolder.setType(SurfaceHolder.SURFACE_TYPE_PUSH_BUFFERS); }    Camera.PictureCallback mPictureCallback = new Camera.PictureCallback() {     public void onPictureTaken(byte[] imageData, Camera c) {         Log.e("Callback TAG", "Here in jpeg Callback");          if (imageData != null) {             FileOutputStream outputStream = null;             try {                 outputStream = new FileOutputStream("/sdcard/car_final/Image.jpg");                 outputStream.write(imageData);                  // Removed the finish call you had here             } catch (Exception e) {                 e.printStackTrace();             } finally {                 if (outputStream != null) try {                     outputStream.close();                 } catch (IOException ex) {                     // TODO Auto-generated catch block                     ex.printStackTrace();                 }             }          }     } }; @Override public IBinder onBind(Intent intent) {     // TODO Auto-generated method stub     return null; } </code></pre>  <p>But i am getting following exception - <a href="http://i.stack.imgur.com/xB45h.png" rel="nofollow"><img src="http://i.stack.imgur.com/xB45h.png" alt="Error message"></a></p>  <p>Please help me. I have searched but not getting anything. Thanks in Advance.</p>