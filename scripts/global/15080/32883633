<p>Using </p>  <p><code>@res.css_path</code> or <code>@res.path</code> gives something like </p>  <pre><code> "html &gt; body &gt; div:nth-of-type(2) &gt; div &gt; div:nth-of-type(2) &gt; div &gt; div:nth-of-type(4) &gt; div:nth-of-type(2) &gt; ul &gt; li:nth-of-type(1)" </code></pre>  <p>Is there a way to calculate the css selector of that node?  if there isn't a quick solution, is there a pesudo-code/algorithm for finding the selector that I can implement myself?</p>