<p>I have some data shaped like this:</p>  <pre><code>&lt;people&gt;   &lt;person first="Mary" last="Jane" sex="F" /&gt;   &lt;person first="Susan" last="Smith" sex="F" height="168" /&gt;   &lt;person last="Black" first="Joseph" sex="M" /&gt;   &lt;person first="Jessica" last="Jones" sex="F" /&gt; &lt;/people&gt; </code></pre>  <p>I would like a data frame that looks like this:</p>  <pre><code>    first  last sex height 1    Mary  Jane   F     NA 2   Susan Smith   F    168 3  Joseph Black   M     NA 4 Jessica Jones   F     NA </code></pre>  <p>I've gotten this far:</p>  <pre><code>library(XML) xpeople &lt;- xmlRoot(xmlParse(xml)) lst &lt;- xmlApply(xpeople, xmlAttrs) names(lst) &lt;- 1:length(lst) </code></pre>  <p>But I can't for the life of me figure out how to get the list into the data frame. I can get the list to be "square" (i.e. fill in the gaps) and then put it into a data frame:</p>  <pre><code>lst &lt;- xmlApply(xpeople, function(node) {   attrs = xmlAttrs(node)   if (!("height" %in% names(attrs))) {     attrs[["height"]] &lt;- NA   }   attrs }) df = as.data.frame(lst) </code></pre>  <p>But I have the following problems:</p>  <ol> <li>The data frame is transposed</li> <li>first and last are Factors, not chr</li> <li>height is a Factor, not numeric</li> <li>the first and last names got swapped around for Joseph Black (not a big issue since my data is normally consistent, but annoying nonetheless)</li> </ol>  <p>How can I get the data frame in the correct form?</p>