<p>I'm new in Android. Need to create an application which contains <a href="http://developer.android.com/guide/topics/ui/layout/listview.html" rel="nofollow"><code>ListView</code></a>. I need to put in listView phone-logo(<code>ImageButton</code>) on each row, and when I tap on logo, a popup menu shows with phone numbers. (The phone numbers will be obtained from a server). Finaly, <code>onPopupItemClick</code> - I need to app calls a number which was tapped.. listview2 is my phone listview</p>  <p>Here is my code:</p>  <pre><code>package com.google.samples.quickstart.signin;  import android.app.ListActivity; import android.content.Context; import android.content.Intent; import android.net.Uri; import android.support.v7.app.ActionBarActivity; import android.os.Bundle; import android.support.v7.app.AppCompatActivity; import android.telecom.Call; import android.view.ContextMenu; import android.view.LayoutInflater; import android.view.Menu; import android.view.MenuInflater; import android.view.MenuItem; import android.view.View; import android.view.ViewGroup; import android.widget.AdapterView; import android.widget.ArrayAdapter; import android.widget.Button; import android.widget.ImageButton; import android.widget.ListView; import android.widget.PopupMenu; import android.widget.TextView; import android.widget.Toast; import java.sql.Savepoint; import java.util.ArrayList; import java.util.Arrays; import java.util.List;   public class Rem extends AppCompatActivity {   ListView listView; ListView listView1; ListView listView2; String[] remont_context; String[] ab_info_context;  ArrayAdapter&lt;String&gt; adapter; ArrayList&lt;String&gt; data = new ArrayList&lt;String&gt;();  @Override protected void onCreate(Bundle savedInstanceState) {     super.onCreate(savedInstanceState);     setContentView(R.layout.activity_rem);      listView = (ListView) findViewById(R.id.remontList);     registerForContextMenu(listView);     remont_context = getResources().getStringArray(R.array.remont_context);     adapter = new ArrayAdapter&lt;String&gt;(getApplicationContext(), R.layout.rem_row, R.id.remont_item, remont_context);     listView.setAdapter(adapter);      listView1 = (ListView) findViewById(R.id.ab_infoList);     ab_info_context = getResources().getStringArray(R.array.ab_info_context);     adapter = new ArrayAdapter&lt;String&gt;(getApplicationContext(), R.layout.rem_row, R.id.remont_item, ab_info_context);     listView1.setAdapter(adapter);      listView1.setOnItemClickListener(new AdapterView.OnItemClickListener() {         @Override         public void onItemClick(AdapterView&lt;?&gt; parent, View itemClicked, int position, long id) {             Intent ab_infolist = new Intent(Rem.this, AbInfo.class);             startActivity(ab_infolist);         }     });      listView2 = (ListView) findViewById(R.id.phoneList);     generateListContent();     adapter = new MyListAdapter(this, R.layout.phone_button, data);     listView2.setAdapter(adapter); }  private void generateListContent() {     for (int i = 0; i &lt; 55; i++) {         data.add("This is row numder" + i);     } }  @Override public void onCreateContextMenu(ContextMenu menu, View v, ContextMenu.ContextMenuInfo menuInfo) {     super.onCreateContextMenu(menu, v, menuInfo);     MenuInflater menuInflater = getMenuInflater();     menuInflater.inflate(R.menu.rem1menu, menu); }   @Override public boolean onContextItemSelected(MenuItem item) {      switch (item.getItemId()) {         case R.id.menu_remont:             Intent menu_remont = new Intent(this, Opisanie.class);             startActivity(menu_remont);             break;         case R.id.menu_marker:             Intent menu_marker = new Intent(this, TimeMark.class);             startActivity(menu_marker);             break;         case R.id.menu_result:             Intent menu_result = new Intent(this, result.class);             startActivity(menu_result);             break;     }     return super.onContextItemSelected(item); }   @Override public boolean onCreateOptionsMenu(Menu menu) {      getMenuInflater().inflate(R.menu.menu_rem, menu);     return true; }  @Override public boolean onOptionsItemSelected(MenuItem item) {      int id = item.getItemId();      if (id == R.id.action_settings) {         return true;     }      return super.onOptionsItemSelected(item); } }  class MyListAdapter extends ArrayAdapter&lt;String&gt; { int layout;  public MyListAdapter(Context context, int resource, List&lt;String&gt; objects) {      super(context, resource, objects);     layout = resource;  }  @Override public View getView(final int position, View convertView, ViewGroup parent, final Context context) {     ViewHolder mainViewholder;     String[] phone_context = new String[0];     if (convertView == null) {         LayoutInflater inflater = LayoutInflater.from(getContext());         convertView = inflater.inflate(layout, parent, false);         final ViewHolder viewHolder = new ViewHolder();         viewHolder.call_btn = (ImageButton) convertView.findViewById(R.id.call_btn);         final String[] finalPhone_context = phone_context;         viewHolder.call_btn.setOnClickListener(new View.OnClickListener() {              @Override             public void onClick(View v) {                 PopupMenu popup = new PopupMenu(context, v);                 MenuInflater inflater = popup.getMenuInflater();                 popup.setOnMenuItemClickListener(new PopupMenu.OnMenuItemClickListener() {                     public boolean onMenuItemClick(MenuItem item) {                         switch (item.getItemId()) {                             case R.id.one:                                 String number = Arrays.toString(finalPhone_context);                                 Intent phoneIntent = new Intent(Intent.ACTION_CALL);                                 phoneIntent.setData(Uri.parse("tel:" + number));                                 startActivity(phoneIntent);                         }                      }                 });             }         });         convertView.setTag(viewHolder);      } else {         mainViewholder = (ViewHolder) convertView.getTag();         mainViewholder.call_btn.getTag();     }      return convertView; }  }  class ViewHolder extends AppCompatActivity {  ImageButton call_btn; } </code></pre>