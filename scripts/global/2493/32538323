<p>I created a search engine that takes too much time to return the results. So I ask you if  there is a faster and easier method to get the same results?</p>  <p>I would like that if I search for two specific terms, the database returns only results that contains only these terms and no more.</p>  <pre><code>&lt;?php  error_reporting(E_ALL); ini_set('display_errors', 1);  $db = new mysqli("localhost", "user", "pass", "db");  if($_GET['s']) { //es. banana,orange yellow      //put separeted words into an array     preg_match_all('/([a-zA-Z]{3,})/', $_GET['s'], $s);      $a = array();     $b = array();     $c = array();      foreach($s[0] as $val) {         echo '&lt;mark&gt;'.trim($val).'&lt;/mark&gt;,';         array_push($a,"terzoCampo LIKE '%".trim($val)."%'");     }      $lk = implode(' AND ',$a);      $q = " SELECT * FROM nomeTabella WHERE $lk ORDER BY primoCampo ";      $r = $db-&gt;query($q);      if($r-&gt;num_rows &gt;0)     {          while($v = $r-&gt;fetch_array(MYSQLI_ASSOC))         {             preg_match_all('/([a-zA-Z]{3,})/', $v['terzoCampo'], $x);             if(count($s[0])==count($x[0]))             array_push($b,$v['primoCampo']);         }      }      $r-&gt;close();      if(count($b)&gt;0) {          echo '&lt;h2&gt;'.count($b).' risultati trovati&lt;/h2&gt;';         $b = implode(',',$b);          $q = " SELECT * FROM nomeTabella WHERE primoCampo IN ($b) ORDER BY primoCampo ";          $r = $db-&gt;query($q);          if($r-&gt;num_rows &gt;0)         {              while($v = $r-&gt;fetch_array(MYSQLI_ASSOC))             {                 echo '&lt;li&gt;&lt;strong&gt;'.$v['secondoCampo'].'&lt;/strong&gt; &lt;em&gt;'.$v['terzoCampo'].'&lt;/em&gt; &lt;/li&gt;';                 array_push($c,$v['primoCampo']);              }          }          $r-&gt;close();          $c = implode(',',$c);         $ex = "AND primoCampo NOT IN ($c)";      }      else      $ex = '';      echo '&lt;h3&gt;Ricette correlate&lt;/h3&gt;';      foreach($s[0] as $val) {          $q = " SELECT * FROM nomeTabella WHERE terzoCampo LIKE '%".trim($val)."%' $ex ORDER BY primoCampo ";          $r = $db-&gt;query($q);          if($r-&gt;num_rows &gt;0)         {             echo '&lt;h4&gt;'.trim($val).' ('.$r-&gt;num_rows.')&lt;/h4&gt;';              while($v = $r-&gt;fetch_array(MYSQLI_ASSOC))             {                 echo '&lt;li&gt;&lt;strong&gt;'.$v['secondoCampo'].'&lt;/strong&gt; &lt;em&gt;'.$v['terzoCampo'].'&lt;/em&gt; &lt;/li&gt;';             }         }          $r-&gt;close();      }   }  ?&gt; </code></pre>