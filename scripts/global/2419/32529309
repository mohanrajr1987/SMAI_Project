<p>I am trying to generate a report from a database called BioStar, which comes from  Suprema Finger Print machine. Here is a sample of the data I have:</p>  <pre><code>nDateTime           sUserName           department Event EventName nUserID ---------           ---------            --------- -----  --------  ------ 2015-08-15 07:52:37.000 Hamdy Mokhtar Moelem  Nursing   0   In      75 2015-08-15 16:26:14.000 Hamdy Mokhtar Moelem  Nursing   1   Out     75 2015-08-16 07:59:18.000 Hamdy Mokhtar Moelem  Nursing   0   In      75 2015-08-16 07:59:25.000 Hamdy Mokhtar Moelem  Nursing   0   In      75 2015-08-16 16:06:24.000 Hamdy Mokhtar Moelem  Nursing   1   Out     75 2015-08-16 16:06:30.000 Hamdy Mokhtar Moelem  Nursing   1   Out     75 </code></pre>  <p>This is the stored procedure I am using:</p>  <pre><code>    ALTER proc [dbo].[viewLogInfo]  @UserIdn int, @startDate smalldatetime, @endDate smalldatetime  as --exec viewLogInfo '75','2015-08-15','2015-08-25'  select  DATEADD(s,el.nDateTime,'1970-01-01') nDateTime, sUserName,ud.sName,el.nTNAEvent,dek.sEventName,nUserID from tb_Event_Log el join TB_USER u on el.nUserID=u.nUserIdn join TB_EVENT_DATA ed on el.nEventIdn=ed.nEventIdn join TB_TA_DEVICE_EVENT_KEY dek on el.nTNAEvent=dek.nKeyIdn join TB_USER_DEPT ud on u.nDepartmentIdn=ud.nDepartmentIdn where el.nUserID=@UserIdn and (DATEADD(s,el.nDateTime,'1970-01-01')  between @startDate and @endDate)  order by el.nEventLogIdn  </code></pre>  <p>I want the report to look like this:</p>  <pre><code>nDateTime           sUserName               IN            OUT ---------           ---------               --            --- 2015-08-15          Hamdy Mokhtar Moelem    07:52:37      16:26:14 </code></pre>  <p>Here is what I have tried so far:</p>  <pre><code>USE [BioStar] GO /****** Object:  StoredProcedure [dbo].[viewLogInfo12]    Script Date: 09/11/2015 20:42:33 ******/ SET ANSI_NULLS ON GO SET QUOTED_IDENTIFIER ON GO ALTER proc [dbo].[viewLogInfo12]  --@UserIdn int, @startDate smalldatetime, @endDate smalldatetime   as -- exec viewLogInfo12 '2015-08-01','2015-08-31' select sUserName,departmentName,event01,nUserID,nDateTime2,ev1,         [in] as inTime, [out] as outTime         e  from  ( select  sUserName,ud.sName departmentName,el.nTNAEvent event01,dek.sEventName,dek.sEventName ev1,nUserID,DATEADD(s,el.nDateTime,'1970-01-01') nDateTime1,DATEADD(s,el.nDateTime,'1970-01-01') nDateTime2 from tb_Event_Log el join TB_USER u on el.nUserID=u.nUserIdn join TB_EVENT_DATA ed on el.nEventIdn=ed.nEventIdn join TB_TA_DEVICE_EVENT_KEY dek on el.nTNAEvent=dek.nKeyIdn join TB_USER_DEPT ud on u.nDepartmentIdn=ud.nDepartmentIdn where  (DATEADD(s,el.nDateTime,'1970-01-01')  between @startDate and @endDate)   ) m  pivot   ( max(sEventName)  for sEventName in ([in],[out]) ) pvt </code></pre>  <p>Both inTime and outTime are null. Please help.</p>