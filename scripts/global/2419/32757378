<p>I am running a query to analyse some user properties in a couple of joined tables, and it's working fine, expect that my headers are being split on a space due to their value in the database.</p>  <p>This is the query I'm running:</p>  <pre><code>DECLARE       @PivotColumns AS NVARCHAR(MAX),               @query AS NVARCHAR(MAX)  select        @PivotColumns = STUFF((SELECT distinct ',' + QUOTENAME(Property_key)                from propertyentry where PROPERTY_KEY like 'jira.meta%'                      and property_key not like '% %' -- removes tables with spaces in name, else won't pivot             FOR XML PATH(''), TYPE             ).value('.', 'NVARCHAR(MAX)')                ,1,1,'')  set @query = 'SELECT id, user_name, first_name, last_name, ' +  @PivotColumns + ' from               (                                         select                                    --ps.id, cu.user_name, cu.first_name, cu.last_name, pe.property_key, cast(ps.propertyvalue as varchar(max)) as PV                                   cu.user_name, cu.first_name, cu.last_name, ps.id, cast(ps.propertyvalue as varchar(max)) as PV, pe.property_key                                    from propertyentry pe                                    inner join propertystring ps                                   on pe.id = ps.id                                    inner join external_entities ee                                   on ee.ID = pe.entity_id                                   inner join cwd_user cu                                   on cu.user_name = ee.NAME                                   ) x             pivot              (                            max(PV)                            for property_key in (' + @PivotColumns + ')             ) p                       order by 2,3,4' execute(@query) </code></pre>  <p>This outputs information like the following: (Can't format correctly as a table, sorry)</p>  <pre><code>|| id || user_name || first_name || last_name || meta.Laptop || meta.Kit || meta.PC ||  | 27076 | 0@emeastore | UK Store | Hove | NULL | NULL | 1234 |  | 27076 | 0@emeastore | UK Store | Hove | NULL | SPARE |    NULL |  | 27076 | 0@emeastore | UK Store | Hove | YES | NULL |  NULL | </code></pre>  <p>I'm going to handle "squishing" the rows into one, that's fine - the issue I have is that one of the tables has the field "meta.PC Asset" and as you can see, that's what's being split in the header.</p>  <p>Is there a way I can run the same query, but on the <code>property_key</code> replaces spaces with '_' at the time of select?</p>  <p>That would then give me the end results like this:</p>  <pre><code>|| id || user_name || first_name || last_name || meta.Laptop || meta.Kit || meta.PC_Asset ||  | 27076 | 0@emeastore | UK Store | Hove | NULL | NULL | 1234 |  | 27076 | 0@emeastore | UK Store | Hove | NULL | SPARE |    NULL |  | 27076 | 0@emeastore | UK Store | Hove | YES | NULL |  NULL | </code></pre>