<p>I'm trying to write a function in F# to get the powersets of a set. So far I have written :</p>  <pre><code>let rec powerset = function     |[] -&gt; [[]]     | [x] -&gt; [[x]; []]     |x::xs -&gt; [x] :: (List.map (fun n -&gt; [x; n]) xs) @ powerset xs;; </code></pre>  <p>but this isn't returning the cases that have 3 or more elements, only the pairs, the single elements, and the empty set.</p>