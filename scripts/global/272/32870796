<p>I'm attempting to implement the OAI-PMH harvesting XML using XSLT 2.0 (I can up version to 3.0 if needs be) as stated in the <a href="https://www.openarchives.org/OAI/openarchivesprotocol.html#Record" rel="nofollow">OAI-PMH spec</a> My problem is with getting the "xsi" namespace in BOTH the <strong>OAI-PMH</strong> tag and the <strong>metadata</strong> tag as the schema requires. Currently my code works a bit like this (I've removed a bunch of stuff for sake of brevity):</p>  <pre><code>&lt;?xml version="1.0" encoding="UTF-8"?&gt;  &lt;xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:xs="http://www.w3.org/2001/XMLSchema"  exclude-result-prefixes="xs" version="2.0" &gt;  &lt;xsl:output indent="no" encoding="UTF-8" method="xml" omit-xml-   declaration="no" media-type="application/xml;charset=UTF-8"/&gt;  &lt;xsl:template match="/"&gt;     &lt;xsl:apply-templates select="response" /&gt;         &lt;/xsl:template&gt;  &lt;xsl:template match="response"&gt;     &lt;OAI-PMH xmlns="http://www.openarchives.org/OAI/2.0/"          xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"                     xsi:schemaLocation="http://www.openarchives.org/OAI/2.0/           http://www.openarchives.org/OAI/2.0/OAI-PMH.xsd"&gt;        &lt;xsl:apply-templates select="doc"/&gt;         &lt;/OAI-PMH&gt;        &lt;/xsl:template&gt;  &lt;xsl:template match="doc"&gt;     &lt;record&gt;         &lt;header&gt;         &lt;/header&gt;          &lt;metadata&gt;              &lt;oai_dc:dc xmlns:dc="http://purl.org/dc/elements/1.1/"                xmlns:oai_dc="http://www.openarchives.org/OAI/2.0/oai_dc/"               xmlns="http://www.openarchives.org/OAI/2.0/"               xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"                xsi:schemaLocation="http://www.openarchives.org/OAI/2.0/oai_dc/                http://www.openarchives.org/OAI/2.0/oai_dc.xsd"&gt;               &lt;xsl:text&gt;call some templates&lt;/xsltext&gt;       &lt;/metadata&gt;      &lt;/record&gt; &lt;/xsl:template&gt; </code></pre>  <p>My output looks a bit like this:</p>  <pre><code>&lt;OAI-PMH xmlns="http://www.openarchives.org/OAI/2.0/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.openarchives.org/OAI/2.0/ http://www.openarchives.org/OAI/2.0/OAI-PMH.xsd"&gt; &lt;responseDate xmlns=""&gt;2015-09-30T16:47:19Z&lt;/responseDate&gt; &lt;request xmlns="" verb="ListRecords" metadataPrefix="oai_dc" set="null" from="null" until="null"&gt;http://manchester.ac.uk/escholar/api/oai2&lt;/request&gt; &lt;ListRecords xmlns=""&gt;     &lt;record&gt;         &lt;header&gt;             &lt;identifier&gt;oai:escholar.manchester.ac.uk:uk-ac-man-scw-1964&lt;/identifier&gt;             2010-12-02T15:44:59.733Z         &lt;/header&gt;         &lt;metadata&gt;             &lt;oai_dc:dc xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:oai_dc="http://www.openarchives.org/OAI/2.0/oai_dc/" xmlns="http://www.openarchives.org/OAI/2.0/" xsi:schemaLocation="http://www.openarchives.org/OAI/2.0/oai_dc/ http://www.openarchives.org/OAI/2.0/oai_dc.xsd"&gt;             &lt;/oai_dc:dc&gt;         &lt;/metadata&gt;     &lt;/record&gt; &lt;/ListRecords&gt; &lt;/OAI-PMH&gt; </code></pre>  <p>Note that the</p>  <pre><code>xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" </code></pre>  <p>is missing from the oai_dc:dc tag. But based upon the OAI-PMH spec/schema, it needs to be there. Can anyone help me resolve this please?</p>