<p>The variable behaviour here does not work as expected. I have a variable named fonttag with a value that is an HTML line with both start and end tags and a divider.</p>  <pre><code>&lt;xsl:variable name="fonttag"&gt;     &lt;font face="ANGSANA NEW" size="12"&gt;|&lt;/font&gt; &lt;/xsl:variable&gt; </code></pre>  <p>When I try to use it, to get part of the string back, I get an empty string:</p>  <pre><code>&lt;xsl:value-of select="substring-before($fonttag ,'|')"/&gt; </code></pre>  <p>Where I expected the substring :</p>  <pre><code>&lt;font face="ANGSANA NEW" size="12"&gt; </code></pre>  <p>Similarly the </p>  <pre><code>&lt;xsl:value-of select="$fonttag"/&gt; </code></pre>  <p>returns nothing, although </p>  <pre><code>&lt;xsl:copy-of select="$fonttag"/&gt; </code></pre>  <p>return the whole string. Is there another way to achieve the expected result ?</p>  <p><strong>A derived-question</strong>: Is it possible to nest xsl select tags like this (cannot get it to work either)</p>  <pre><code>&lt;xsl:copy-of select="substring-before( &lt;xsl:copy-of select="$fonttag"/&gt;,'|')"/&gt;  </code></pre>  <p>?</p>  <p>thanks</p>