<p>I'm struggeling with storing a streamresult .xml file temporarily and use it to create a pdf with xslt.</p>  <p>I have a method (methodCalled) that creates an empty file. It passes that empty file and an object with data to a methode objectToXml in the xmlConverter Class. When I execute, I always get a nullpointer exception on the line with os.close() in the xmlConverter Class. Can you help me to understand why this happens?</p>  <p>It works fine when I pass a String (with a filepath) instead of the file object to <code>new FileOutputStream(file);</code>.</p>  <pre><code>public function methodCalled() {         File file = new File(".");               try {             file.createNewFile();             xmlConverter.objectToXml(file, expense);         }         catch(IOException e) {             e.printStackTrace();         } }  </code></pre>  <p>Class xmlConverter:</p>  <pre><code>public class XmlConverter {      @Autowired     private Marshaller marshaller;      public void objectToXml(File file, Object object) throws IOException {         FileOutputStream os = null;         try {             os = new FileOutputStream(file);             marshaller.marshal(object, new StreamResult(os));          } finally {             os.close();         }     }  } </code></pre>  <p>Thanks for your help guys :)</p>