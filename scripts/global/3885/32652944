<p>In my project I have a TableViewer which has a model, a content provider and a label provider.</p>  <p>Once I update my model I call tableviewer.refresh(true) and according to the documentation here:</p>  <p><a href="http://help.eclipse.org/juno/index.jsp?topic=%2Forg.eclipse.platform.doc.isv%2Freference%2Fapi%2Forg%2Feclipse%2Fjface%2Fviewers%2FTableViewer.html" rel="nofollow">TableViewer Methods</a></p>  <p>I'm expecting my selections to be preserved. </p>  <p>Unfortunately this doesn't happen. Does anybody know a solution for that ?</p>  <p>Is it something that I miss in here or is it a bug ?</p>  <p><strong>EDIT:  This is my model class(counter is for testing purposes to be sure that I have the same list returned after the first refresh):</strong></p>  <pre><code>public class ItemWorkgroup {       List&lt;Item&gt; currentItems = new ArrayList&lt;Item&gt;();     static int counter = 0;       public ItemWorkgroup()     {      }      public void add(Item item)     {         currentItems.add(item);     }      public Object[] getItems()     {         return currentItems.toArray();     }      public void addList(List&lt;Item&gt; newItemsList)     {             System.out.println("Current items first 1: "+currentItems);          if(counter == 0)         {             currentItems = newItemsList;             counter++;         }         System.out.println("Current items first 2: "+currentItems);       }      public List&lt;Item&gt; getItemList()     {            return currentItems;     }  } </code></pre>  <p>This is the content provider class:</p>  <pre><code>public class ContentProvider implements IStructuredContentProvider{   private Mediator mediator; private ItemWorkgroup model;  public ContentProvider(Mediator mediator, ItemWorkgroup model) {     // TODO Auto-generated constructor stub     this.mediator = mediator;     this.model = model; }  @Override public void dispose() {     // TODO Auto-generated method stub  }  @Override public void inputChanged(Viewer viewer, Object oldInput, Object newInput) {     // TODO Auto-generated method stub     System.out.println("Input changed"); }  @Override public Object[] getElements(Object inputElement) {     // TODO Auto-generated method stub     System.out.println("Getting elements");      if(inputElement instanceof ItemWorkgroup)     {                    return ((ItemWorkgroup) inputElement).getItems();     }     else         return new Object[0];     }   public ItemWorkgroup getItems() {          //Items is a list of items that I'm getting from somewhere          model.addList(items);       return model; } </code></pre>