<p>I have a EMF model and I want to write the EMF model data to a xmi file. I have 2 classes User and Group, I have multiple users with same name and each user can be associated with multiple groups.</p>  <p>My classes are</p>  <p>Class User Class Group</p>  <p>I tried removing the duplicate user values I get below error. When I try to checking for crossreference(EcoreUtil.UsageCrossReferencer.find) and remove such users, it works fine.</p>  <p>Please suggest me a way to remove duplicate users which have cross references.When I try to do that and write the result to the xmi file I get the error.</p>  <pre><code>            org.eclipse.emf.ecore.resource.Resource$IOWrappedException: The object 'User (name: user1)' is not contained in a resource.                 at org.eclipse.emf.ecore.xmi.impl.XMLSaveImpl.endSave(XMLSaveImpl.java:301)                 at org.eclipse.emf.ecore.xmi.impl.XMLSaveImpl.save(XMLSaveImpl.java:265)                 at org.eclipse.emf.ecore.xmi.impl.XMLResourceImpl.doSave(XMLResourceImpl.java:365)                 at org.eclipse.emf.ecore.resource.impl.ResourceImpl.save(ResourceImpl.java:1430)                 at org.eclipse.emf.ecore.resource.impl.ResourceImpl.save(ResourceImpl.java:999) </code></pre>  <p>Thanks in advance</p>