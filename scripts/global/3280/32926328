<p>I had a routes like this:</p>  <pre><code>  devise_for :admins, path: 'admin', controllers: {sessions: 'admin/sessions'}   devise_for :users, controllers: { omniauth_callbacks: 'users/omniauth_callbacks' }   devise_scope :user do     get 'sign_out', to: 'devise/sessions#destroy', as: :destroy_user_session   end </code></pre>  <p>So user can be registered by using <code>omniauth</code>, but I want to enable to register by email and password. So I add users sessions like this:</p>  <pre><code>  devise_for :users, controllers: { sessions: 'users/sessions', omniauth_callbacks: 'users/omniauth_callbacks' } </code></pre>  <p>But the routes remains unchanged.</p>  <pre><code>       new_admin_session GET      /admin/sign_in(.:format)                    admin/sessions#new            admin_session POST     /admin/sign_in(.:format)                    admin/sessions#create    destroy_admin_session DELETE   /admin/sign_out(.:format)                   admin/sessions#destroy  user_omniauth_authorize GET|POST /users/auth/:provider(.:format)             users/omniauth_callbacks#passthru {:provider=&gt;/facebook/}   user_omniauth_callback GET|POST /users/auth/:action/callback(.:format)      users/omniauth_callbacks#:action     destroy_user_session GET      /sign_out(.:format)                         devise/sessions#destroy </code></pre>  <p>Even <code>devise_for :users, controllers: { sessions: 'users/sessions'}</code> make route <code>user_omniauth_authorize</code> and <code>user_omniauth_callback</code>.</p>  <p>If I delete the line <code>devise_for :users</code>, the routes disappear also.</p>  <p>What am I doing wrong? I'm grateful for any suggestion.</p>