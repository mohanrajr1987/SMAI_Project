<p>How can we add middleware to <code>app.use()</code> and use that middleware only when we call it. At the moment i have this code:</p>  <pre><code>function ensureUser(req,res,next){    if(req.isAuthenticated()) next();    else res.send(false); } app.get('/anything', ensureUser, function(req,res){     // some code }) </code></pre>  <p>And i am trying to add that ensureUser to all files where i have routes. I came with a solution of add that file to one file and require that file in every file where i have routes. Is there a way to add that function to <code>app.use</code> or <code>app.all</code> or something like that, in the way i don't have to include that function in every file.</p>