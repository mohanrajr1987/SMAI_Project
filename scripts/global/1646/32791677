<p>I have a back to top button that appears when you scroll a little bit .It's working fine but when scrolling if I get to the footer i want the button to go above the footer.</p>  <p>I used the <code>jquery animate</code> method to change the <code>bottom</code> css rule of the button when I get to the bottom of the page.But that effect doesn't happen instantly on my website because i have more javascript and i think it needs to go through all the code before it runs the effect and It's just not working properly.</p>  <p>Where is the problem ? .Here is what I have done : <a href="http://jsfiddle.net/dugdzyqw/1/" rel="nofollow">JSFIDDLE</a></p>  <pre><code>var offset = 250; var duration = 500; $(window).scroll(function () {     if ($(this).scrollTop() &gt; offset) {         $('.back-to-top').fadeIn(duration);     } else {         $('.back-to-top').fadeOut(duration);     } });  $('.back-to-top').on('click', function () {     event.preventDefault();     $('html,body').animate({ scrollTop: 0 }, duration);     return false; });  $(window).scroll(function () {     if ($(window).scrollTop() + $(window).height() == $(document).height()) {         $('.back-to-top').animate({ 'bottom': '400px' });     } else $('.back-to-top').animate({ 'bottom': '10%' }); }); </code></pre>