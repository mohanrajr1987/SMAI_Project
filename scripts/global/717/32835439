<p>I have a dataset that consist on nuclei and cells.</p>  <p>Some columns are unique to nuclei or cells and some columns where there are readings for both</p>  <pre><code>ParentType ObjectType ObjectID ParentID Area CytoplasmArea Dye1Intensity WholeCell  Nuclei     1        1        10   NA            500 Well       WholeCell  1        1        100  90            NA WholeCell  Nuclei     2        2        20   NA            550 Well       WholeCell  2        1        120  100           NA </code></pre>  <p>I wanted to merge the rows of the data in such a way that I will only have nuclei data with its corresponding wholecell data represented as new columns.</p>  <p>Corresponding meaning the <strong>Nuclei's ParentID must match the WholeCell's ObjectID</strong>. This is to indicate that the nuclei belong to this cell.</p>  <p>For now, I wish to give keep things simple where one nuclei should belong to only one parent</p>  <p>The results should be like this:</p>  <pre><code>ParentType ObjectType ObjectID ParentID ObjectArea ParentArea ParentCytoplasmArea ObjectDye1Intensity WholeCell  Nuclei     1        1        10         100        90                  500 WholeCell  Nuclei     2        2        20         120        100                 550 </code></pre>  <p>An idea I could think of is to split the dataset into Nuclei and WholeCells data separately, change the column names for both dataset and use a for loop on every nuclei on the data to get what I want but I understand that data frame and data table has many useful function like merge, join or aggregate to do this task in an efficient manner.</p>  <p>Could someone recommend me a useful way to do this better ?</p>  <p>My starting code:</p>  <pre><code>dt &lt;- data.table(ParentType=c("WholeCell","Well","WholeCell","Well"),ObjectType=c("Nuclei","WholeCell","Nuclei","WholeCell"),ObjectID=c(1,1,2,2),ParentID=c(1,1,2,1),Area=c(10,100,20,120),CytoplasmArea=c(NA,90,NA,100),Dye1Intensity=c(500,NA,550,NA)) Nuclei = dt[which(dt$ObjectType=="Nuclei"),] Cells =  dt[which(dt$ObjectType=="WholeCell"),] setnames(Nuclei,names(Nuclei),paste0("Object", names(Nuclei))) setnames(Cells,names(Cells),paste0("Parent", names(Cells)))      </code></pre>