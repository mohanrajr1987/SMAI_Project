<p>I have looked at different ways to append, merge and bind two data frames but I'm struggling to find a way to compare two data frames, if the name1 and name2 column in file1 match with a record in file2 then sum (and return) the values of the count column.  If they do not match then append the record to the new-file</p>  <p>file1</p>  <pre><code>name1  name2  count a      c       2 a      b       1 a      f       3  b      d       1 b      f       1 c      d       2 </code></pre>  <p>file2</p>  <pre><code> name1  name2  count  a      c      60  a      z      44  b      z      22 </code></pre>  <p>And I'd like to get a new-file</p>  <pre><code>name1  name2  count a      c       62 a      b       1 a      f       3  a      z       44 b      d       1 b      f       1 b      z       22 c      d       2 </code></pre>  <p>I have tried code such as:</p>  <blockquote>   <p><code>new-file &lt;- ddply(merge(file1, file2, all.x=TRUE),.(name1, name2), summarise, count=sum(count))</code></p> </blockquote>  <p>but it is not summing the count column or appending the non matching records.  Is there some easier way to do this.</p>