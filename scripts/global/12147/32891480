<p>I'm trying to import very big SQL dump (around 37 million rows) into InnoDB table. There are tons of duplicates and what I want to achieve is, without changing actual dump want to prevent duplicate row insertion. The field <code>email</code> might have duplicates. I tried following: after importing whole dump into db I tried to execute following SQL:</p>  <pre><code>set session old_alter_table=1; ALTER IGNORE TABLE sample ADD UNIQUE (email); </code></pre>  <p>But second query worked around 1 hour and then I just canceled this query. </p>  <p>What is proper way to get rid off duplicates?</p>  <p>I have couple of ideas:</p>  <ul> <li>Maybe before starting to import to make a table with unique index and while insertion to prevent duplicates without harming whole process?</li> <li>Maybe after importing dump to select distinct email and to insert into another table?</li> </ul>