<p>I am new to magento. I have created a custom module, In that i want to display select box for listing order id's of that particular logged in customer's orders. I am struggling to do it.</p>  <p>My form code here:</p>  <pre><code>                &lt;?php         class Blazedream_CustomerComplaints_Block_Complaints_Edit_Form extends Mage_Adminhtml_Block_Widget_Form         {                 public function getOrderData()                 {                     $orders = Mage::getResourceModel('sales/order_collection')                     -&gt;addFieldToSelect('*')                     -&gt;addFieldToFilter('customer_id', Mage::getSingleton('customer/session')-&gt;getCustomer()-&gt;getId())                     -&gt;addFieldToFilter('state', array('in' =&gt; Mage::getSingleton('sales/order_config')-&gt;getVisibleOnFrontStates()))                     -&gt;setOrder('created_at', 'desc');                        $this-&gt;setOrders($orders);                      foreach ($orders as $order):                        return $order-&gt;getRealOrderId();                     endforeach;                 }                  protected function _prepareForm()                 {                         $customer = Mage::getSingleton('customer/session')-&gt;getCustomer();                         $customerId=$customer-&gt;getId();                         $cus_name=$customer-&gt;getName();                         $emailId=$customer-&gt;getEmail();                         $form = new Varien_Data_Form();                         $this-&gt;setForm($form);                         $fieldset = $form-&gt;addFieldset("customercomplaints_form", array("legend"=&gt;Mage::helper("customercomplaints")-&gt;__("Item information")));                          $three_columns = "col-xs-12 col-sm-4 col-md-4 col-lg-4";                         $one_column = "col-xs-12 col-sm-12 col-md-12 col-lg-12";                                  $fieldset-&gt;addField("customer_complaints_id", "hidden", array(                                 "label" =&gt; Mage::helper("customercomplaints")-&gt;__("Id"),                                 "name" =&gt; "customer_complaints_id",                                 ));                                  $fieldset-&gt;addField("name", "text", array(                                 "label" =&gt; Mage::helper("customercomplaints")-&gt;__("Name"),                                 "name" =&gt; "name",                                 "class"=&gt; "required-entry",                                 'readonly'=&gt;true,                                 'required' =&gt; true,                                 'value' =&gt;$cus_name,                                 'container_class' =&gt; $three_columns                                 ));                                 $fieldset-&gt;addField('order_id1', 'select', array(                                   'name' =&gt; 'order_id1',                                   'label' =&gt; 'Order Id1',                                   'values' =&gt; $this-&gt;getOrderData(),                                   ));                          if (Mage::getSingleton("adminhtml/session")-&gt;getComplaintsData())                         {                             $form-&gt;setValues(Mage::getSingleton("adminhtml/session")-&gt;getComplaintsData());                             Mage::getSingleton("adminhtml/session")-&gt;setComplaintsData(null);                         }                          elseif(Mage::registry("complaints_data")) {                             $form-&gt;setValues(Mage::registry("complaints_data")-&gt;getData());                         }                         return parent::_prepareForm();                 }         } </code></pre>  <p>My view file: </p>  <pre><code>     &lt;div class="return-policy vendor-suggestion-main my-account"&gt;     &lt;div class="page-title"&gt;         &lt;h1&gt;Complaints&lt;/h1&gt;     &lt;/div&gt;         &lt;form action="&lt;?php echo $this-&gt;getSaveUrl() ?&gt;" method="post" id="customer_complaints_form" enctype="multipart/form-data"&gt;         &lt;input type="hidden" name="form_key" value="&lt;?php echo Mage::getSingleton('core/session')-&gt;getFormKey();?&gt;" /&gt;             &lt;?php echo $this-&gt;getBlockHtml('formkey')?&gt;             &lt;div style="display:none"&gt;&lt;/div&gt;             &lt;?php echo $this-&gt;getChildHtml("complaints_edit_form") ?&gt;              &lt;div class="return-order-submit"&gt;             &lt;p class="content-buttons form-buttons"&gt;                 &lt;?php echo $this-&gt;getSaveButtonHtml() ?&gt;         &lt;/p&gt;         &lt;/div&gt;         &lt;/form&gt;      &lt;/div&gt;      &lt;script type="text/javascript"&gt;          var customerComplaints = new VarienForm('customer_complaints_form', true); // '&lt;?php echo $this-&gt;getValidationUrl() ?&gt;');         customerComplaints._processValidationResult = function(transport) {             var response = transport.responseText.evalJSON();             if (response.error){                 if (response.attribute &amp;&amp; $(response.attribute)) {                     $(response.attribute).setHasError(true, customerComplaints);                     Validation.ajaxError($(response.attribute), response.message);                     if (!Prototype.Browser.IE){                         $(response.attribute).focus();                     }                 }                 else if ($('messages')) {                     $('messages').innerHTML = '&lt;ul class="messages"&gt;&lt;li class="error-msg"&gt;&lt;ul&gt;&lt;li&gt;' + response.message + '&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;';                 }             }             else{                 customerComplaints._submit();             }         };      &lt;/script&gt; </code></pre>  <p>Can anyone tell me how to do this??</p>  <p>Thanks in advance.</p>