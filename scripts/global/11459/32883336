<p>I have a very annoying problem with <strong>Magento 1.9.2</strong> upgrade (previously was <strong>1.7.0.2</strong>)</p>  <p>I get time to time this error message in log file:</p>  <pre><code>SQLSTATE[23000]: Integrity constraint violation: 1062 Duplicate entry 'OR1010702' for key 'UNQ_SALES_FLAT_ORDER_INCREMENT_ID', query was: INSERT INTO `sales_flat_order`... </code></pre>  <p>It happens with every payment method, only if customer has already order before and his last order is Canceled or On Hold. It works fine when it's his first order or if previous one is Processing, Complete or Pending.</p>  <p>For exemple, a new customer goes through the checkout process, is redirected on Paypal or other payment solution page. If he uses his credit card correctly, no problem, but if he cancels his payment (the order is created and has status Canceled) he won't be able to process it again. He will stay on Magento checkout page and get javascript prompt error (something like: Payment issue, try latter)</p>  <p>Everything was fine with Magento 1.7 but with 1.9.2 upgrade I don't know what to do get order process working in any case.</p>  <p>If someone has and idea... Thanks very much in advance!</p>