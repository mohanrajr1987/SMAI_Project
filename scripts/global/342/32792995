<p>I'm building a small file utility that relies on queues and I've been getting the error on compile:</p>  <pre><code>error: request for member "entries" in something not a structure or union </code></pre>  <p>I stripped it down to just the queue handling lines, and I'm getting the same error, here's the source for the header:</p>  <pre><code>#ifndef _tailq_test_h #define _tailq_test_h  #include &lt;stdlib.h&gt; #include &lt;stdint.h&gt; #include &lt;unistd.h&gt; #include &lt;sys/queue.h&gt;  struct tail_q {     TAILQ_ENTRY(tail_q) entries;     int item; };  TAILQ_HEAD(tail_queue, tail_q);  static struct tail_queue queue;  int main();  #endif </code></pre>  <p>And for the program:</p>  <pre><code>#include &lt;stdlib.h&gt; #include &lt;stdint.h&gt; #include &lt;unistd.h&gt; #include &lt;sys/queue.h&gt; #include "tailq-test.h"  static struct tail_queue queue;  int main() {     struct tail_q *q_ptr;     int data = 1;      TAILQ_INIT(&amp;queue);      TAILQ_INSERT_HEAD(&amp;queue, &amp;data, entries);      return 0; } </code></pre>  <p>The traceback refers to the line <code>TAILQ_INSERT_HEAD(&amp;queue, &amp;data, entries);</code>, it has the same effect if <code>TAILQ_INSERT_TAIL</code> is used instead.</p>  <p>I'm not sure why it's not compiling. I checked the answer from <a href="http://stackoverflow.com/questions/22315213/minimal-example-of-tailq-usage-out-of-sys-queue-h-library">this question</a> and the provided example compiled just fine. I'm having trouble spotting the difference/what I'm doing wrong.</p>  <p>Any help would be much appreciated.</p>