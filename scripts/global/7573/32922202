<p>I'm trying to get the cumulative product of variable x, giving P an initial value of 1. Using an iterative procedure I should get something simpler than datastep WANT below. Thanks.</p>  <pre><code>DATA NUM; INFILE DATALINES DSD; INPUT X YEAR; DATALINES; 0.99,2006 0.975,2007 0.983,2008 0.978,2009 ; DATA WANT; set num; by year; lag_x=lag(x); lag2_x=lag(lag_x); lag3_x=lag(lag2_x); if first.year then P=1;  if year=2007 then P=lag_x; if year=2008 then P=lag_x*lag2_x; if year=2009 then P=lag_x*lag2_x*lag3_x; run; </code></pre>