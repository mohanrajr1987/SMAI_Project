<p>I have the following example persistent classes:</p>  <pre><code>using NHibernate.Mapping.Attributes;  namespace GumiDAL.Domain {     [Class]     public class Foo     {         [Id(0)]         [Generator(1, Class="identity")]         public virtual int Id { get; set; }          [Property]         public virtual string Name { get; set; }      }      [Class]     public class Bar     {         [Id(0)]         [Generator(1, Class = "identity")]         public virtual int Id { get; set; }           [ManyToOne(Name="foo")]         public virtual Foo foo { get; set; }     }  } </code></pre>  <p>Serializing the assembly creates the following xml:</p>  <pre><code>&lt;!-- Generated from NHibernate.Mapping.Attributes on 2015-10-02 13:08:49Z. --&gt; &lt;hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"&gt;     &lt;class name="Example.Domain.Foo, ExampleAssembly"&gt;         &lt;id&gt;             &lt;generator class="identity"/&gt;         &lt;/id&gt;         &lt;property name="Name"/&gt;     &lt;/class&gt;     &lt;class name="Example.Domain.Bar, ExampleAssembly"&gt;         &lt;id&gt;             &lt;generator class="identity"/&gt;         &lt;/id&gt;         &lt;many-to-one name="foo"/&gt;     &lt;/class&gt; &lt;/hibernate-mapping&gt; </code></pre>  <p>But when I try to set up a configuration, I get an exception with the following message and stack trace:</p>  <pre> Could not compile deserialized mapping document.  A first chance exception of type 'NHibernate.MappingException' occurred in NHibernate.dll    at NHibernate.Cfg.Configuration.LogAndThrow(Exception exception) in c:\Projects\nhibernate-core\src\NHibernate\Cfg\Configuration.cs:line 344    at NHibernate.Cfg.Configuration.AddDeserializedMapping(HbmMapping mappingDocument, String documentFileName) in c:\Projects\nhibernate-core\src\NHibernate\Cfg\Configuration.cs:line 532    at NHibernate.Cfg.Configuration.AddValidatedDocument(NamedXmlDocument doc) in c:\Projects\nhibernate-core\src\NHibernate\Cfg\Configuration.cs:line 501    at NHibernate.Cfg.Configuration.ProcessMappingsQueue() in c:\Projects\nhibernate-core\src\NHibernate\Cfg\Configuration.cs:line 1867    at NHibernate.Cfg.Configuration.AddDocumentThroughQueue(NamedXmlDocument document) in c:\Projects\nhibernate-core\src\NHibernate\Cfg\Configuration.cs:line 1858    at NHibernate.Cfg.Configuration.AddXmlReader(XmlReader hbmReader, String name) in c:\Projects\nhibernate-core\src\NHibernate\Cfg\Configuration.cs:line 1851    at NHibernate.Cfg.Configuration.AddInputStream(Stream xmlInputStream, String name) in c:\Projects\nhibernate-core\src\NHibernate\Cfg\Configuration.cs:line 640    at NHibernate.Cfg.Configuration.AddInputStream(Stream xmlInputStream) in c:\Projects\nhibernate-core\src\NHibernate\Cfg\Configuration.cs:line 614    at Example.Domain.Tests.SetUp() </pre>  <p>Everything looks correct in the xml to me... any ideas what I'm missing?</p>