<p>I am trying to produce a report of products and their quantities. All works fine except for the variable products, I'm having a hard time getting the quantity...this is what I have so far:</p>  <pre><code>    global $wpdb;     $args = array(         'post_type' =&gt; 'product',         'post_status' =&gt; 'publish',         'nopaging' =&gt; 'true',         'orderby' =&gt; 'post_title',         'order' =&gt; 'asc'     );     $loop = new WP_Query( $args );     $output = '&lt;div style="float: right;"&gt;As of ' . current_time('F d, Y h:ia') . '&lt;/div&gt;';     $output .= '&lt;h3&gt;Products Report&lt;/h3&gt;';     $output .= '&lt;table border="0"&gt;&lt;tbody&gt;';     while ( $loop-&gt;have_posts() ) : $loop-&gt;the_post();         $product = new WC_Product( $loop-&gt;post-&gt;ID );         if ($product-&gt;product_type == 'variable') {             $product = new WC_Product_Variable( $loop-&gt;post-&gt;ID );         }         $qty = ($product-&gt;get_total_stock() != 0) ? $product-&gt;get_total_stock(): 'OUT';         $price = '$'.$product-&gt;get_price();         $output .= '&lt;tr&gt;&lt;td&gt;&lt;em&gt;&lt;strong&gt;' . $loop-&gt;post-&gt;post_title . '&lt;/strong&gt;&lt;/em&gt;&lt;br&gt;' . $loop-&gt;post-&gt;post_content . '&lt;/td&gt;&lt;td&gt;&lt;span class="wc-qty"&gt;' . $qty .'&lt;/span&gt;&lt;/td&gt;&lt;td&gt;' . $price .'&lt;/td&gt;&lt;/tr&gt;';     endwhile;     $output .= '&lt;/tbody&gt;&lt;/table&gt;';     echo $output; </code></pre>  <p>The $product->product_type is returning nothing, blank. How can I get the variations information for a variable products?</p>