<p>I would like to have a query that uses the greater of two values/columns if a certain other value for the record is true.</p>  <p>I'm trying to get a report account holdings. Unfortunately the DB usually stores the value of Cash in a column called <code>HoldingQty</code>, while for every other type of holding (stocks, bonds, mutual funds) it stores it in a column called <code>Qty</code>.</p>  <p>The problem is that sometimes the value of the cash is stored in <code>Qty</code> only, and sometimes it is in both <code>Qty</code> and <code>HoldingQty</code>. Obviously sometimes it is stored only in <code>HoldingQty</code> as mentioned above.</p>  <p>Basically I want my select statement to say "if the security is cash, look at both qty and holding qty and give me the value of whatever is greater. Otherwise, if the security isn't cash just give me qty".</p>  <p>How would I write that in T-SQL? Here is my effort:</p>  <pre><code>SELECT      h.account_name, h.security_name, h.security_type, h.price,     (CASE:          WHEN security_type = 'cash'              THEN (WHEN h.qty &gt; h.holdingqty                       THEN h.qty                    ELSE h.holdingqty)          ELSE qty) as quantity,       h.total_value FROM      holdings h WHERE     ........... </code></pre>