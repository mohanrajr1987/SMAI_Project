<p>I'm unable to do a direct upload (javascript XHR) on my S3 bucket, because of CORS blocking system. I'm using PHP to generate direct a upload link, with an upload policy and S3 signature:</p>  <p><code>{"key": "501/source/${filename}", "AWSAccessKeyId": "AKIAIIG**********", "acl": "private","policy": "ey JleHBpcmF0aW***************", "signature": "j2UnJRfj+uC+FazEF+wPnuJpdcs=", "success_action_status": "201"}</code></p>  <p>But when I try to upload a file to generated link, I get following error from Firefox:</p>  <blockquote>   <p>Request Blocked: The Same Origin Policy disallows reading the remote   resource at <a href="https://my.bucket.s3.amazonaws.com" rel="nofollow">https://my.bucket.s3.amazonaws.com</a>. This can be fixed by   moving the resource to the same domain or enabling CORS.</p> </blockquote>  <p>My bucket is correctly configured with a CORS policy to allow POST from everywhere:</p>  <pre><code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; &lt;CORSConfiguration xmlns="http://s3.amazonaws.com/doc/2006-03-01/"&gt;     &lt;CORSRule&gt;         &lt;AllowedOrigin&gt;*&lt;/AllowedOrigin&gt;         &lt;AllowedMethod&gt;GET&lt;/AllowedMethod&gt;         &lt;AllowedMethod&gt;POST&lt;/AllowedMethod&gt;         &lt;AllowedMethod&gt;PUT&lt;/AllowedMethod&gt;         &lt;AllowedMethod&gt;DELETE&lt;/AllowedMethod&gt;         &lt;AllowedMethod&gt;HEAD&lt;/AllowedMethod&gt;         &lt;MaxAgeSeconds&gt;3000&lt;/MaxAgeSeconds&gt;         &lt;AllowedHeader&gt;*&lt;/AllowedHeader&gt;     &lt;/CORSRule&gt; &lt;/CORSConfiguration&gt; </code></pre>  <p>What more should I do?</p>  <p>Here is the PHP code I use to generate the policy &amp; S3 signature :</p>  <pre><code>$key = '42/source/'; $policy = json_encode(array(     'expiration' =&gt; date('Y-m-d\TG:i:s\Z', strtotime('+6 hours')),     'conditions' =&gt; array(         array('bucket' =&gt; 'my.bucket'),         array('acl' =&gt; 'private'),         array('starts-with', '$key', $key),         array('success_action_status' =&gt; '201')     ) )); $policy = base64_encode($policy); $signature = base64_encode(hash_hmac('sha1', $policy, 'G3wzaTNwnQC2mQB3****************', true)); return array(     'key' =&gt; $key.'${filename}',     'AWSAccessKeyId' =&gt; 'AKIAIIG**********',     'acl' =&gt; 'private',     'policy' =&gt; $policy,     'signature' =&gt; $signature,     'success_action_status' =&gt; '201' ); </code></pre>  <p>I then use this array of params in my JavaScript <code>fileupload()</code> script to direct upload to Amazon S3 (XHR request).</p>  <p>Thanks for your help, Philippe S.</p>