<p>So I have slight problem. The PHP program I am working on allows web designers to post some code sometimes, and is put into a backend database. Sometimes the designers may also want to discuss html entities.</p>  <p>So let's say the designer adds a line of code to database like this:</p>  <pre><code>&lt;p&gt;hellos friend&lt;/p&gt; </code></pre>  <p>So I use PDO to stick this line in the database without escaping it, and everything is fine, it shows up good. Now, I want the web designer to be able to edit this, so when I pull it out of database I use this code after:</p>  <pre><code>$post = htmlentities($post); </code></pre>  <p>It is good now that I can insert this into my editor:</p>  <pre><code>&lt;textarea&gt;$post&lt;/textarea&gt; </code></pre>  <p>But we have problem because when this guy edit this code, he submit and it go back into the database and now it got HTML entities and has <strong>&amp; lt ;</strong> instead of &lt; and <strong>&amp; gt ;</strong> instead of >  (it is hard to type this on SA it re-encodes it)</p>  <pre><code>&amp;lt;p&amp;gt;hellos friend&amp;lt;/p&amp;gt; </code></pre>  <p>So now it's wrong in database, so when I display it again, it show the entities.</p>  <p>So maybe I can run the opposite of <strong>htmlentities</strong> after editing it and re-add all the entities, if there is such a thing, but that brings another problem:</p>  <p>What if a web designer is telling other guy "Hey man, this is what an html entity is, it is typed like this: <strong>&amp;</strong> <strong>lt;</strong> you should use it"</p>  <p>Then THAT is going to turn out to get stuck back into NOT being an entity, you see what I mean? Is there a solute?</p>