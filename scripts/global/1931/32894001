<p>I'm attempting to test the <code>isKeyguardSecure()</code> method of the <a href="http://developer.android.com/reference/android/app/KeyguardManager.html#isDeviceSecure()" rel="nofollow">KeyguardManager</a> class in an Android application.</p>  <p>I've tried and failed using <a href="http://easymock.org" rel="nofollow">EasyMock</a>, <a href="http://mockito.org/" rel="nofollow">Mockito</a>, and <a href="https://github.com/jayway/powermock" rel="nofollow">PowerMock</a> to create a mock <code>KeyguardManager</code> object.  Below are my attempts and the error messages received.</p>  <hr>  <p><strong>EasyMock</strong></p>  <p><code>KeyguardManager keyguardManagerMock = EasyMock.createMock(KeyguardManager.class);</code></p>  <p>Error message: <code>java.lang.IllegalArgumentException: android.app.KeyguardManager is not an interface</code></p>  <hr>  <p><strong>Mockito and PowerMock</strong></p>  <p><code>KeyguardManager mockedKeyguardManager = Mockito.mock(KeyguardManager.class);</code> <code>KeyguardManager mockedKeyguardManager = PowerMockito.mock(KeyguardManager.class);</code></p>  <p>Error messages: <code>java.lang.VerifyError: mockit/internal/startup/Startup</code> <code>java.lang.VerifyError: org/mockito/cglib/core/ReflectUtils</code></p>  <hr>  <p><a href="http://www.developerblogger.com/21_23512996/" rel="nofollow">One explanation for this</a> states that the root problem is with the Dalvik virtual machine that Android devices run.  Can anyone verify this?  Is it possible to mock the <code>KeyguardManager</code> class using any available mocking library that will work in testing an Android app?</p>  <p>Thanks!</p>