<p>This is my setup:</p>  <pre><code>/ solution.sln Core/     Core.csproj web/     web.csproj     Web.config Test/     Test.csproj     App.config build/     _PublishedWebsites/web/etc...     test.dll     test.dll.config     Core.dll     log4net.dll </code></pre>  <p>I wrote Unit Tests in the <code>Test</code> project that test the functionality of the <code>Core</code> project. All of the projects use log4net, all of them are configured using the respective <code>App.config</code> or <code>Web.config</code> files using</p>  <pre><code>[assembly: log4net.Config.XmlConfigurator(Watch = true)] </code></pre>  <p>in their <code>AssemblyInfo.cs</code>.</p>  <p>The projects are built using NAnt into a <code>build</code> directory.</p>  <p>When I run the Unit Tests from Visual Studio (2010 Professional), everything works fine.</p>  <p>But when I try to execute MSTest directly</p>  <pre><code>MSTest.exe /resultsfile:TestResults.trx /noisolation /testcontainer:build\test.dll </code></pre>  <p>All test cases fail with the following error:</p>  <pre><code>log4net:ERROR Failed to find configuration section 'log4net' in the application's .config file </code></pre>  <p>This confuses me, because the <code>test.dll.config</code> file most definitely contains the <code>log4net</code> configuration section.</p>  <p>The folder created by MSTest also <strong>contains the config file</strong>:</p>  <pre><code>/flopes_MyMachine 2015-10-08 08_48_59/Out/     Core.dll     test.dll     test.dll.config     log4net.dll </code></pre>  <p>It appears to me that maybe <code>MSTest</code> is using a wrong configuration file or doesnt find the configuration file of the <code>test.dll</code>? Does that even make sense? Is there a way to tell MSTest which config file to use?</p>  <p>I did a small test output to see what configuration file is loaded, and it added even more mystery, because apparently the configuration file that was loaded is:</p>  <pre><code>D:\Programme\Microsoft Visual Studio 10.0\Common7\IDE\MSTest.exe.Config </code></pre>  <p>How is this possible? Why does MSTest not just load the configuration file that <strong>is right beside</strong> the <code>test.dll</code>? How does this make sense?</p>