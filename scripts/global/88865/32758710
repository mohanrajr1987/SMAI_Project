<p>I'm building an angular app where you can add and remove widgets/modules from the page. Different types of modules have different templates.  However the view isn't updating when i'm using splice to remove an object.  I've tried calling $scope.$apply(); from the deleteModule function, but got an in progress error. </p>  <p>I call <code>ng-click="deleteModule(module)</code> on a button that is added by a directive. Also, the result of <code>$scope.modules.indexOf(module);</code> is always -1. I guess those problems go hand in hand. </p>  <p>EDIT: Made a codepen <a href="http://codepen.io/anon/pen/XmjEJr" rel="nofollow">http://codepen.io/anon/pen/XmjEJr</a></p>  <p>The controller and directive: <div class="snippet" data-lang="js" data-hide="false"> <div class="snippet-code"> <pre class="snippet-code-js lang-js prettyprint-override"><code>var ponk = angular.module("ponk", []);  ponk.controller("AppCtrl", ["$scope", function($scope) {    //dummy data   $scope.modules = [     {       type: "text",       content: "this is a text field"     },     {       type: "youtube",       content: "adress to youtubevideo"     }     ];      $scope.showAddModule = false;      $scope.newModule = {       type: "text",       content: ""     }    $scope.toggleAddModule = function () {            $scope.showAddModule = !$scope.showAddModule;   };    $scope.addModule = function() {       $scope.modules.push($scope.newModule);       $scope.newModule = { type: "text", };       $scope.showAddModule = false;   };    $scope.deleteModule = function(module) {       var index = $scope.modules.indexOf(module);       if(index != -1) {         $scope.modules.splice(index);         console.log("splice");       } else {         console.log("nosplice");       }       console.log($scope.modules);   };  }]);  ponk.directive("module", function($compile) { // the deletebutton is added here   var before = '&lt;div&gt;&lt;span class="glyphicon glyphicon-remove-circle pointer" ng-click="deleteModule(module)"&gt;&lt;/span&gt;&lt;/div&gt;';   var textTemplate = '&lt;div class=" col-xs-2"&gt;' + before + '&lt;div class="module"&gt;{{ module.content }}&lt;/div&gt;&lt;/div&gt;';   var youtubeTemplate = '&lt;div class="col-xs-4"&gt;' + before + '&lt;div class="module"&gt;&lt;iframe id="ytplayer" type="text/html" width="500" height="300" src="http://www.youtube.com/embed/?autoplay=0" frameborder="0"/&gt;&lt;/div&gt;&lt;/div&gt;';    var getTemplate = function(type) {      var template = "";     switch(type) {       case "youtube":         template = youtubeTemplate;         break;       case "text":       default:         template = textTemplate;         break;     }     return template;   }    var linker = function(scope, element, attrs) {     var el = $compile(getTemplate(scope.module.type))(scope);     element.replaceWith(el);   }    return {     scope: {module: '=',},     transclude: 'true',     controller: 'AppCtrl',     restrict: 'E',     link: linker,   } });</code></pre> </div> </div> </p>  <p>The HTML:</p>  <p><div class="snippet" data-lang="js" data-hide="false"> <div class="snippet-code"> <pre class="snippet-code-html lang-html prettyprint-override"><code>&lt;div class="container-fluid" ng-app="ponk" ng-controller="AppCtrl"&gt;      &lt;div class="row"&gt;       &lt;div class="col-xs-2"&gt;            &lt;button class="btn btn-default add-module" ng-click="toggleAddModule()"&gt;Add module&lt;/button&gt;           &lt;div ng-show="showAddModule"&gt;             &lt;form action="" novalidate&gt;               &lt;div class="form-group"&gt;                 &lt;label for="moduleType"&gt;&lt;/label&gt;                 &lt;select class="form-control" name="moduleType" ng-model="newModule.type"&gt;                   &lt;option value="text" selected&gt;Text&lt;/option&gt;                   &lt;option value="youtube"&gt;Youtube&lt;/option&gt;                 &lt;/select&gt;               &lt;/div&gt;                &lt;div ng-switch="newModule.type"&gt;                  &lt;div ng-switch-when="youtube" class="form-group"&gt;                   &lt;label for="youtube"&gt;Youtube&lt;/label&gt;                   &lt;input type="text" name="youtube" ng-model="newModule.content" class="form-control"&gt;                 &lt;/div&gt;                 &lt;div ng-switch-when="text" class="form-group"&gt;                   &lt;label for="formText"&gt;Text&lt;/label&gt;                   &lt;textarea ng-model="newModule.content" name="formText" class="form-control"&gt;&lt;/textarea&gt;                 &lt;/div&gt;                &lt;/div&gt;               &lt;button ng-click="addModule()" type="button" class="btn btn-default"&gt;Add&lt;/button&gt;             &lt;/form&gt;           &lt;/div&gt;       &lt;/div&gt;              &lt;div class="col-xs-10"&gt;         &lt;!-- the directive --&gt;         &lt;module ng-repeat="module in modules" module="module"&gt;&lt;/module&gt;       &lt;/div&gt;            &lt;/div&gt;</code></pre> </div> </div> </p>