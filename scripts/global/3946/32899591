<p>hi im looking into improving this code by being able to check whether the data inside the uploaded textfile matches the database records so that it can be displayed into the listbox.</p>  <p>what the code currently does is read the textfile line by line and add in whatever text found inside the listbox. (this is before i attempt to add in the foreach method inside the while loop)</p>  <pre><code>protected void ButtonUpload_Click(object sender, EventArgs e) {   using (StreamReader sr = new StreamReader(FileUploadAddListOfUsers.PostedFile.InputStream))   {     while (!sr.EndOfStream)     {       ListCurrentUser.Items.Add(sr.ReadLine());        //String userID         foreach (string domainName in domainNameList)       {         ActiveDirectory ad = (ActiveDirectory)HttpContext.Current.Application[ConfigurationManager.AppSettings[domainName]];         ADUserInfo userInfo = ad.GetUserInfoBySamName(userID);          if (userInfo != null)         {          }        }    } } </code></pre>