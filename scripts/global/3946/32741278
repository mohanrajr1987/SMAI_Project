<p>I am making a GUI programmatically and have run into a small question regarding the uicontrol listbox and the data each 'value' or 'string' refers to. I feel this question will best be illustrated with some code. The code at the end of this question illustrates my question.</p>  <p>If you run this example, select all 5 files from the left listbox and press 'Button1', you will see them go into the right listbox. You can then select 1, or several of the files in the right list box and press 'Button2' and MATLAB will output the correct files names. All is fine here.</p>  <p>If you close and re run the program, and just select file1, file3, and file5, pressing Button1 will make them go into the right list box again. This is where my problem is: If you select all of the files now in the right list box (file1, file3, file3), and press Button2, matlab outputs file1, file2, and file3... not file1, file3 and file5 as I would like.</p>  <p>Now I understand why this is happening, because in a list box its <code>value</code> property starts at 1 and increases, and the underlying data in the Cell <code>DataSet</code> remains ordered file1 to file5... So <code>value</code> 1 2 3 refers to <code>DataSet{1}</code> <code>DataSet{2}</code> <code>DataSet{3}</code>...</p>  <p>What would be the best way to overcome this problem? I would like to add that for my actual GUI the file names might not always be so obviously named.</p>  <pre><code>classdef example &lt; handle      properties         Figure;         Button1;         Button2;         ListBox1;         ListBox2;          DataSet = {};     end      methods         function obj = example()             create(obj);             makeUpData(obj);         end          function create(obj)             obj.Figure = figure('Position',[300 300 640 640]);              obj.Button1 = uicontrol('Style','pushbutton','String','Button1',...                 'Position',[240 260 80 40],'Callback',@obj.button1CB);              obj.Button2 = uicontrol('Style','pushbutton','String','Button2',...                 'Position',[510 260 80 40],'Callback',@obj.button2CB);              obj.ListBox1 = uicontrol('Style','listbox','String','',...                 'Position',[50 250 145 100],'Max',3);              obj.ListBox2 = uicontrol('Style','listbox','String','',...                 'Position',[350 250 145 100],'Max',3);         end          function makeUpData(obj)             obj.DataSet = {'file1' 'file2' 'file3' 'file4' 'file5'};             obj.ListBox1.String = obj.DataSet;         end          function button1CB(obj,hObject,eventdata)             CurrentNum = get(obj.ListBox1,'Value');             NameListBox1 = get(obj.ListBox1,'String');             NewName = obj.ListBox2.String;             for i = 1:numel(CurrentNum)                 NewName{end+1} = [NameListBox1{CurrentNum(i)}];             end             obj.ListBox2.String = NewName;         end          function button2CB(obj,hObject,eventdata)             CurrentNum = get(obj.ListBox2,'Value')             for i = 1:numel(CurrentNum)                 obj.DataSet{CurrentNum(i)}             end         end     end end </code></pre>