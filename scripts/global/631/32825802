<p>I have two loops one which calls agents and another with calls a set of dates. The dates loop sits inside the agents loop. The intention is to count the amount of rows inside for each individual agent. What I get is an overall total being added up instead of an individual total for each agent that I require.</p>  <pre><code>$company = $_SESSION['user']['company']; $sth = $db-&gt;prepare("SELECT id, firstname, lastname, company FROM users WHERE company = '".$company."' AND level = 'user' AND status = 'Active'");     $sth-&gt;execute();     $agents = $sth-&gt;fetchAll();       foreach($agents as $name){      $begin = new DateTime($date1);     $end = new DateTime($date2);      $daterange = new DatePeriod($begin, new DateInterval('P1D'), $end);                               foreach($daterange as $date){          $salesdates = $date-&gt;format("Y-m-d");          $query = "SELECT unid FROM ".$company."_automated_responses WHERE title = 'Sale' AND date LIKE '".$salesdates."%' AND agent_id = '".$name['id']."'";         $stmt = $db-&gt;prepare( $query );         $stmt-&gt;execute();          $salescount = $stmt-&gt;rowCount();          if($salescount &lt; 10){ $bonus = 0; }         else if($salescount &lt; 12){ $bonus = 25; }         else if($salescount &lt; 14){ $bonus = 40; }         else if($salescount &lt; 16){ $bonus = 50; }         else if($salescount &lt; 18){ $bonus = 70; }         else if($salescount &lt; 20){ $bonus = 85; }         else if($salescount &gt; 19){ $bonus = 100; }                                        $total_bonus += $bonus;         $total_salescount += $salescount;       }      echo $total_salescount.' - '.$name['firstname'].' '.$name['lastname'].' - '.$total_bonus.'&lt;br /&gt;';  } </code></pre>  <p>This is the output:</p>  <blockquote>   <p>125 - Agent 1 - 115</p>      <p>245 - Agent 2 - 180</p>      <p>387 - Agent 3 - 400</p>      <p>517 - Agent 4 - 540</p> </blockquote>  <p>What it should look like is this:</p>  <blockquote>   <p>125 - Agent 1 - 115</p>      <p>120 - Agent 2 - 75</p>      <p>142 - Agent 3 - 220</p>      <p>130 - Agent 4 - 140</p> </blockquote>