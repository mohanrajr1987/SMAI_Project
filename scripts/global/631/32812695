<p>I try to develop a simple comment system. The foreach row <code>$result</code> contains variables from a database named posts. </p>  <p>The id of the post(every post is a list item) that is AUTO_INCREMENT and every post have a unique $id, the author of the post and the comment become submitted to a file that insert the three values into a database named comments. </p>  <p>The second foreach loop, <code>$comments</code>, should show the comments when the user click the popup button. That does not works because the id <code>&lt;input type="hidden" name="id" id="id" value="&lt;?PHP echo $row['id']; ?&gt;" type="text" /&gt;</code> wont become right inserted(comments.php should do that). </p>  <p>The result is that all comments become showed in every list item and not the only these comments who are e.g. at list item 2. How can I insert the $id of the list items into the database?</p>  <pre><code>&lt;div data-role="content"&gt;     &lt;?php include( "list.php"); ?&gt;     &lt;div data-demo-html="true"&gt;         &lt;ul data-role="listview" data-inset="true" class="ui-listview ui-listview-inset ui-corner-all ui-shadow"&gt;              &lt;?php foreach ($result as $key=&gt; $row): ?&gt;              &lt;li id="listone" name="listone" data-role="list-divider" role="heading" class="ui-li ui-li-divider ui-bar-b ui-li-has-count ui-first-child"&gt;                 &lt;?php echo $row[ 'date']; ?&gt;             &lt;/li&gt;             &lt;li data-corners="false" data-shadow="false" data-iconshadow="true" data-wrapperels="div" data-icon="arrow-r" data-iconpos="right" data-theme="a"&gt;                 &lt;div class="ui-btn-inner ui-li"&gt;                     &lt;div class="ui-btn-text"&gt;                         &lt;a class="ui-link-inherit"&gt;                             &lt;p class="ui-li-aside ui-li-desc"&gt;&lt;strong&gt;&lt;/strong&gt;                                 &lt;?php echo $row[ 'time']; ?&gt;                             &lt;/p&gt;                             &lt;p class="ui-li-desc"&gt;&lt;strong&gt;&lt;?php echo $row['title']; ?&gt;&lt;/strong&gt;                             &lt;/p&gt;                             &lt;p class="ui-li-desc"&gt;                                 &lt;?php echo $row[ 'text']; ?&gt;                             &lt;/p&gt;                              &lt;p class="ui-li-desc"&gt;&lt;strong&gt;&lt;?php echo $row['town']; ?&gt;&lt;/strong&gt;                             &lt;/p&gt;                             &lt;a href="#popupcomment" data-rel="popup" data-position-to="window" data-transition="pop"&gt;comment&lt;/a&gt;                             &lt;div data-role="popup" id="popupcomment" data-theme="a" class="ui-corner-all"&gt;                                 &lt;form data-ajax="false" name="login-form" class="login-form" action="./comments.php" method="post" style="padding:20px 40px;"&gt;                                     &lt;div class="content"&gt;                                         &lt;?php include( "showcomments.php"); ?&gt;                                         &lt;?php foreach ($comments as $keyComment=&gt; $rowComment): ?&gt;                                         &lt;p class="ui-li-desc"&gt;&lt;strong&gt;&lt;?php echo $rowComment['username']; ?&gt;&lt;/strong&gt;                                         &lt;/p&gt;                                         &lt;p class="ui-li-desc"&gt;                                             &lt;?php echo $rowComment[ 'comment']; ?&gt;                                         &lt;/p&gt;                                         &lt;?php endforeach; ?&gt;                                         &lt;input type="hidden" name="id" id="id" value="&lt;?php echo $row['id']; ?&gt;" type="text" /&gt;                                         &lt;input type="hidden" name="autorpost" id="autorpost" value="&lt;?php echo $row['autor']; ?&gt;" type="text" /&gt;                                         &lt;!-- autor des posts --&gt;                                         &lt;textarea rows="1" name="text" id="text" class="foo"&gt;&lt;/textarea&gt;                                     &lt;/div&gt;                                     &lt;div class="footer"&gt;                                         &lt;input type="submit" name="save" value="comment" class="button" data-theme="a" /&gt;                                     &lt;/div&gt;                                 &lt;/form&gt;                             &lt;/div&gt;                          &lt;/a&gt;             &lt;/li&gt;              &lt;?php endforeach; ?&gt;          &lt;/ul&gt;         &lt;/div&gt;         &lt;/div&gt;         &lt;!-- div content --&gt;     &lt;/div&gt; &lt;/div&gt; </code></pre>  <blockquote>   <p>showcomments.php:</p> </blockquote>  <pre><code>$hostname='localhost'; $user='root'; $password='';  $id = $row['id']; try {      $dbh = new PDO("mysql:host=$hostname;dbname=searchfood",$user,$password);       $dbh-&gt;setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION); // &lt;== add this line      $sql = "SELECT id, username, comment, time               FROM comments               WHERE  id_post = $id               ORDER BY id DESC";       // oder (longitude between $loo and $lo or latitude  between $laa and $la) versuchen      if ($com = $dbh-&gt;query($sql)) {// need to add this line in your code       // then after fetchColumn      $comments = $com-&gt;fetchAll();             }                         } catch(PDOException $e) {     echo $e-&gt;getMessage(); }       </code></pre>  <blockquote>   <p>comments.php:</p> </blockquote>  <pre><code>$hostname='localhost'; $user='root'; $password='';  if(isset($_POST["id"])){                         try {         $dbh = new PDO("mysql:host=localhost;dbname=searchfood", $user, $password);          $dbh-&gt;setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION); // &lt;== add this line         // prepare your query         $query = 'INSERT INTO comments                      (username, autorpost, comment, id_post, time)                    VALUES (?, ?, ?, ?, now())';          $stmt = $dbh-&gt;prepare($query);         // bind variables         $stmt-&gt;execute(array($_COOKIE['username'], $_POST['autorpost'], $_POST['text'], $_POST['id']));         // pull last insert id         $new = $dbh-&gt;lastInsertId();           // show success message or redirect, whatever you want         echo "New Record Inserted Successfully";         $message['success'] = 'Neuer Benutzer (' . htmlspecialchars($_POST['username']) . ') wurde angelegt, &lt;a href="login.php"&gt;weiter zur Anmeldung&lt;/a&gt;.';         header("Location: http://".$_SERVER['HTTP_HOST']."/lendsth/main.php", true, 302);      }     catch(PDOException $e) {         echo $e-&gt;getMessage();     }  } </code></pre>