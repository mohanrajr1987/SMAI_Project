<p>I want to create a simple commentsystem. The file <code>list.php</code> select data from a mysql database with pdo. The file save then the variables into an array <code>results</code>which creates with the first foreach loop a list item. Into every list item is a button <code>&lt;a href="#popupcomment" data-rel="popup" data-position-to="window" data-transition="pop"&gt;comment&lt;/a&gt;</code>. This button show a popup which contains the id and the autor of the listitem  <code>&lt;input type="hidden" name="id" id="id" value="&lt;?php echo $row['id']; ?&gt;" type="text" /&gt;</code> and the other input element. A normal text field for the comment itself. After submit the popup, the values should become inserted into an database which only works, if I delete the second foreach loop($comments) into the first foreach loop. But with the foreach loop into the foreach loop the comments should become showed the user if he clicks at the comment button. The id and the autor variables into the hidden input elements dont become inserted.</p>  <p>The error is: </p>  <blockquote>   <p>Notice: Undefined index: autor</p> </blockquote>  <p>How is it possible that both foreach loops work?</p>  <pre><code>    &lt;div data-role="content"&gt;                 &lt;?php include("list.php"); ?&gt;     &lt;div data-demo-html="true"&gt;                 &lt;ul data-role="listview" data-inset="true" class="ui-listview ui-listview-inset ui-corner-all ui-shadow"&gt;                  &lt;?php foreach ($result as $key =&gt; $row): ?&gt;                      &lt;li id ="listone" name="listone"  data-role="list-divider" role="heading" class="ui-li ui-li-divider ui-bar-b ui-li-has-count ui-first-child"&gt;&lt;?php echo $row['date']; ?&gt;&lt;/li&gt;                     &lt;li data-corners="false" data-shadow="false" data-iconshadow="true" data-wrapperels="div" data-icon="arrow-r" data-iconpos="right" data-theme="a" &gt;&lt;div class="ui-btn-inner ui-li"&gt;&lt;div class="ui-btn-text"&gt;&lt;a class="ui-link-inherit"&gt;&lt;p class="ui-li-aside ui-li-desc"&gt;&lt;strong&gt;&lt;/strong&gt;&lt;?php echo $row['time']; ?&gt;&lt;/p&gt;                         &lt;p class="ui-li-desc"&gt;&lt;strong&gt;&lt;?php echo $row['title']; ?&gt;&lt;/strong&gt;&lt;/p&gt;                         &lt;p class="ui-li-desc"&gt;&lt;?php echo $row['text']; ?&gt;&lt;/p&gt;                          &lt;p class="ui-li-desc"&gt;&lt;strong&gt;&lt;?php echo $row['town']; ?&gt;&lt;/strong&gt;&lt;/p&gt;               &lt;a href="#popupcomment" data-rel="popup" data-position-to="window" data-transition="pop"&gt;comment&lt;/a&gt;                &lt;div data-role="popup" id="popupcomment" data-theme="a" class="ui-corner-all"&gt;     &lt;form data-ajax="false" name="login-form" class="login-form" action="./comments.php" method="post" style="padding:20px 40px;"&gt;         &lt;div class="content"&gt;     &lt;?php include("showcomments.php"); ?&gt;     &lt;?php foreach ($comments as $key =&gt; $row): ?&gt;     &lt;p class="ui-li-desc"&gt;&lt;strong&gt;&lt;?php echo $row['username']; ?&gt;&lt;/strong&gt;&lt;/p&gt;                         &lt;p class="ui-li-desc"&gt;&lt;?php echo $row['comment']; ?&gt;&lt;/p&gt;                         &lt;?php endforeach; ?&gt;     &lt;input type="hidden" name="id" id="id" value="&lt;?php echo $row['id']; ?&gt;" type="text" /&gt;      &lt;input type="hidden" name="autor" id="autor" value="&lt;?php echo $row['autor']; ?&gt;" type="text" /&gt; &lt;textarea rows="1" name="text" id="text" class="foo"&gt;&lt;/textarea&gt;         &lt;/div&gt;         &lt;div class="footer"&gt;         &lt;input type="submit" name="save" value="comment" class="button" data-theme="a"/&gt;                     &lt;/div&gt;       &lt;/form&gt; &lt;/div&gt;                      &lt;/a&gt;&lt;/li&gt;          &lt;?php endforeach; ?&gt;  &lt;/ul&gt;             &lt;/div&gt;       &lt;/div&gt;&lt;!-- div content --&gt; &lt;/div&gt; &lt;/div&gt; </code></pre>