<p>I'm trying to set the ADR base to a certain value and clear all of the homes on a linux box in a bash script. The reason I don't do this directly through just a while loop is because when I issue adrci on some homes, the values of what is in the ADR directory is different, so I want to loop through ADR once while setting the base to a know value in an adrci exec command. I am having an issue with the command below</p>  <pre><code>adrci exec="set base /u00/app/oracle | show homes"|grep -v : | while read line  do  adrci exec="set homepath $line;purge -age 43200"  done  </code></pre>  <p>Running this gives me this error</p>  <pre><code>DIA-48448: This command does not support multiple ADR homes </code></pre>  <p>Running it within adrci and setting the home manually, this works to show all ADR directories in the Oracle base.</p>  <p>However, when I run this</p>  <pre><code> adrci exec="show homes"|grep -v : | while read line      do      adrci exec="set homepath $line;purge -age 43200"      done  </code></pre>  <p>This will work, however this command may not give all of the ADR homes that are in the Oracle base. </p>  <p>How can I get the first command to work, where it will set the base to a certain value and loop through all of the ADR homes within the Oracle base.</p>