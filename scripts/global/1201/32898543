<p>On a <strong>single page application</strong>, the client is editing a big form at</p>  <p><code>localhost/#!/product/123/edit</code></p>  <ul> <li><p>He navigates away, I want to display a confirm dialog "Are you sure to leave?" [OK] [Cancel]. If he click on [Cancel] he must stay with the form.</p></li> <li><p>Here is my current implementation </p></li> </ul>  <p><code>     page.exit('*', function (ctx, next) {         if (form is editing and not submitted) {             if (confirm("Are you sure you want to leave")) {                 next(); //user click OK -&gt; leave             }         }         else {             next(); //nothing changed on the form =&gt; leave         }     }); </code></p>  <p>The problem: each time I click on a link ('/foo') and cancel the leaving. The page content (my big form) stay untouched but <code>page.js</code> will still <code>pushState('/foo')</code> and the window.location changes to '/foo' which is no longer corresponding with the page</p>  <p>how can we really cancel the pushState, and left the address bar stay untouched at <code>localhost/#!/product/123/edit</code></p>