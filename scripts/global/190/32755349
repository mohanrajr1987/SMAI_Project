<p>I'm trying to use deployment with versionning on Glassfish (<a href="http://docs.oracle.com/cd/E18930_01/html/821-2417/gihzx.html" rel="nofollow">http://docs.oracle.com/cd/E18930_01/html/821-2417/gihzx.html</a>)</p>  <p>But I have some issue when I'm doing a deployment while a transaction is running on my server. The deployment works fine but then all of my call on any EJB come with this kind of error : </p>  <pre><code>[#|2015-09-24T06:53:40.467+0000|WARNING|glassfish3.1.2|javax.enterprise.system.container.ejb.com.sun.ejb.containers|_ThreadID=150;_ThreadName=Thread-2;|EJB5184:A system exception occurred during an invocation on EJB ProductService, method: public com.project.model.service.projectResponse com.project.services.ejb.ProductService.searchProductNamesByCompanyId(java.lang.Long,com.project.model.enums.ProductType,com.project.model.enums.BookingMode)|#]  [#|2015-09-24T06:53:40.468+0000|WARNING|glassfish3.1.2|javax.enterprise.system.container.ejb.com.sun.ejb.containers|_ThreadID=150;_ThreadName=Thread-2;|javax.ejb.TransactionRolledbackLocalException: Client's transaction aborted     at com.sun.ejb.containers.BaseContainer.useClientTx(BaseContainer.java:4722)     at com.sun.ejb.containers.BaseContainer.preInvokeTx(BaseContainer.java:4616)     at com.sun.ejb.containers.BaseContainer.preInvoke(BaseContainer.java:1914)     at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:212)     at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:89)     at com.sun.proxy.$Proxy1297.searchProductNamesByCompanyId(Unknown Source)     at com.project.services.ejb.__EJB31_Generated__ProductService__Intf____Bean__.searchProductNamesByCompanyId(Unknown Source)     at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)     at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)     at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)     at java.lang.reflect.Method.invoke(Method.java:606)     at org.jboss.weld.util.reflection.SecureReflections$13.work(SecureReflections.java:267)     at org.jboss.weld.util.reflection.SecureReflectionAccess.run(SecureReflectionAccess.java:52)     at org.jboss.weld.util.reflection.SecureReflectionAccess.runAsInvocation(SecureReflectionAccess.java:137)     at org.jboss.weld.util.reflection.SecureReflections.invoke(SecureReflections.java:263)     at org.jboss.weld.bean.proxy.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:110)     at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)     at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:105)     at com.project.services.ejb.ProductService$Proxy$_$$_Weld$Proxy$.searchProductNamesByCompanyId(ProductService$Proxy$_$$_Weld$Proxy$.java)     at com.project.api.internal.rest.ProductRest.searchProductNamesByCompanyId(ProductRest.java:138)     at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)     at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)     at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)     at java.lang.reflect.Method.invoke(Method.java:606)     at com.sun.jersey.spi.container.JavaMethodInvokerFactory$1.invoke(JavaMethodInvokerFactory.java:60)     at com.sun.jersey.server.impl.model.method.dispatch.AbstractResourceMethodDispatchProvider$TypeOutInvoker._dispatch(AbstractResourceMethodDispatchProvider.java:185)     at com.sun.jersey.server.impl.model.method.dispatch.ResourceJavaMethodDispatcher.dispatch(ResourceJavaMethodDispatcher.java:75)     at com.sun.jersey.server.impl.uri.rules.HttpMethodRule.accept(HttpMethodRule.java:288)     at com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:147)     at com.sun.jersey.server.impl.uri.rules.ResourceClassRule.accept(ResourceClassRule.java:108)     at com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:147)     at com.sun.jersey.server.impl.uri.rules.RootResourceClassesRule.accept(RootResourceClassesRule.java:84)     at com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:1469)     at com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:1400)     at com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1349)     at com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1339)     at com.sun.jersey.spi.container.servlet.WebComponent.service(WebComponent.java:416)     at com.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:537)     at com.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:708)     at javax.servlet.http.HttpServlet.service(HttpServlet.java:770)     at org.apache.catalina.core.StandardWrapper.service(StandardWrapper.java:1550)     at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:281)     at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:175)     at org.apache.catalina.core.StandardPipeline.doInvoke(StandardPipeline.java:655)     at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:595)     at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:161)     at org.apache.catalina.connector.CoyoteAdapter.doService(CoyoteAdapter.java:331)     at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:231)     at com.sun.enterprise.v3.services.impl.ContainerMapper$AdapterCallable.call(ContainerMapper.java:317)     at com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:195)     at com.sun.grizzly.http.ProcessorTask.invokeAdapter(ProcessorTask.java:860)     at com.sun.grizzly.http.ProcessorTask.doProcess(ProcessorTask.java:757)     at com.sun.grizzly.http.ProcessorTask.process(ProcessorTask.java:1056)     at com.sun.grizzly.http.DefaultProtocolFilter.execute(DefaultProtocolFilter.java:229)     at com.sun.grizzly.DefaultProtocolChain.executeProtocolFilter(DefaultProtocolChain.java:137)     at com.sun.grizzly.DefaultProtocolChain.execute(DefaultProtocolChain.java:104)     at com.sun.grizzly.DefaultProtocolChain.execute(DefaultProtocolChain.java:90)     at com.sun.grizzly.http.HttpProtocolChain.execute(HttpProtocolChain.java:79)     at com.sun.grizzly.ProtocolChainContextTask.doCall(ProtocolChainContextTask.java:54)     at com.sun.grizzly.SelectionKeyContextTask.call(SelectionKeyContextTask.java:59)     at com.sun.grizzly.ContextTask.run(ContextTask.java:71)     at com.sun.grizzly.util.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:532)     at com.sun.grizzly.util.AbstractThreadPool$Worker.run(AbstractThreadPool.java:513)     at java.lang.Thread.run(Thread.java:745) |#]  [#|2015-09-24T06:53:40.470+0000|WARNING|glassfish3.1.2|javax.enterprise.system.container.web.com.sun.enterprise.web|_ThreadID=150;_ThreadName=Thread-2;|StandardWrapperValve[InternalApi]: PWC1406: Servlet.service() for servlet InternalApi threw exception javax.ejb.TransactionRolledbackLocalException: Client's transaction aborted     at com.sun.ejb.containers.BaseContainer.useClientTx(BaseContainer.java:4722)     at com.sun.ejb.containers.BaseContainer.preInvokeTx(BaseContainer.java:4616)     at com.sun.ejb.containers.BaseContainer.preInvoke(BaseContainer.java:1914)     at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:212)     at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:89)     at com.sun.proxy.$Proxy1297.searchProductNamesByCompanyId(Unknown Source)     at com.project.services.ejb.__EJB31_Generated__ProductService__Intf____Bean__.searchProductNamesByCompanyId(Unknown Source)     at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)     at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)     at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)     at java.lang.reflect.Method.invoke(Method.java:606)     at org.jboss.weld.util.reflection.SecureReflections$13.work(SecureReflections.java:267)     at org.jboss.weld.util.reflection.SecureReflectionAccess.run(SecureReflectionAccess.java:52)     at org.jboss.weld.util.reflection.SecureReflectionAccess.runAsInvocation(SecureReflectionAccess.java:137)     at org.jboss.weld.util.reflection.SecureReflections.invoke(SecureReflections.java:263)     at org.jboss.weld.bean.proxy.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:110)     at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)     at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:105)     at com.project.services.ejb.ProductService$Proxy$_$$_Weld$Proxy$.searchProductNamesByCompanyId(ProductService$Proxy$_$$_Weld$Proxy$.java)     at com.project.api.internal.rest.ProductRest.searchProductNamesByCompanyId(ProductRest.java:138)     at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)     at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)     at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)     at java.lang.reflect.Method.invoke(Method.java:606)     at com.sun.jersey.spi.container.JavaMethodInvokerFactory$1.invoke(JavaMethodInvokerFactory.java:60)     at com.sun.jersey.server.impl.model.method.dispatch.AbstractResourceMethodDispatchProvider$TypeOutInvoker._dispatch(AbstractResourceMethodDispatchProvider.java:185)     at com.sun.jersey.server.impl.model.method.dispatch.ResourceJavaMethodDispatcher.dispatch(ResourceJavaMethodDispatcher.java:75)     at com.sun.jersey.server.impl.uri.rules.HttpMethodRule.accept(HttpMethodRule.java:288)     at com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:147)     at com.sun.jersey.server.impl.uri.rules.ResourceClassRule.accept(ResourceClassRule.java:108)     at com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:147)     at com.sun.jersey.server.impl.uri.rules.RootResourceClassesRule.accept(RootResourceClassesRule.java:84)     at com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:1469)     at com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:1400)     at com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1349)     at com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1339)     at com.sun.jersey.spi.container.servlet.WebComponent.service(WebComponent.java:416)     at com.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:537)     at com.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:708)     at javax.servlet.http.HttpServlet.service(HttpServlet.java:770)     at org.apache.catalina.core.StandardWrapper.service(StandardWrapper.java:1550)     at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:281)     at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:175)     at org.apache.catalina.core.StandardPipeline.doInvoke(StandardPipeline.java:655)     at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:595)     at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:161)     at org.apache.catalina.connector.CoyoteAdapter.doService(CoyoteAdapter.java:331)     at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:231)     at com.sun.enterprise.v3.services.impl.ContainerMapper$AdapterCallable.call(ContainerMapper.java:317)     at com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:195)     at com.sun.grizzly.http.ProcessorTask.invokeAdapter(ProcessorTask.java:860)     at com.sun.grizzly.http.ProcessorTask.doProcess(ProcessorTask.java:757)     at com.sun.grizzly.http.ProcessorTask.process(ProcessorTask.java:1056)     at com.sun.grizzly.http.DefaultProtocolFilter.execute(DefaultProtocolFilter.java:229)     at com.sun.grizzly.DefaultProtocolChain.executeProtocolFilter(DefaultProtocolChain.java:137)     at com.sun.grizzly.DefaultProtocolChain.execute(DefaultProtocolChain.java:104)     at com.sun.grizzly.DefaultProtocolChain.execute(DefaultProtocolChain.java:90)     at com.sun.grizzly.http.HttpProtocolChain.execute(HttpProtocolChain.java:79)     at com.sun.grizzly.ProtocolChainContextTask.doCall(ProtocolChainContextTask.java:54)     at com.sun.grizzly.SelectionKeyContextTask.call(SelectionKeyContextTask.java:59)     at com.sun.grizzly.ContextTask.run(ContextTask.java:71)     at com.sun.grizzly.util.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:532)     at com.sun.grizzly.util.AbstractThreadPool$Worker.run(AbstractThreadPool.java:513)     at java.lang.Thread.run(Thread.java:745) |#] </code></pre>  <p>Looks like the running transaction was marked as rollback on the thread of execution and didn't finish, and after the deployment, all ejb calls on that thread would fail ?</p>  <p>Thanks for your help.</p>