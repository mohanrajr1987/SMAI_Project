<p>I am working with a data frame corresponding to the example below:</p>  <pre><code>set.seed(1) dta &lt;- data.frame("CatA" = rep(c("A","B","C"), 4), "CatNum" = rep(1:2,6),                   "SomeVal" = runif(12)) </code></pre>  <p>I would like to quickly build a data frame that would have sum values for all the combinations of the categories derived from the <code>CatA</code> and <code>CatNum</code> as well as for the categories derived from each column separately. On the primitive example above, for the first couple of combinations, this can be achieved with use of simple code:</p>  <pre><code>df_sums &lt;- data.frame(   "Category" = c("Total for A",                  "Total for A and 1",                  "Total for A and 2"),   "Sum" = c(sum(dta$SomeVal[dta$CatA == 'A']),             sum(dta$SomeVal[dta$CatA == 'A' &amp; dta$CatNum == 1]),             sum(dta$SomeVal[dta$CatA == 'A' &amp; dta$CatNum == 2])) ) </code></pre>  <p>This produces and informative data frame of sums:</p>  <pre><code>           Category       Sum 1       Total for A 2.1801780 2 Total for A and 1 1.2101839 3 Total for A and 2 0.9699941 </code></pre>  <p>This solution would be grossly inefficient when applied to a data frame with multiple categories. I would like to achieve the following:</p>  <ol> <li>Cycle through all the categories, including categories derived from each column separately as well as from both columns in the same time</li> <li>Achieve some flexibility with respect to how the function is applied, for instance I may want to apply <code>mean</code> instead of the <code>sum</code></li> <li>Save the <em>Total for</em> string a separate object that I could easily edit when applying other function than <code>sum</code>.</li> </ol>  <hr>  <p>I was initially thinking of using <code>dplyr</code>, on the lines:</p>  <pre><code>require(dplyr) df_sums_experiment &lt;- dta %&gt;%   group_by(CatA, CatNum) %&gt;%   summarise(TotVal = sum(SomeVal)) </code></pre>  <p>But it's not clear to me how I could apply multiple groupings simultaneously. As stated, I'm interested in grouping by each column separately and by the combination of both columns. I would also like to create a string column that would indicate what is combined and in what order.</p>