<p>This is something I haven't done before, so I might be doing it wrong to begin with, if I am, please let me know.</p>  <p>I created a root XML file with XDocument with:</p>  <pre><code>public void SaveReceipt(List&lt;ArticleFull&gt; articles) {     XDocument receipt = new XDocument(         new XDeclaration("1.0", "utf-8", null),         new XElement("FiscalRecipet")     );     ... } </code></pre>  <p>And then with  a for loop tried to iterate through the <code>articles</code> List so I can build a receipt XML file.</p>  <pre><code>for (int i = 0; i &lt; articles.Count; i++) {     int quantity = 1;     //This while loop just counts how many items are in a row     while(!(i + 1 &gt; articles.Count - 1))     {         if (articles[i].Id == articles[i + 1].Id)         {             quantity++;             i++;         }         else break;     }     var enternode = new XElement("FiscalItem",         new XElement("Name", articles[i].Name.ToString()),         new XElement("Price", articles[i].Price.ToString()),         new XElement("Quantity", quantity.ToString()),         new XElement("TaxGroup", articles[i].TaxGroup)     );     //Code missing here... } </code></pre>  <p>Now, as stated above, I have absolutely no idea how to connect one the <code>receipt</code> variable to the <code>enternode</code> variable.</p>  <p>The end XML file <em>should</em> look something like:</p>  <pre><code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; &lt;FiscalRecipet&gt;     &lt;FiscalItem&gt;         &lt;Name&gt;Coffee&lt;/Name&gt;         &lt;Price&gt;130.0&lt;/Price&gt;         &lt;Quantity&gt;1.0&lt;/Quantity&gt;         &lt;TaxGroup&gt;2&lt;/TaxGroup&gt;     &lt;/FiscalItem&gt;     &lt;FiscalItem&gt;         &lt;Name&gt;Chocolate&lt;/Name&gt;         &lt;Price&gt;350.0&lt;/Price&gt;         &lt;Quantity&gt;2.0&lt;/Quantity&gt;         &lt;TaxGroup&gt;3&lt;/TaxGroup&gt;     &lt;/FiscalItem&gt;     &lt;!-- etc... --&gt; &lt;/FiscalRecipet&gt; </code></pre>  <p>I tried searching for an answer by googling, but I didn't get very lucky, which is why I'm thinking I might be going in a wrong direction(?)</p>