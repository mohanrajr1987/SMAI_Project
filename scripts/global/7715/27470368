<p>Beginner to Lua (and programming) here. I'm trying to create a table and fill it with random integers, but I keep getting the "attempt to index a nil value" error. I had previously neglected to define the table map, so when I searched around here, I found that solution and added in <code>map = { }</code>. Unfortunately, this didn't fix the issue.</p>  <p>I suspect that the loop is trying to put random values into an undefined table, and that that is just not possible. How would I then go about putting an arbitrary amount of random numbers into a table?</p>  <p>Here is my code so far:</p>  <pre><code>map = { }  for k = 1, 20 do     for l = 1, 5 do         map[k][l] = math.random(0,3)     end end </code></pre>