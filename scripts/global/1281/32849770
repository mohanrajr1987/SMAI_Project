<p>I'm running Ansible 1.9.3 and have been unable to get the <a href="http://docs.ansible.com/ansible/playbooks_roles.html#role-dependencies" rel="nofollow">role dependency wheel/tire example</a> from the Ansible documentation working.</p>  <pre><code>$ ansible --version ansible 1.9.3   configured module search path = None </code></pre>  <p>Here are my files:</p>  <pre><code>$ find ./ -type f | while read f; do printf "# %s\n" "$f"; cat "$f"; printf "\n\n"; done  # ./inventory [webservers] example.com  # ./roles/app/meta/main.yml --- dependencies:   - { role: wheel, n: 1 }   - { role: wheel, n: 2 }   - { role: wheel, n: 3 }   - { role: wheel, n: 4 }  # ./roles/tire/tasks/main.yml - name: "tire {{ n }}"   command: "echo tire {{ n }}"  # ./roles/wheel/meta/main.yml --- allow_duplicates: yes dependencies:   - { role: tire }  # ./roles/wheel/tasks/main.yml - name: "wheel {{ n }}"   command: "echo wheel {{ n }}"  # ./site.yml --- - include: webservers.yml  # ./webservers.yml --- - hosts: webservers   roles:     - role: app </code></pre>  <p>So the <code>app</code> role depends on four instances of the <code>wheel</code> role, which in turn depend on the <code>tire</code> role.</p>  <p>However, running the playbook shows only one execution of the <code>tire</code> task:</p>  <pre><code>$ ansible-playbook -v -i inventory site.yml  PLAY [webservers] *************************************************************   GATHERING FACTS ***************************************************************  ok: [example.com]  TASK: [tire | tire 1] *********************************************************  changed: [example.com] =&gt; {"changed": true, "cmd": ["echo", "tire", "1"], "delta": "0:00:00.004721", "end": "2015-09-29 16:55:27.075745", "rc": 0, "start": "2015-09-29 16:55:27.071024", "stderr": "", "stdout": "tire 1", "warnings": []}  TASK: [wheel | wheel 1] *******************************************************  changed: [example.com] =&gt; {"changed": true, "cmd": ["echo", "wheel", "1"], "delta": "0:00:00.004355", "end": "2015-09-29 16:55:27.806182", "rc": 0, "start": "2015-09-29 16:55:27.801827", "stderr": "", "stdout": "wheel 1", "warnings": []}  TASK: [wheel | wheel 2] *******************************************************  changed: [example.com] =&gt; {"changed": true, "cmd": ["echo", "wheel", "2"], "delta": "0:00:00.005012", "end": "2015-09-29 16:55:28.539339", "rc": 0, "start": "2015-09-29 16:55:28.534327", "stderr": "", "stdout": "wheel 2", "warnings": []}  TASK: [wheel | wheel 3] *******************************************************  changed: [example.com] =&gt; {"changed": true, "cmd": ["echo", "wheel", "3"], "delta": "0:00:00.003573", "end": "2015-09-29 16:55:29.259193", "rc": 0, "start": "2015-09-29 16:55:29.255620", "stderr": "", "stdout": "wheel 3", "warnings": []}  TASK: [wheel | wheel 4] *******************************************************  changed: [example.com] =&gt; {"changed": true, "cmd": ["echo", "wheel", "4"], "delta": "0:00:00.003541", "end": "2015-09-29 16:55:29.981742", "rc": 0, "start": "2015-09-29 16:55:29.978201", "stderr": "", "stdout": "wheel 4", "warnings": []}  PLAY RECAP ********************************************************************  example.com : ok=6    changed=5    unreachable=0    failed=0    </code></pre>  <p>I've tried various combinations of <code>allow_duplicates: yes|no</code> in the two <code>meta/main.yml</code> files, but get the same result every time. The goal is to have four executions of both the <code>wheel</code> and <code>tire</code> tasks, with <code>n</code> equal to 1,2,3,4.</p>