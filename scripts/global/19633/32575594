<p>I'm using the Ruby MongoDB Driver to interact with a Mongo database from a Sinatra app. I'm in the process of performing some bulk update operations and I have the need to update a document field's value based on the current value of the field in the found document.</p>  <p>I would like to do something like this:</p>  <pre><code>my_bulk_op.find({     'foo' =&gt; 'bar' }).update({     '$set' =&gt; {         'my_field' =&gt; my_field += 1 # how can I get my_field's current value here?     } }) </code></pre>  <p>Is such an approach possible? I realize I can pre-find all the values and then perform the update, but in a lot of ways that defeats the purpose of the bulk operation</p>