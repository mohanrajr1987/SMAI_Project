<p>I am using padrino websockets (<a href="https://github.com/dariocravero/padrino-websockets" rel="nofollow">https://github.com/dariocravero/padrino-websockets</a>) to provide a chat system for my site, and it works great on my local machine. However, after deploying to heroku (free), the websocket won't make a connection and will return </p>  <pre><code>failed: Connection closed before receiving a handshake response </code></pre>  <p>It works fine on localhost, where I am using this to connect:</p>  <pre><code>connection = new WebSocket('ws://localhost:3000/channel'); </code></pre>  <p>But, when used on heroku with this:</p>  <pre><code>connection = new WebSocket('ws://******.herokuapp.com:3000/channel'); </code></pre>  <p>it returns a handshake error (above)</p>  <p><strong>My implementation server side</strong></p>  <pre><code>websocket :channel do   on :newmessage do |message|     currentAccount = Account.find_by(lastLoginIP: message["ip"]) rescue nil      if currentAccount != nil       broadcast :channel, {         "name" =&gt; currentAccount.nickname,         "url" =&gt; currentAccount.url,         "image" =&gt;  currentAccount.image,         "chatmessage" =&gt; message["chatmessage"][0..80]         }     end    end end </code></pre>  <p>inside my main Padrino app.rb, and this in my Procfile. What is going on?</p>  <pre><code>web: bundle exec puma -t 1:16 -p ${PORT:-3000} -e ${RACK_ENV:-production} </code></pre>