<p>I managed to write a video recording demo, my implementation is the same as ContinuousCaptureActivity of Grafika.    In ContinuousCaptureActivity.java, The author create egl object in SurfaceCreated which run in UI thread and call drawFrame also in UI thread. He did 2 things in drawFrame, draw frame to screen and push data to encoder.</p>  <p>See the code here: <a href="https://github.com/google/grafika/blob/master/src/com/android/grafika/ContinuousCaptureActivity.java" rel="nofollow">ContinuousCaptureActivity</a></p>  <p>Because I set the encoding video size to 1280*720 which is large, the camera preview is not smooth and fps of target video is low.    I plan to create a new thread to do the encoding work but I do not know how to handle with multithread of opengl es. Who can give some advice?</p>  <p>Add: I found that drawFrame of Texture2dProgram use GLES20.glDrawArrays, Will GLES20.glDrawElements get a better performance?</p>