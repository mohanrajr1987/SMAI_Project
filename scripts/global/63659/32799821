<p>I use geometry.js &amp; ThreeBSP.js and I want to subtract textGeometry with a cube. The text appear in the scene but when I want to subtract I have a problem. In the console I have the following error:</p>  <blockquote>   <p>"Cannot read property 'faces' of undefined and the line concerned is : window.ThreeBSP.ThreeBSP.toTree @   ThreeBSP.js:47".</p> </blockquote>  <p>index.html</p>  <pre><code>var mesh = new THREE.Object3D(); mesh.add(new THREE.LineSegments(new THREE.Geometry(), new THREE.MeshBasicMaterial())); mesh.add(new THREE.Mesh(new THREE.Geometry(), new THREE.MeshBasicMaterial())); var options = chooseFromHash(mesh); var textBSP = new ThreeBSP(mesh); var loadedMeshBSP = new ThreeBSP(cube); var intersectionBSP = loadedMeshBSP.subtract(textBSP); var meshFinal = intersectionBSP.toMesh(meshMaterial); scene.add(meshFinal); </code></pre>  <p>geometry.js</p>  <pre><code>function generateGeometry() {    var geometry = new THREE.TextGeometry(data.text, data);    geometry.center();    updateGroupGeometry(mesh, geometry);  }  mesh.children[0].visible = false;  guiTexte.add(data, 'text').onChange(generateGeometry);  generateGeometry(); </code></pre>  <p>ThreeBSP.js  the line 47</p>  <pre><code>  _ref = geometry.faces; </code></pre>