<p>We are having som problem with our function. We want the function count_child to return the value count which will be different depending on which $Parent and $choosenCategory you input (these are sent to the document using ajax). However, the function returns nothing, not null, it is just empty! We don't understand this since it echos out the right $count before the return!</p>  <p>Thanks in advance</p>  <pre><code>function count_child($Parent, $choosenCategory){     $count = 0;      foreach ($_SESSION['items'][$Parent]['Children'] as $ChildID){          $DatabaseID      = $ChildID;         $ItemCategory    = $_SESSION['items'][$DatabaseID]['ItemCategory'];         $ItemName        = $_SESSION['items'][$DatabaseID]['ItemName'];         $ItemStatus      = $_SESSION['items'][$DatabaseID]['ItemStatus'];         $ParentID        = $_SESSION['items'][$Parent]['DatabaseID'];         $Children        = $_SESSION['items'][$DatabaseID]['Children'];         $Dependencies    = $_SESSION['items'][$DatabaseID]['Dependencies'];          if ($ItemCategory == $choosenCategory){             $count++;         }          if ($ItemCategory !== "RWP" &amp;&amp; $ItemCategory !== "US" /*&amp;&amp; $levels === "all"*/) {             $array = array();             count_child($ChildID, $choosenCategory);             }      }     echo $count; //echos the correct $count     return $count; }  for($i = 0; $i &lt; count($parentID); $i++){      $Parent = $parentID[$i];     $amount = count_child($Parent, $choosenCategory); // we believe that this is where something goes wrong. The function returns nothing for $amount      $hej = array('DatabaseID' =&gt; "$Parent", "$choosenCategory" =&gt; "$amount"); }  $json = json_encode($hej); echo $json; </code></pre>