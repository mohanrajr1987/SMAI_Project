<p>New to this javascript and jquery have bee doing most of my coding in php, Have been banging my head against the wall for about a week now trying to get this to work, I have looked through out this site and googled many others with this issues!</p>  <p>here is my complete function I think it is pretty self explanatory</p>  <pre><code>function get_all_items(config_d) { var con = config_d.split(',');  var cat = $("#category").val(); var color = $("#C"+cat+"").val(); var range = $("#range").val(); var total = $("#Vtotal").val();  var Prod_arr = ""; var Qty_arr = "";   $.get('tables/HTL_products.txt',  function(data)  {      var lines = data.split('\n');      for (var i=0; i&lt;=lines.length; i++)     {         var elements = lines[i].split('~');          var el = elements[0].split('_');          var Arange = el[0];          var Aproduct = elements[0];         var Aconfig = elements[1];         var Acat = elements[2];         var Acolor = elements[3];          for (var c=0; c&lt;con.length; c++)         {             var config22 = con[c];              var config1 = config22.replace("X", "V");              var Vchk = $('#'+range+config1+'').is(':checked');              if (Vchk==true)             {                 var config23 = config1;                 var config2 = config23.replace("V", "X");                 var q_id = "#Q_"+Arange+"_"+config2+"";                 var qty = $(""+q_id+"").val();                  if (qty=="") { qty=0; }                 var qq = parseInt(""+qty+"");             }             else             {                 var config23 = config22;                 var q_id = "#Q_"+Arange+"_"+config22+"";                 var qty = $(""+q_id+"").val();                  if (qty=="") { qty=0; }                 var qq = parseInt(""+qty+"");             }                if (range==Arange &amp;&amp; config23==Aconfig &amp;&amp; cat==Acat &amp;&amp; qq &gt; 0 &amp;&amp; color==Acolor )             {                 // these are the two strings I wish to use outside of this function!!!                 var Prod_arr = Prod_arr+','+Aproduct;                 var Qty_arr = Qty_arr+','+qq;              }         }      } });        // At the moment am only trying to display variables     // but wish to use variables here alert(""+Prod_arr+"~"+Qty_arr+"");      // the plan here to pass the variables and open a php page     // window.open("test.php?total="+total+"&amp;aa="+Prod_arr+"&amp;qq="+Qty_arr+"","_self");    }  </code></pre>  <p>I know this may be a bit clunky but it all seems to work except for the use of the variables at end of parent function??</p>  <p>Thanks in advance for any assistance</p>